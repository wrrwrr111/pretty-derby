import{f as Gt,g as ee,u as tt,r as oe,j as P,B as ie,h as rr,C as We,t as nr,i as le,k as rt,l as ir,m as or,a as sr,R as Ye}from"./index-3yd_dm4Y.js";import{B as ar,E as Xe,S as Ve,R as lr,D as ct,a as dt,b as ft,c as pt,P as ur}from"./PlayerList-B-CNbj7P.js";import{s as cr,P as nt,a as it,b as ot,A as dr,c as fr,d as pr,e as hr,f as gr,g as mr,h as yr,i as vr,R as br}from"./index-DfQaVUSW.js";import{a as we,S as wr}from"./SupportListWithFilter-OMGYHSZC.js";import{BuffButton as xr}from"./buff-CYu3PC-L.js";import{L as ht,C as Rr}from"./label-sJOf3gfQ.js";import{r as ge,H as Sr}from"./Helmet-CxUaRvRG.js";import"./useViewport-DFWW1tkK.js";const Ke={saveDeck:(t,u,s)=>{const l={imgUrls:[],supportsId:[],tags:[]};return u.id&&(l.playerId=u.id,l.imgUrls.push(u.imgUrl)),[0,1,2,3,4,5].forEach(x=>{var m;(m=s[x])!=null&&m.id?(l.imgUrls.push(s[x].imgUrl),l.supportsId.push(s[x].id)):l.supportsId.push(null)}),t?(ee.chain.get("myDecks").find({id:t.id}).assign(l),ee.write()):(l.id=cr.generate(),ee.chain.get("myDecks").push(l),ee.write()),[...ee.chain.get("myDecks").value()]},deleteDeck:t=>(ee.chain.get("myDecks").remove({id:t.id}),ee.write(),[...ee.chain.get("myDecks").value()]),shareDeck:async t=>{var l;const u={...t,id:t.playerId+t.supportsId.sort((x,m)=>(x||"").localeCompare(m||"")).join("")};return(l=(await Gt.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/addDeck",u)).data)==null?void 0:l.msg}},Dr=({player:t,supports:u,loadDeck:s})=>{const{t:l}=tt(),[x,m]=oe.useState(ee.chain.get("myDecks").value()),[y,_]=oe.useState({type:"save",open:!1}),w=async()=>{let C=x,R="";switch(y.type){case"save":C=Ke.saveDeck(y.deck||null,t,u),R=l("卡组已保存");break;case"delete":C=Ke.deleteDeck(y.deck),R=l("卡组已删除");break;case"share":R=await Ke.shareDeck(y.deck)||l("卡组已分享");break}m(C),_({...y,open:!1}),nr.info(R)},v=(C,R)=>{ee.chain.get("myDecks").find({id:R.id}).assign({tags:C}),ee.write(),m([...ee.chain.get("myDecks").value()])};return P.jsxs(P.Fragment,{children:[P.jsxs(nt,{children:[P.jsx(it,{asChild:!0,children:P.jsx(ie,{size:"sm",variant:"outline",children:l("我的卡组")})}),P.jsx(ot,{className:"w-[800px] max-h-[800px] overflow-auto",children:P.jsxs("div",{className:"space-y-4",children:[P.jsx(ie,{size:"sm",variant:"outline",onClick:()=>_({type:"save",open:!0}),children:l("保存为新卡组")}),x.map(C=>P.jsxs("div",{className:"w-full grid grid-cols-8 gap-2",children:[P.jsxs("div",{className:"col-span-full space-y-2",children:[P.jsx(ht,{children:l("标签")}),P.jsx("div",{className:"flex flex-wrap gap-2",children:rr.map(R=>{var S;return P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx(Rr,{id:`${C.id}-${R.value}`,checked:((S=C.tags)==null?void 0:S.includes(R.value))||!1,onCheckedChange:E=>{const D=E?[...C.tags||[],R.value]:(C.tags||[]).filter(c=>c!==R.value);v(D,C)}}),P.jsx(ht,{htmlFor:`${C.id}-${R.value}`,children:R.label})]},R.value)})})]}),C.imgUrls.map(R=>P.jsx("div",{className:"col-span-1",children:P.jsx("img",{src:We+R,alt:R,className:"w-full"})},R)),P.jsxs("div",{className:"col-span-1 space-y-2",children:[P.jsx(ie,{variant:"outline",size:"sm",onClick:()=>s(C),children:l("读取卡组")}),P.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>_({type:"save",deck:C,open:!0}),children:l("覆盖卡组")}),P.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>_({type:"delete",deck:C,open:!0}),children:l("删除卡组")}),P.jsx(ie,{variant:"outline",size:"sm",onClick:()=>_({type:"share",deck:C,open:!0}),children:l("分享卡组")})]})]},C.id))]})})]}),P.jsx(dr,{open:y.open,onOpenChange:C=>_({...y,open:C}),children:P.jsxs(fr,{children:[P.jsxs(pr,{children:[P.jsx(hr,{children:l("确认操作")}),P.jsxs(gr,{children:[y.type==="save"&&l("确认覆盖卡组？"),y.type==="delete"&&l("确认删除卡组？"),y.type==="share"&&l("确认分享卡组？")]})]}),P.jsxs(mr,{children:[P.jsx(yr,{children:l("取消")}),P.jsx(vr,{onClick:w,children:l("确认")})]})]})})]})},_r=({player:t,loadDeck:u})=>{const{t:s}=tt(),[l,x]=oe.useState([]),[m,y]=oe.useState(""),_=async()=>{if(m!==t.id){const w=t?{playerId:t.id}:{},v=await Gt.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/searchDeck",w);x(v.data||[]),y(t.id)}};return P.jsxs(nt,{onOpenChange:w=>w&&_(),children:[P.jsx(it,{asChild:!0,children:P.jsx(ie,{size:"sm",variant:"outline",children:s("推荐卡组")})}),P.jsx(ot,{className:"w-[800px] max-h-[800px] overflow-auto",children:P.jsx("div",{className:"space-y-4",children:l.map(w=>{var v;return P.jsxs("div",{className:"w-full grid grid-cols-8 gap-2",children:[P.jsx("div",{className:"col-span-full space-y-2",children:(v=w.tags)==null?void 0:v.map(C=>P.jsx(ar,{variant:"outline",children:C},C))}),w.imgUrls.map(C=>P.jsx("div",{className:"col-span-1",children:P.jsx("img",{src:We+C,alt:C,className:"w-full"})},C)),P.jsx("div",{className:"col-span-1",children:P.jsx(ie,{variant:"outline",size:"sm",onClick:()=>u(w),children:s("读取卡组")})})]},w.id)})})})]})};var Ze={exports:{}},De={},Ne={exports:{}},Or=Ne.exports,gt;function st(){return gt||(gt=1,function(t,u){(function(s,l){l(u)})(Or,function(s){function l(L){return function(K,p,g,b,z,H,N){return L(K,p,N)}}function x(L){return function(K,p,g,b){if(!K||!p||typeof K!="object"||typeof p!="object")return L(K,p,g,b);var z=b.get(K),H=b.get(p);if(z&&H)return z===p&&H===K;b.set(K,p),b.set(p,K);var N=L(K,p,g,b);return b.delete(K),b.delete(p),N}}function m(L,$){var K={};for(var p in L)K[p]=L[p];for(var p in $)K[p]=$[p];return K}function y(L){return L.constructor===Object||L.constructor==null}function _(L){return typeof L.then=="function"}function w(L,$){return L===$||L!==L&&$!==$}var v="[object Arguments]",C="[object Boolean]",R="[object Date]",S="[object RegExp]",E="[object Map]",D="[object Number]",c="[object Object]",e="[object Set]",i="[object String]",r=Object.prototype.toString;function o(L){var $=L.areArraysEqual,K=L.areDatesEqual,p=L.areMapsEqual,g=L.areObjectsEqual,b=L.areRegExpsEqual,z=L.areSetsEqual,H=L.createIsNestedEqual,N=H(I);function I(W,F,J){if(W===F)return!0;if(!W||!F||typeof W!="object"||typeof F!="object")return W!==W&&F!==F;if(y(W)&&y(F))return g(W,F,N,J);var me=Array.isArray(W),ae=Array.isArray(F);if(me||ae)return me===ae&&$(W,F,N,J);var ne=r.call(W);return ne!==r.call(F)?!1:ne===R?K(W,F,N,J):ne===S?b(W,F,N,J):ne===E?p(W,F,N,J):ne===e?z(W,F,N,J):ne===c||ne===v?_(W)||_(F)?!1:g(W,F,N,J):ne===C||ne===D||ne===i?w(W.valueOf(),F.valueOf()):!1}return I}function f(L,$,K,p){var g=L.length;if($.length!==g)return!1;for(;g-- >0;)if(!K(L[g],$[g],g,g,L,$,p))return!1;return!0}var a=x(f);function d(L,$){return w(L.valueOf(),$.valueOf())}function n(L,$,K,p){var g=L.size===$.size;if(!g)return!1;if(!L.size)return!0;var b={},z=0;return L.forEach(function(H,N){if(g){var I=!1,W=0;$.forEach(function(F,J){!I&&!b[W]&&(I=K(N,J,z,W,L,$,p)&&K(H,F,N,J,L,$,p))&&(b[W]=!0),W++}),z++,g=I}}),g}var h=x(n),O="_owner",M=Object.prototype.hasOwnProperty;function j(L,$,K,p){var g=Object.keys(L),b=g.length;if(Object.keys($).length!==b)return!1;for(var z;b-- >0;){if(z=g[b],z===O){var H=!!L.$$typeof,N=!!$.$$typeof;if((H||N)&&H!==N)return!1}if(!M.call($,z)||!K(L[z],$[z],z,z,L,$,p))return!1}return!0}var T=x(j);function k(L,$){return L.source===$.source&&L.flags===$.flags}function A(L,$,K,p){var g=L.size===$.size;if(!g)return!1;if(!L.size)return!0;var b={};return L.forEach(function(z,H){if(g){var N=!1,I=0;$.forEach(function(W,F){!N&&!b[I]&&(N=K(z,W,H,F,L,$,p))&&(b[I]=!0),I++}),g=N}}),g}var B=x(A),G=Object.freeze({areArraysEqual:f,areDatesEqual:d,areMapsEqual:n,areObjectsEqual:j,areRegExpsEqual:k,areSetsEqual:A,createIsNestedEqual:l}),Y=Object.freeze({areArraysEqual:a,areDatesEqual:d,areMapsEqual:h,areObjectsEqual:T,areRegExpsEqual:k,areSetsEqual:B,createIsNestedEqual:l}),U=o(G);function Z(L,$){return U(L,$,void 0)}var q=o(m(G,{createIsNestedEqual:function(){return w}}));function X(L,$){return q(L,$,void 0)}var te=o(Y);function Q(L,$){return te(L,$,new WeakMap)}var se=o(m(Y,{createIsNestedEqual:function(){return w}}));function fe(L,$){return se(L,$,new WeakMap)}function Se(L){return o(m(G,L(G)))}function Fe(L){var $=o(m(Y,L(Y)));return function(K,p,g){return g===void 0&&(g=new WeakMap),$(K,p,g)}}s.circularDeepEqual=Q,s.circularShallowEqual=fe,s.createCustomCircularEqual=Fe,s.createCustomEqual=Se,s.deepEqual=Z,s.sameValueZeroEqual=w,s.shallowEqual=X,Object.defineProperty(s,"__esModule",{value:!0})})}(Ne,Ne.exports)),Ne.exports}var qe={exports:{}},mt;function Ge(){if(mt)return qe.exports;mt=1;function t(s){var l,x,m="";if(typeof s=="string"||typeof s=="number")m+=s;else if(typeof s=="object")if(Array.isArray(s)){var y=s.length;for(l=0;l<y;l++)s[l]&&(x=t(s[l]))&&(m&&(m+=" "),m+=x)}else for(x in s)s[x]&&(m&&(m+=" "),m+=x);return m}function u(){for(var s,l,x=0,m="",y=arguments.length;x<y;x++)(s=arguments[x])&&(l=t(s))&&(m&&(m+=" "),m+=l);return m}return qe.exports=u,qe.exports.clsx=u,qe.exports}var V={},Je,yt;function Pr(){return yt||(yt=1,Je=function(u,s,l){return u===s?!0:u.className===s.className&&l(u.style,s.style)&&u.width===s.width&&u.autoSize===s.autoSize&&u.cols===s.cols&&u.draggableCancel===s.draggableCancel&&u.draggableHandle===s.draggableHandle&&l(u.verticalCompact,s.verticalCompact)&&l(u.compactType,s.compactType)&&l(u.layout,s.layout)&&l(u.margin,s.margin)&&l(u.containerPadding,s.containerPadding)&&u.rowHeight===s.rowHeight&&u.maxRows===s.maxRows&&u.isBounded===s.isBounded&&u.isDraggable===s.isDraggable&&u.isResizable===s.isResizable&&u.allowOverlap===s.allowOverlap&&u.preventCollision===s.preventCollision&&u.useCSSTransforms===s.useCSSTransforms&&u.transformScale===s.transformScale&&u.isDroppable===s.isDroppable&&l(u.resizeHandles,s.resizeHandles)&&l(u.resizeHandle,s.resizeHandle)&&u.onLayoutChange===s.onLayoutChange&&u.onDragStart===s.onDragStart&&u.onDrag===s.onDrag&&u.onDragStop===s.onDragStop&&u.onResizeStart===s.onResizeStart&&u.onResize===s.onResize&&u.onResizeStop===s.onResizeStop&&u.onDrop===s.onDrop&&l(u.droppingItem,s.droppingItem)&&l(u.innerRef,s.innerRef)}),Je}var vt;function Re(){if(vt)return V;vt=1,Object.defineProperty(V,"__esModule",{value:!0}),V.bottom=l,V.childrenEqual=w,V.cloneLayout=x,V.cloneLayoutItem=_,V.collides=C,V.compact=R,V.compactItem=D,V.compactType=L,V.correctBounds=c,V.fastPositionEqual=v,V.fastRGLPropsEqual=void 0,V.getAllCollisions=r,V.getFirstCollision=i,V.getLayoutItem=e,V.getStatics=o,V.modifyLayout=m,V.moveElement=f,V.moveElementAwayFromCollision=a,V.noop=void 0,V.perc=d,V.resizeItemInDirection=q,V.setTopLeft=te,V.setTransform=X,V.sortLayoutItems=Q,V.sortLayoutItemsByColRow=fe,V.sortLayoutItemsByRowCol=se,V.synchronizeLayoutWithChildren=Se,V.validateLayout=Fe,V.withLayoutItem=y;var t=st(),u=s(le());function s(p){return p&&p.__esModule?p:{default:p}}function l(p){let g=0,b;for(let z=0,H=p.length;z<H;z++)b=p[z].y+p[z].h,b>g&&(g=b);return g}function x(p){const g=Array(p.length);for(let b=0,z=p.length;b<z;b++)g[b]=_(p[b]);return g}function m(p,g){const b=Array(p.length);for(let z=0,H=p.length;z<H;z++)g.i===p[z].i?b[z]=g:b[z]=p[z];return b}function y(p,g,b){let z=e(p,g);return z?(z=b(_(z)),p=m(p,z),[p,z]):[p,null]}function _(p){return{w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,minW:p.minW,maxW:p.maxW,minH:p.minH,maxH:p.maxH,moved:!!p.moved,static:!!p.static,isDraggable:p.isDraggable,isResizable:p.isResizable,resizeHandles:p.resizeHandles,isBounded:p.isBounded}}function w(p,g){return(0,t.deepEqual)(u.default.Children.map(p,b=>b==null?void 0:b.key),u.default.Children.map(g,b=>b==null?void 0:b.key))&&(0,t.deepEqual)(u.default.Children.map(p,b=>b==null?void 0:b.props["data-grid"]),u.default.Children.map(g,b=>b==null?void 0:b.props["data-grid"]))}V.fastRGLPropsEqual=Pr();function v(p,g){return p.left===g.left&&p.top===g.top&&p.width===g.width&&p.height===g.height}function C(p,g){return!(p.i===g.i||p.x+p.w<=g.x||p.x>=g.x+g.w||p.y+p.h<=g.y||p.y>=g.y+g.h)}function R(p,g,b,z){const H=o(p),N=Q(p,g),I=Array(p.length);for(let W=0,F=N.length;W<F;W++){let J=_(N[W]);J.static||(J=D(H,J,g,b,N,z),H.push(J)),I[p.indexOf(N[W])]=J,J.moved=!1}return I}const S={x:"w",y:"h"};function E(p,g,b,z){const H=S[z];g[z]+=1;const N=p.map(I=>I.i).indexOf(g.i);for(let I=N+1;I<p.length;I++){const W=p[I];if(!W.static){if(W.y>g.y+g.h)break;C(g,W)&&E(p,W,b+g[H],z)}}g[z]=b}function D(p,g,b,z,H,N){const I=b==="vertical",W=b==="horizontal";if(I)for(g.y=Math.min(l(p),g.y);g.y>0&&!i(p,g);)g.y--;else if(W)for(;g.x>0&&!i(p,g);)g.x--;let F;for(;(F=i(p,g))&&!(b===null&&N);)if(W?E(H,g,F.x+F.w,"x"):E(H,g,F.y+F.h,"y"),W&&g.x+g.w>z)for(g.x=z-g.w,g.y++;g.x>0&&!i(p,g);)g.x--;return g.y=Math.max(g.y,0),g.x=Math.max(g.x,0),g}function c(p,g){const b=o(p);for(let z=0,H=p.length;z<H;z++){const N=p[z];if(N.x+N.w>g.cols&&(N.x=g.cols-N.w),N.x<0&&(N.x=0,N.w=g.cols),!N.static)b.push(N);else for(;i(b,N);)N.y++}return p}function e(p,g){for(let b=0,z=p.length;b<z;b++)if(p[b].i===g)return p[b]}function i(p,g){for(let b=0,z=p.length;b<z;b++)if(C(p[b],g))return p[b]}function r(p,g){return p.filter(b=>C(b,g))}function o(p){return p.filter(g=>g.static)}function f(p,g,b,z,H,N,I,W,F){if(g.static&&g.isDraggable!==!0||g.y===z&&g.x===b)return p;`${g.i}${String(b)}${String(z)}${g.x}${g.y}`;const J=g.x,me=g.y;typeof b=="number"&&(g.x=b),typeof z=="number"&&(g.y=z),g.moved=!0;let ae=Q(p,I);(I==="vertical"&&typeof z=="number"?me>=z:I==="horizontal"&&typeof b=="number"?J>=b:!1)&&(ae=ae.reverse());const be=r(ae,g),Le=be.length>0;if(Le&&F)return x(p);if(Le&&N)return`${g.i}`,g.x=J,g.y=me,g.moved=!1,p;for(let Ue=0,tr=be.length;Ue<tr;Ue++){const ye=be[Ue];`${g.i}${g.x}${g.y}${ye.i}${ye.x}${ye.y}`,!ye.moved&&(ye.static?p=a(p,ye,g,H,I):p=a(p,g,ye,H,I))}return p}function a(p,g,b,z,H,N){const I=H==="horizontal",W=H==="vertical",F=g.static;if(z){z=!1;const ae={x:I?Math.max(g.x-b.w,0):b.x,y:W?Math.max(g.y-b.h,0):b.y,w:b.w,h:b.h,i:"-1"},ne=i(p,ae),be=ne&&ne.y+ne.h>g.y,Le=ne&&g.x+g.w>ne.x;if(ne){if(be&&W)return f(p,b,void 0,g.y+1,z,F,H);if(be&&H==null)return g.y=b.y,b.y=b.y+b.h,p;if(Le&&I)return f(p,g,b.x,void 0,z,F,H)}else return`${b.i}${ae.x}${ae.y}`,f(p,b,I?ae.x:void 0,W?ae.y:void 0,z,F,H)}const J=I?b.x+1:void 0,me=W?b.y+1:void 0;return J==null&&me==null?p:f(p,b,I?b.x+1:void 0,W?b.y+1:void 0,z,F,H)}function d(p){return p*100+"%"}const n=(p,g,b,z)=>p+b>z?g:b,h=(p,g,b)=>p<0?g:b,O=p=>Math.max(0,p),M=p=>Math.max(0,p),j=(p,g,b)=>{let{left:z,height:H,width:N}=g;const I=p.top-(H-p.height);return{left:z,width:N,height:h(I,p.height,H),top:M(I)}},T=(p,g,b)=>{let{top:z,left:H,height:N,width:I}=g;return{top:z,height:N,width:n(p.left,p.width,I,b),left:O(H)}},k=(p,g,b)=>{let{top:z,height:H,width:N}=g;const I=p.left-(N-p.width);return{height:H,width:I<0?p.width:n(p.left,p.width,N,b),top:M(z),left:O(I)}},A=(p,g,b)=>{let{top:z,left:H,height:N,width:I}=g;return{width:I,left:H,height:h(z,p.height,N),top:M(z)}},Z={n:j,ne:function(){return j(arguments.length<=0?void 0:arguments[0],T(...arguments))},e:T,se:function(){return A(arguments.length<=0?void 0:arguments[0],T(...arguments))},s:A,sw:function(){return A(arguments.length<=0?void 0:arguments[0],k(...arguments))},w:k,nw:function(){return j(arguments.length<=0?void 0:arguments[0],k(...arguments))}};function q(p,g,b,z){const H=Z[p];return H?H(g,{...g,...b},z):b}function X(p){let{top:g,left:b,width:z,height:H}=p;const N=`translate(${b}px,${g}px)`;return{transform:N,WebkitTransform:N,MozTransform:N,msTransform:N,OTransform:N,width:`${z}px`,height:`${H}px`,position:"absolute"}}function te(p){let{top:g,left:b,width:z,height:H}=p;return{top:`${g}px`,left:`${b}px`,width:`${z}px`,height:`${H}px`,position:"absolute"}}function Q(p,g){return g==="horizontal"?fe(p):g==="vertical"?se(p):p}function se(p){return p.slice(0).sort(function(g,b){return g.y>b.y||g.y===b.y&&g.x>b.x?1:g.y===b.y&&g.x===b.x?0:-1})}function fe(p){return p.slice(0).sort(function(g,b){return g.x>b.x||g.x===b.x&&g.y>b.y?1:-1})}function Se(p,g,b,z,H){p=p||[];const N=[];u.default.Children.forEach(g,W=>{if((W==null?void 0:W.key)==null)return;const F=e(p,String(W.key)),J=W.props["data-grid"];F&&J==null?N.push(_(F)):J?N.push(_({...J,i:W.key})):N.push(_({w:1,h:1,x:0,y:l(N),i:String(W.key)}))});const I=c(N,{cols:b});return H?I:R(I,z,b)}function Fe(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const b=["x","y","w","h"];if(!Array.isArray(p))throw new Error(g+" must be an array!");for(let z=0,H=p.length;z<H;z++){const N=p[z];for(let I=0;I<b.length;I++){const W=b[I],F=N[W];if(typeof F!="number"||Number.isNaN(F))throw new Error(`ReactGridLayout: ${g}[${z}].${W} must be a number! Received: ${F} (${typeof F})`)}if(typeof N.i<"u"&&typeof N.i!="string")throw new Error(`ReactGridLayout: ${g}[${z}].i must be a string! Received: ${N.i} (${typeof N.i})`)}}function L(p){const{verticalCompact:g,compactType:b}=p||{};return g===!1?null:b}function $(){}const K=()=>{};return V.noop=K,V}var ce={},bt;function at(){if(bt)return ce;bt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.calcGridColWidth=t,ce.calcGridItemPosition=s,ce.calcGridItemWHPx=u,ce.calcWH=x,ce.calcXY=l,ce.clamp=m;function t(y){const{margin:_,containerPadding:w,containerWidth:v,cols:C}=y;return(v-_[0]*(C-1)-w[0]*2)/C}function u(y,_,w){return Number.isFinite(y)?Math.round(_*y+Math.max(0,y-1)*w):y}function s(y,_,w,v,C,R){const{margin:S,containerPadding:E,rowHeight:D}=y,c=t(y),e={};return R&&R.resizing?(e.width=Math.round(R.resizing.width),e.height=Math.round(R.resizing.height)):(e.width=u(v,c,S[0]),e.height=u(C,D,S[1])),R&&R.dragging?(e.top=Math.round(R.dragging.top),e.left=Math.round(R.dragging.left)):R&&R.resizing&&typeof R.resizing.top=="number"&&typeof R.resizing.left=="number"?(e.top=Math.round(R.resizing.top),e.left=Math.round(R.resizing.left)):(e.top=Math.round((D+S[1])*w+E[1]),e.left=Math.round((c+S[0])*_+E[0])),e}function l(y,_,w,v,C){const{margin:R,containerPadding:S,cols:E,rowHeight:D,maxRows:c}=y,e=t(y);let i=Math.round((w-S[0])/(e+R[0])),r=Math.round((_-S[1])/(D+R[1]));return i=m(i,0,E-v),r=m(r,0,c-C),{x:i,y:r}}function x(y,_,w,v,C,R){const{margin:S,maxRows:E,cols:D,rowHeight:c}=y,e=t(y);let i=Math.round((_+S[0])/(e+S[0])),r=Math.round((w+S[1])/(c+S[1])),o=m(i,0,D-v),f=m(r,0,E-C);return["sw","w","nw"].indexOf(R)!==-1&&(o=m(i,0,D)),["nw","n","ne"].indexOf(R)!==-1&&(f=m(r,0,E)),{w:o,h:f}}function m(y,_,w){return Math.max(Math.min(y,w),_)}return ce}var _e={},Oe={exports:{}},Qe={},re={},pe={},wt;function Be(){if(wt)return pe;wt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.dontSetMe=x,pe.findInArray=t,pe.int=l,pe.isFunction=u,pe.isNum=s;function t(m,y){for(let _=0,w=m.length;_<w;_++)if(y.apply(y,[m[_],_,m]))return m[_]}function u(m){return typeof m=="function"||Object.prototype.toString.call(m)==="[object Function]"}function s(m){return typeof m=="number"&&!isNaN(m)}function l(m){return parseInt(m,10)}function x(m,y,_){if(m[y])return new Error(`Invalid prop ${y} passed to ${_} - do not set this, set it on the child.`)}return pe}var he={},xt;function Cr(){if(xt)return he;xt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.browserPrefixToKey=s,he.browserPrefixToStyle=l,he.default=void 0,he.getPrefix=u;const t=["Moz","Webkit","O","ms"];function u(){var _,w;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const y=(w=(_=window.document)==null?void 0:_.documentElement)==null?void 0:w.style;if(!y||m in y)return"";for(let v=0;v<t.length;v++)if(s(m,t[v])in y)return t[v];return""}function s(m,y){return y?`${y}${x(m)}`:m}function l(m,y){return y?`-${y.toLowerCase()}-${m}`:m}function x(m){let y="",_=!0;for(let w=0;w<m.length;w++)_?(y+=m[w].toUpperCase(),_=!1):m[w]==="-"?_=!0:y+=m[w];return y}return he.default=u(),he}var Rt;function lt(){if(Rt)return re;Rt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.addClassName=a,re.addEvent=y,re.addUserSelectStyles=r,re.createCSSTransform=E,re.createSVGTransform=D,re.getTouch=e,re.getTouchIdentifier=i,re.getTranslation=c,re.innerHeight=C,re.innerWidth=R,re.matchesSelector=x,re.matchesSelectorAndParentsTo=m,re.offsetXYFromParent=S,re.outerHeight=w,re.outerWidth=v,re.removeClassName=d,re.removeEvent=_,re.scheduleRemoveUserSelectStyles=o;var t=Be(),u=s(Cr());function s(n,h){if(typeof WeakMap=="function")var O=new WeakMap,M=new WeakMap;return(s=function(j,T){if(!T&&j&&j.__esModule)return j;var k,A,B={__proto__:null,default:j};if(j===null||typeof j!="object"&&typeof j!="function")return B;if(k=T?M:O){if(k.has(j))return k.get(j);k.set(j,B)}for(const G in j)G!=="default"&&{}.hasOwnProperty.call(j,G)&&((A=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(j,G))&&(A.get||A.set)?k(B,G,A):B[G]=j[G]);return B})(n,h)}let l="";function x(n,h){return l||(l=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(O){return(0,t.isFunction)(n[O])})),(0,t.isFunction)(n[l])?n[l](h):!1}function m(n,h,O){let M=n;do{if(x(M,h))return!0;if(M===O)return!1;M=M.parentNode}while(M);return!1}function y(n,h,O,M){if(!n)return;const j={capture:!0,...M};n.addEventListener?n.addEventListener(h,O,j):n.attachEvent?n.attachEvent("on"+h,O):n["on"+h]=O}function _(n,h,O,M){if(!n)return;const j={capture:!0,...M};n.removeEventListener?n.removeEventListener(h,O,j):n.detachEvent?n.detachEvent("on"+h,O):n["on"+h]=null}function w(n){let h=n.clientHeight;const O=n.ownerDocument.defaultView.getComputedStyle(n);return h+=(0,t.int)(O.borderTopWidth),h+=(0,t.int)(O.borderBottomWidth),h}function v(n){let h=n.clientWidth;const O=n.ownerDocument.defaultView.getComputedStyle(n);return h+=(0,t.int)(O.borderLeftWidth),h+=(0,t.int)(O.borderRightWidth),h}function C(n){let h=n.clientHeight;const O=n.ownerDocument.defaultView.getComputedStyle(n);return h-=(0,t.int)(O.paddingTop),h-=(0,t.int)(O.paddingBottom),h}function R(n){let h=n.clientWidth;const O=n.ownerDocument.defaultView.getComputedStyle(n);return h-=(0,t.int)(O.paddingLeft),h-=(0,t.int)(O.paddingRight),h}function S(n,h,O){const j=h===h.ownerDocument.body?{left:0,top:0}:h.getBoundingClientRect(),T=(n.clientX+h.scrollLeft-j.left)/O,k=(n.clientY+h.scrollTop-j.top)/O;return{x:T,y:k}}function E(n,h){const O=c(n,h,"px");return{[(0,u.browserPrefixToKey)("transform",u.default)]:O}}function D(n,h){return c(n,h,"")}function c(n,h,O){let{x:M,y:j}=n,T=`translate(${M}${O},${j}${O})`;if(h){const k=`${typeof h.x=="string"?h.x:h.x+O}`,A=`${typeof h.y=="string"?h.y:h.y+O}`;T=`translate(${k}, ${A})`+T}return T}function e(n,h){return n.targetTouches&&(0,t.findInArray)(n.targetTouches,O=>h===O.identifier)||n.changedTouches&&(0,t.findInArray)(n.changedTouches,O=>h===O.identifier)}function i(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function r(n){if(!n)return;let h=n.getElementById("react-draggable-style-el");h||(h=n.createElement("style"),h.type="text/css",h.id="react-draggable-style-el",h.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,h.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(h)),n.body&&a(n.body,"react-draggable-transparent-selection")}function o(n){window.requestAnimationFrame?window.requestAnimationFrame(()=>{f(n)}):f(n)}function f(n){if(n)try{if(n.body&&d(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const h=(n.defaultView||window).getSelection();h&&h.type!=="Caret"&&h.removeAllRanges()}}catch{}}function a(n,h){n.classList?n.classList.add(h):n.className.match(new RegExp(`(?:^|\\s)${h}(?!\\S)`))||(n.className+=` ${h}`)}function d(n,h){n.classList?n.classList.remove(h):n.className=n.className.replace(new RegExp(`(?:^|\\s)${h}(?!\\S)`,"g"),"")}return re}var ue={},St;function Bt(){if(St)return ue;St=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.canDragX=x,ue.canDragY=m,ue.createCoreData=_,ue.createDraggableData=w,ue.getBoundPosition=s,ue.getControlPosition=y,ue.snapToGrid=l;var t=Be(),u=lt();function s(R,S,E){if(!R.props.bounds)return[S,E];let{bounds:D}=R.props;D=typeof D=="string"?D:v(D);const c=C(R);if(typeof D=="string"){const{ownerDocument:e}=c,i=e.defaultView;let r;if(D==="parent"?r=c.parentNode:r=c.getRootNode().querySelector(D),!(r instanceof i.HTMLElement))throw new Error('Bounds selector "'+D+'" could not find an element.');const o=r,f=i.getComputedStyle(c),a=i.getComputedStyle(o);D={left:-c.offsetLeft+(0,t.int)(a.paddingLeft)+(0,t.int)(f.marginLeft),top:-c.offsetTop+(0,t.int)(a.paddingTop)+(0,t.int)(f.marginTop),right:(0,u.innerWidth)(o)-(0,u.outerWidth)(c)-c.offsetLeft+(0,t.int)(a.paddingRight)-(0,t.int)(f.marginRight),bottom:(0,u.innerHeight)(o)-(0,u.outerHeight)(c)-c.offsetTop+(0,t.int)(a.paddingBottom)-(0,t.int)(f.marginBottom)}}return(0,t.isNum)(D.right)&&(S=Math.min(S,D.right)),(0,t.isNum)(D.bottom)&&(E=Math.min(E,D.bottom)),(0,t.isNum)(D.left)&&(S=Math.max(S,D.left)),(0,t.isNum)(D.top)&&(E=Math.max(E,D.top)),[S,E]}function l(R,S,E){const D=Math.round(S/R[0])*R[0],c=Math.round(E/R[1])*R[1];return[D,c]}function x(R){return R.props.axis==="both"||R.props.axis==="x"}function m(R){return R.props.axis==="both"||R.props.axis==="y"}function y(R,S,E){const D=typeof S=="number"?(0,u.getTouch)(R,S):null;if(typeof S=="number"&&!D)return null;const c=C(E),e=E.props.offsetParent||c.offsetParent||c.ownerDocument.body;return(0,u.offsetXYFromParent)(D||R,e,E.props.scale)}function _(R,S,E){const D=!(0,t.isNum)(R.lastX),c=C(R);return D?{node:c,deltaX:0,deltaY:0,lastX:S,lastY:E,x:S,y:E}:{node:c,deltaX:S-R.lastX,deltaY:E-R.lastY,lastX:R.lastX,lastY:R.lastY,x:S,y:E}}function w(R,S){const E=R.props.scale;return{node:S.node,x:R.state.x+S.deltaX/E,y:R.state.y+S.deltaY/E,deltaX:S.deltaX/E,deltaY:S.deltaY/E,lastX:R.state.x,lastY:R.state.y}}function v(R){return{left:R.left,top:R.top,right:R.right,bottom:R.bottom}}function C(R){const S=R.findDOMNode();if(!S)throw new Error("<DraggableCore>: Unmounted during event!");return S}return ue}var Pe={},Te={},Dt;function $t(){if(Dt)return Te;Dt=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=t;function t(){}return Te}var _t;function Er(){if(_t)return Pe;_t=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var t=w(le()),u=_(ge()),s=_(rt()),l=lt(),x=Bt(),m=Be(),y=_($t());function _(c){return c&&c.__esModule?c:{default:c}}function w(c,e){if(typeof WeakMap=="function")var i=new WeakMap,r=new WeakMap;return(w=function(o,f){if(!f&&o&&o.__esModule)return o;var a,d,n={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return n;if(a=f?r:i){if(a.has(o))return a.get(o);a.set(o,n)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?a(n,h,d):n[h]=o[h]);return n})(c,e)}function v(c,e,i){return(e=C(e))in c?Object.defineProperty(c,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[e]=i,c}function C(c){var e=R(c,"string");return typeof e=="symbol"?e:e+""}function R(c,e){if(typeof c!="object"||!c)return c;var i=c[Symbol.toPrimitive];if(i!==void 0){var r=i.call(c,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(c)}const S={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let E=S.mouse,D=class extends t.Component{constructor(){super(...arguments),v(this,"dragging",!1),v(this,"lastX",NaN),v(this,"lastY",NaN),v(this,"touchIdentifier",null),v(this,"mounted",!1),v(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const i=this.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=i;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,l.matchesSelectorAndParentsTo)(e.target,this.props.handle,i)||this.props.cancel&&(0,l.matchesSelectorAndParentsTo)(e.target,this.props.cancel,i))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const o=(0,l.getTouchIdentifier)(e);this.touchIdentifier=o;const f=(0,x.getControlPosition)(e,o,this);if(f==null)return;const{x:a,y:d}=f,n=(0,x.createCoreData)(this,a,d);(0,y.default)("DraggableCore: handleDragStart: %j",n),(0,y.default)("calling",this.props.onStart),!(this.props.onStart(e,n)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=d,(0,l.addEvent)(r,E.move,this.handleDrag),(0,l.addEvent)(r,E.stop,this.handleDragStop))}),v(this,"handleDrag",e=>{const i=(0,x.getControlPosition)(e,this.touchIdentifier,this);if(i==null)return;let{x:r,y:o}=i;if(Array.isArray(this.props.grid)){let d=r-this.lastX,n=o-this.lastY;if([d,n]=(0,x.snapToGrid)(this.props.grid,d,n),!d&&!n)return;r=this.lastX+d,o=this.lastY+n}const f=(0,x.createCoreData)(this,r,o);if((0,y.default)("DraggableCore: handleDrag: %j",f),this.props.onDrag(e,f)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(n)}return}this.lastX=r,this.lastY=o}),v(this,"handleDragStop",e=>{if(!this.dragging)return;const i=(0,x.getControlPosition)(e,this.touchIdentifier,this);if(i==null)return;let{x:r,y:o}=i;if(Array.isArray(this.props.grid)){let n=r-this.lastX||0,h=o-this.lastY||0;[n,h]=(0,x.snapToGrid)(this.props.grid,n,h),r=this.lastX+n,o=this.lastY+h}const f=(0,x.createCoreData)(this,r,o);if(this.props.onStop(e,f)===!1||this.mounted===!1)return!1;const d=this.findDOMNode();d&&this.props.enableUserSelectHack&&(0,l.scheduleRemoveUserSelectStyles)(d.ownerDocument),(0,y.default)("DraggableCore: handleDragStop: %j",f),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,d&&((0,y.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(d.ownerDocument,E.move,this.handleDrag),(0,l.removeEvent)(d.ownerDocument,E.stop,this.handleDragStop))}),v(this,"onMouseDown",e=>(E=S.mouse,this.handleDragStart(e))),v(this,"onMouseUp",e=>(E=S.mouse,this.handleDragStop(e))),v(this,"onTouchStart",e=>(E=S.touch,this.handleDragStart(e))),v(this,"onTouchEnd",e=>(E=S.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,l.addEvent)(e,S.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:i}=e;(0,l.removeEvent)(i,S.mouse.move,this.handleDrag),(0,l.removeEvent)(i,S.touch.move,this.handleDrag),(0,l.removeEvent)(i,S.mouse.stop,this.handleDragStop),(0,l.removeEvent)(i,S.touch.stop,this.handleDragStop),(0,l.removeEvent)(e,S.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.scheduleRemoveUserSelectStyles)(i)}}findDOMNode(){var e,i,r;return(e=this.props)!=null&&e.nodeRef?(r=(i=this.props)==null?void 0:i.nodeRef)==null?void 0:r.current:s.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Pe.default=D,v(D,"displayName","DraggableCore"),v(D,"propTypes",{allowAnyClick:u.default.bool,allowMobileScroll:u.default.bool,children:u.default.node.isRequired,disabled:u.default.bool,enableUserSelectHack:u.default.bool,offsetParent:function(c,e){if(c[e]&&c[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:u.default.arrayOf(u.default.number),handle:u.default.string,cancel:u.default.string,nodeRef:u.default.object,onStart:u.default.func,onDrag:u.default.func,onStop:u.default.func,onMouseDown:u.default.func,scale:u.default.number,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe}),v(D,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Pe}var Ot;function zr(){return Ot||(Ot=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return w.default}}),t.default=void 0;var u=R(le()),s=C(ge()),l=C(rt()),x=Ge(),m=lt(),y=Bt(),_=Be(),w=C(Er()),v=C($t());function C(i){return i&&i.__esModule?i:{default:i}}function R(i,r){if(typeof WeakMap=="function")var o=new WeakMap,f=new WeakMap;return(R=function(a,d){if(!d&&a&&a.__esModule)return a;var n,h,O={__proto__:null,default:a};if(a===null||typeof a!="object"&&typeof a!="function")return O;if(n=d?f:o){if(n.has(a))return n.get(a);n.set(a,O)}for(const M in a)M!=="default"&&{}.hasOwnProperty.call(a,M)&&((h=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,M))&&(h.get||h.set)?n(O,M,h):O[M]=a[M]);return O})(i,r)}function S(){return S=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var f in o)({}).hasOwnProperty.call(o,f)&&(i[f]=o[f])}return i},S.apply(null,arguments)}function E(i,r,o){return(r=D(r))in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}function D(i){var r=c(i,"string");return typeof r=="symbol"?r:r+""}function c(i,r){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var f=o.call(i,r);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}class e extends u.Component{static getDerivedStateFromProps(r,o){let{position:f}=r,{prevPropsPosition:a}=o;return f&&(!a||f.x!==a.x||f.y!==a.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:f,prevPropsPosition:a}),{x:f.x,y:f.y,prevPropsPosition:{...f}}):null}constructor(r){super(r),E(this,"onDragStart",(o,f)=>{if((0,v.default)("Draggable: onDragStart: %j",f),this.props.onStart(o,(0,y.createDraggableData)(this,f))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),E(this,"onDrag",(o,f)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",f);const a=(0,y.createDraggableData)(this,f),d={x:a.x,y:a.y,slackX:0,slackY:0};if(this.props.bounds){const{x:h,y:O}=d;d.x+=this.state.slackX,d.y+=this.state.slackY;const[M,j]=(0,y.getBoundPosition)(this,d.x,d.y);d.x=M,d.y=j,d.slackX=this.state.slackX+(h-d.x),d.slackY=this.state.slackY+(O-d.y),a.x=d.x,a.y=d.y,a.deltaX=d.x-this.state.x,a.deltaY=d.y-this.state.y}if(this.props.onDrag(o,a)===!1)return!1;this.setState(d)}),E(this,"onDragStop",(o,f)=>{if(!this.state.dragging||this.props.onStop(o,(0,y.createDraggableData)(this,f))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",f);const d={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:h,y:O}=this.props.position;d.x=h,d.y=O}this.setState(d)}),this.state={dragging:!1,dragged:!1,x:r.position?r.position.x:r.defaultPosition.x,y:r.position?r.position.y:r.defaultPosition.y,prevPropsPosition:{...r.position},slackX:0,slackY:0,isElementSVG:!1},r.position&&!(r.onDrag||r.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var r,o;return((o=(r=this.props)==null?void 0:r.nodeRef)==null?void 0:o.current)??l.default.findDOMNode(this)}render(){const{axis:r,bounds:o,children:f,defaultPosition:a,defaultClassName:d,defaultClassNameDragging:n,defaultClassNameDragged:h,position:O,positionOffset:M,scale:j,...T}=this.props;let k={},A=null;const G=!!!O||this.state.dragging,Y=O||a,U={x:(0,y.canDragX)(this)&&G?this.state.x:Y.x,y:(0,y.canDragY)(this)&&G?this.state.y:Y.y};this.state.isElementSVG?A=(0,m.createSVGTransform)(U,M):k=(0,m.createCSSTransform)(U,M);const Z=(0,x.clsx)(f.props.className||"",d,{[n]:this.state.dragging,[h]:this.state.dragged});return u.createElement(w.default,S({},T,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),u.cloneElement(u.Children.only(f),{className:Z,style:{...f.props.style,...k},transform:A}))}}t.default=e,E(e,"displayName","Draggable"),E(e,"propTypes",{...w.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:_.dontSetMe,style:_.dontSetMe,transform:_.dontSetMe}),E(e,"defaultProps",{...w.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Qe)),Qe}var Pt;function ut(){if(Pt)return Oe.exports;Pt=1;const{default:t,DraggableCore:u}=zr();return Oe.exports=t,Oe.exports.default=t,Oe.exports.DraggableCore=u,Oe.exports}var Ce={exports:{}},Ee={},He={},Ct;function jr(){if(Ct)return He;Ct=1,He.__esModule=!0,He.cloneElement=_;var t=u(le());function u(w){return w&&w.__esModule?w:{default:w}}function s(w,v){var C=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);v&&(R=R.filter(function(S){return Object.getOwnPropertyDescriptor(w,S).enumerable})),C.push.apply(C,R)}return C}function l(w){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{};v%2?s(Object(C),!0).forEach(function(R){x(w,R,C[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):s(Object(C)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(C,R))})}return w}function x(w,v,C){return v=m(v),v in w?Object.defineProperty(w,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[v]=C,w}function m(w){var v=y(w,"string");return typeof v=="symbol"?v:String(v)}function y(w,v){if(typeof w!="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var R=C.call(w,v);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}function _(w,v){return v.style&&w.props.style&&(v.style=l(l({},w.props.style),v.style)),v.className&&w.props.className&&(v.className=w.props.className+" "+v.className),t.default.cloneElement(w,v)}return He}var ze={},Et;function Ft(){if(Et)return ze;Et=1,ze.__esModule=!0,ze.resizableProps=void 0;var t=u(ge());ut();function u(l){return l&&l.__esModule?l:{default:l}}var s={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var x=arguments.length,m=new Array(x),y=0;y<x;y++)m[y]=arguments[y];var _=m[0];if(_.axis==="both"||_.axis==="y"){var w;return(w=t.default.number).isRequired.apply(w,m)}return t.default.number.apply(t.default,m)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var x=arguments.length,m=new Array(x),y=0;y<x;y++)m[y]=arguments[y];var _=m[0];if(_.axis==="both"||_.axis==="x"){var w;return(w=t.default.number).isRequired.apply(w,m)}return t.default.number.apply(t.default,m)}};return ze.resizableProps=s,ze}var zt;function Ut(){if(zt)return Ee;zt=1,Ee.__esModule=!0,Ee.default=void 0;var t=y(le()),u=ut(),s=jr(),l=Ft(),x=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function m(i){if(typeof WeakMap!="function")return null;var r=new WeakMap,o=new WeakMap;return(m=function(a){return a?o:r})(i)}function y(i,r){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var o=m(r);if(o&&o.has(i))return o.get(i);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(d!=="default"&&Object.prototype.hasOwnProperty.call(i,d)){var n=a?Object.getOwnPropertyDescriptor(i,d):null;n&&(n.get||n.set)?Object.defineProperty(f,d,n):f[d]=i[d]}return f.default=i,o&&o.set(i,f),f}function _(){return _=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(i[f]=o[f])}return i},_.apply(this,arguments)}function w(i,r){if(i==null)return{};var o={},f=Object.keys(i),a,d;for(d=0;d<f.length;d++)a=f[d],!(r.indexOf(a)>=0)&&(o[a]=i[a]);return o}function v(i,r){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(i);r&&(f=f.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),o.push.apply(o,f)}return o}function C(i){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?v(Object(o),!0).forEach(function(f){R(i,f,o[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(f){Object.defineProperty(i,f,Object.getOwnPropertyDescriptor(o,f))})}return i}function R(i,r,o){return r=S(r),r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}function S(i){var r=E(i,"string");return typeof r=="symbol"?r:String(r)}function E(i,r){if(typeof i!="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var f=o.call(i,r);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function D(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i,c(i,r)}function c(i,r){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,a){return f.__proto__=a,f},c(i,r)}var e=function(i){D(r,i);function r(){for(var f,a=arguments.length,d=new Array(a),n=0;n<a;n++)d[n]=arguments[n];return f=i.call.apply(i,[this].concat(d))||this,f.handleRefs={},f.lastHandleRect=null,f.slack=null,f}var o=r.prototype;return o.componentWillUnmount=function(){this.resetData()},o.resetData=function(){this.lastHandleRect=this.slack=null},o.runConstraints=function(a,d){var n=this.props,h=n.minConstraints,O=n.maxConstraints,M=n.lockAspectRatio;if(!h&&!O&&!M)return[a,d];if(M){var j=this.props.width/this.props.height,T=a-this.props.width,k=d-this.props.height;Math.abs(T)>Math.abs(k*j)?d=a/j:a=d*j}var A=a,B=d,G=this.slack||[0,0],Y=G[0],U=G[1];return a+=Y,d+=U,h&&(a=Math.max(h[0],a),d=Math.max(h[1],d)),O&&(a=Math.min(O[0],a),d=Math.min(O[1],d)),this.slack=[Y+(A-a),U+(B-d)],[a,d]},o.resizeHandler=function(a,d){var n=this;return function(h,O){var M=O.node,j=O.deltaX,T=O.deltaY;a==="onResizeStart"&&n.resetData();var k=(n.props.axis==="both"||n.props.axis==="x")&&d!=="n"&&d!=="s",A=(n.props.axis==="both"||n.props.axis==="y")&&d!=="e"&&d!=="w";if(!(!k&&!A)){var B=d[0],G=d[d.length-1],Y=M.getBoundingClientRect();if(n.lastHandleRect!=null){if(G==="w"){var U=Y.left-n.lastHandleRect.left;j+=U}if(B==="n"){var Z=Y.top-n.lastHandleRect.top;T+=Z}}n.lastHandleRect=Y,G==="w"&&(j=-j),B==="n"&&(T=-T);var q=n.props.width+(k?j/n.props.transformScale:0),X=n.props.height+(A?T/n.props.transformScale:0),te=n.runConstraints(q,X);q=te[0],X=te[1];var Q=q!==n.props.width||X!==n.props.height,se=typeof n.props[a]=="function"?n.props[a]:null,fe=a==="onResize"&&!Q;se&&!fe&&(h.persist==null||h.persist(),se(h,{node:M,size:{width:q,height:X},handle:d})),a==="onResizeStop"&&n.resetData()}}},o.renderResizeHandle=function(a,d){var n=this.props.handle;if(!n)return t.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+a,ref:d});if(typeof n=="function")return n(a,d);var h=typeof n.type=="string",O=C({ref:d},h?{}:{handleAxis:a});return t.cloneElement(n,O)},o.render=function(){var a=this,d=this.props,n=d.children,h=d.className,O=d.draggableOpts;d.width,d.height,d.handle,d.handleSize,d.lockAspectRatio,d.axis,d.minConstraints,d.maxConstraints,d.onResize,d.onResizeStop,d.onResizeStart;var M=d.resizeHandles;d.transformScale;var j=w(d,x);return(0,s.cloneElement)(n,C(C({},j),{},{className:(h?h+" ":"")+"react-resizable",children:[].concat(n.props.children,M.map(function(T){var k,A=(k=a.handleRefs[T])!=null?k:a.handleRefs[T]=t.createRef();return t.createElement(u.DraggableCore,_({},O,{nodeRef:A,key:"resizableHandle-"+T,onStop:a.resizeHandler("onResizeStop",T),onStart:a.resizeHandler("onResizeStart",T),onDrag:a.resizeHandler("onResize",T)}),a.renderResizeHandle(T,A))}))}))},r}(t.Component);return Ee.default=e,e.propTypes=l.resizableProps,e.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ee}var je={},jt;function Mr(){if(jt)return je;jt=1,je.__esModule=!0,je.default=void 0;var t=_(le()),u=m(ge()),s=m(Ut()),l=Ft(),x=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function m(r){return r&&r.__esModule?r:{default:r}}function y(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,f=new WeakMap;return(y=function(d){return d?f:o})(r)}function _(r,o){if(r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var f=y(o);if(f&&f.has(r))return f.get(r);var a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)){var h=d?Object.getOwnPropertyDescriptor(r,n):null;h&&(h.get||h.set)?Object.defineProperty(a,n,h):a[n]=r[n]}return a.default=r,f&&f.set(r,a),a}function w(){return w=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var f=arguments[o];for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(r[a]=f[a])}return r},w.apply(this,arguments)}function v(r,o){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);o&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),f.push.apply(f,a)}return f}function C(r){for(var o=1;o<arguments.length;o++){var f=arguments[o]!=null?arguments[o]:{};o%2?v(Object(f),!0).forEach(function(a){R(r,a,f[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):v(Object(f)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(f,a))})}return r}function R(r,o,f){return o=S(o),o in r?Object.defineProperty(r,o,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[o]=f,r}function S(r){var o=E(r,"string");return typeof o=="symbol"?o:String(o)}function E(r,o){if(typeof r!="object"||r===null)return r;var f=r[Symbol.toPrimitive];if(f!==void 0){var a=f.call(r,o);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function D(r,o){if(r==null)return{};var f={},a=Object.keys(r),d,n;for(n=0;n<a.length;n++)d=a[n],!(o.indexOf(d)>=0)&&(f[d]=r[d]);return f}function c(r,o){r.prototype=Object.create(o.prototype),r.prototype.constructor=r,e(r,o)}function e(r,o){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,d){return a.__proto__=d,a},e(r,o)}var i=function(r){c(o,r);function o(){for(var a,d=arguments.length,n=new Array(d),h=0;h<d;h++)n[h]=arguments[h];return a=r.call.apply(r,[this].concat(n))||this,a.state={width:a.props.width,height:a.props.height,propsWidth:a.props.width,propsHeight:a.props.height},a.onResize=function(O,M){var j=M.size;a.props.onResize?(O.persist==null||O.persist(),a.setState(j,function(){return a.props.onResize&&a.props.onResize(O,M)})):a.setState(j)},a}o.getDerivedStateFromProps=function(d,n){return n.propsWidth!==d.width||n.propsHeight!==d.height?{width:d.width,height:d.height,propsWidth:d.width,propsHeight:d.height}:null};var f=o.prototype;return f.render=function(){var d=this.props,n=d.handle,h=d.handleSize;d.onResize;var O=d.onResizeStart,M=d.onResizeStop,j=d.draggableOpts,T=d.minConstraints,k=d.maxConstraints,A=d.lockAspectRatio,B=d.axis;d.width,d.height;var G=d.resizeHandles,Y=d.style,U=d.transformScale,Z=D(d,x);return t.createElement(s.default,{axis:B,draggableOpts:j,handle:n,handleSize:h,height:this.state.height,lockAspectRatio:A,maxConstraints:k,minConstraints:T,onResizeStart:O,onResize:this.onResize,onResizeStop:M,resizeHandles:G,transformScale:U,width:this.state.width},t.createElement("div",w({},Z,{style:C(C({},Y),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(t.Component);return je.default=i,i.propTypes=C(C({},l.resizableProps),{},{children:u.default.element}),je}var Mt;function Nr(){return Mt||(Mt=1,Ce.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ce.exports.Resizable=Ut().default,Ce.exports.ResizableBox=Mr().default),Ce.exports}var de={},Nt;function Yt(){if(Nt)return de;Nt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resizeHandleType=de.resizeHandleAxesType=de.default=void 0;var t=s(ge()),u=s(le());function s(m){return m&&m.__esModule?m:{default:m}}const l=de.resizeHandleAxesType=t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),x=de.resizeHandleType=t.default.oneOfType([t.default.node,t.default.func]);return de.default={className:t.default.string,style:t.default.object,width:t.default.number,autoSize:t.default.bool,cols:t.default.number,draggableCancel:t.default.string,draggableHandle:t.default.string,verticalCompact:function(m){m.verticalCompact},compactType:t.default.oneOf(["vertical","horizontal"]),layout:function(m){var y=m.layout;y!==void 0&&Re().validateLayout(y,"layout")},margin:t.default.arrayOf(t.default.number),containerPadding:t.default.arrayOf(t.default.number),rowHeight:t.default.number,maxRows:t.default.number,isBounded:t.default.bool,isDraggable:t.default.bool,isResizable:t.default.bool,allowOverlap:t.default.bool,preventCollision:t.default.bool,useCSSTransforms:t.default.bool,transformScale:t.default.number,isDroppable:t.default.bool,resizeHandles:l,resizeHandle:x,onLayoutChange:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onDragStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,onResizeStop:t.default.func,onDrop:t.default.func,droppingItem:t.default.shape({i:t.default.string.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired}),children:function(m,y){const _=m[y],w={};u.default.Children.forEach(_,function(v){if((v==null?void 0:v.key)!=null){if(w[v.key])throw new Error('Duplicate child key "'+v.key+'" found! This will cause problems in ReactGridLayout.');w[v.key]=!0}})},innerRef:t.default.any},de}var Lt;function Lr(){if(Lt)return _e;Lt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=v(le()),u=rt(),s=v(ge()),l=ut(),x=Nr(),m=Re(),y=at(),_=Yt(),w=v(Ge());function v(D){return D&&D.__esModule?D:{default:D}}function C(D,c,e){return(c=R(c))in D?Object.defineProperty(D,c,{value:e,enumerable:!0,configurable:!0,writable:!0}):D[c]=e,D}function R(D){var c=S(D,"string");return typeof c=="symbol"?c:c+""}function S(D,c){if(typeof D!="object"||!D)return D;var e=D[Symbol.toPrimitive];if(e!==void 0){var i=e.call(D,c);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(D)}let E=class extends t.default.Component{constructor(){super(...arguments),C(this,"state",{resizing:null,dragging:null,className:""}),C(this,"elementRef",t.default.createRef()),C(this,"onDragStart",(c,e)=>{let{node:i}=e;const{onDragStart:r,transformScale:o}=this.props;if(!r)return;const f={top:0,left:0},{offsetParent:a}=i;if(!a)return;const d=a.getBoundingClientRect(),n=i.getBoundingClientRect(),h=n.left/o,O=d.left/o,M=n.top/o,j=d.top/o;f.left=h-O+a.scrollLeft,f.top=M-j+a.scrollTop,this.setState({dragging:f});const{x:T,y:k}=(0,y.calcXY)(this.getPositionParams(),f.top,f.left,this.props.w,this.props.h);return r.call(this,this.props.i,T,k,{e:c,node:i,newPosition:f})}),C(this,"onDrag",(c,e,i)=>{let{node:r,deltaX:o,deltaY:f}=e;const{onDrag:a}=this.props;if(!a)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let d=this.state.dragging.top+f,n=this.state.dragging.left+o;const{isBounded:h,i:O,w:M,h:j,containerWidth:T}=this.props,k=this.getPositionParams();if(h){const{offsetParent:Y}=r;if(Y){const{margin:U,rowHeight:Z}=this.props,q=Y.clientHeight-(0,y.calcGridItemWHPx)(j,Z,U[1]);d=(0,y.clamp)(d,0,q);const X=(0,y.calcGridColWidth)(k),te=T-(0,y.calcGridItemWHPx)(M,X,U[0]);n=(0,y.clamp)(n,0,te)}}const A={top:d,left:n};i?this.setState({dragging:A}):(0,u.flushSync)(()=>{this.setState({dragging:A})});const{x:B,y:G}=(0,y.calcXY)(k,d,n,M,j);return a.call(this,O,B,G,{e:c,node:r,newPosition:A})}),C(this,"onDragStop",(c,e)=>{let{node:i}=e;const{onDragStop:r}=this.props;if(!r)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:f,i:a}=this.props,{left:d,top:n}=this.state.dragging,h={top:n,left:d};this.setState({dragging:null});const{x:O,y:M}=(0,y.calcXY)(this.getPositionParams(),n,d,o,f);return r.call(this,a,O,M,{e:c,node:i,newPosition:h})}),C(this,"onResizeStop",(c,e,i)=>this.onResizeHandler(c,e,i,"onResizeStop")),C(this,"onResizeStart",(c,e,i)=>this.onResizeHandler(c,e,i,"onResizeStart")),C(this,"onResize",(c,e,i)=>this.onResizeHandler(c,e,i,"onResize"))}shouldComponentUpdate(c,e){if(this.props.children!==c.children||this.props.droppingPosition!==c.droppingPosition)return!0;const i=(0,y.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,y.calcGridItemPosition)(this.getPositionParams(c),c.x,c.y,c.w,c.h,e);return!(0,m.fastPositionEqual)(i,r)||this.props.useCSSTransforms!==c.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(c){this.moveDroppingItem(c)}moveDroppingItem(c){const{droppingPosition:e}=this.props;if(!e)return;const i=this.elementRef.current;if(!i)return;const r=c.droppingPosition||{left:0,top:0},{dragging:o}=this.state,f=o&&e.left!==r.left||e.top!==r.top;if(!o)this.onDragStart(e.e,{node:i,deltaX:e.left,deltaY:e.top});else if(f){const a=e.left-o.left,d=e.top-o.top;this.onDrag(e.e,{node:i,deltaX:a,deltaY:d},!0)}}getPositionParams(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:c.cols,containerPadding:c.containerPadding,containerWidth:c.containerWidth,margin:c.margin,maxRows:c.maxRows,rowHeight:c.rowHeight}}createStyle(c){const{usePercentages:e,containerWidth:i,useCSSTransforms:r}=this.props;let o;return r?o=(0,m.setTransform)(c):(o=(0,m.setTopLeft)(c),e&&(o.left=(0,m.perc)(c.left/i),o.width=(0,m.perc)(c.width/i))),o}mixinDraggable(c,e){return t.default.createElement(l.DraggableCore,{disabled:!e,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},c)}curryResizeHandler(c,e){return(i,r)=>e(i,r,c)}mixinResizable(c,e,i){const{cols:r,minW:o,minH:f,maxW:a,maxH:d,transformScale:n,resizeHandles:h,resizeHandle:O}=this.props,M=this.getPositionParams(),j=(0,y.calcGridItemPosition)(M,0,0,r,0).width,T=(0,y.calcGridItemPosition)(M,0,0,o,f),k=(0,y.calcGridItemPosition)(M,0,0,a,d),A=[T.width,T.height],B=[Math.min(k.width,j),Math.min(k.height,1/0)];return t.default.createElement(x.Resizable,{draggableOpts:{disabled:!i},className:i?void 0:"react-resizable-hide",width:e.width,height:e.height,minConstraints:A,maxConstraints:B,onResizeStop:this.curryResizeHandler(e,this.onResizeStop),onResizeStart:this.curryResizeHandler(e,this.onResizeStart),onResize:this.curryResizeHandler(e,this.onResize),transformScale:n,resizeHandles:h,handle:O},c)}onResizeHandler(c,e,i,r){let{node:o,size:f,handle:a}=e;const d=this.props[r];if(!d)return;const{x:n,y:h,i:O,maxH:M,minH:j,containerWidth:T}=this.props,{minW:k,maxW:A}=this.props;let B=f;o&&(B=(0,m.resizeItemInDirection)(a,i,f,T),(0,u.flushSync)(()=>{this.setState({resizing:r==="onResizeStop"?null:B})}));let{w:G,h:Y}=(0,y.calcWH)(this.getPositionParams(),B.width,B.height,n,h,a);G=(0,y.clamp)(G,Math.max(k,1),A),Y=(0,y.clamp)(Y,j,M),d.call(this,O,G,Y,{e:c,node:o,size:B,handle:a})}render(){const{x:c,y:e,w:i,h:r,isDraggable:o,isResizable:f,droppingPosition:a,useCSSTransforms:d}=this.props,n=(0,y.calcGridItemPosition)(this.getPositionParams(),c,e,i,r,this.state),h=t.default.Children.only(this.props.children);let O=t.default.cloneElement(h,{ref:this.elementRef,className:(0,w.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!a,cssTransforms:d}),style:{...this.props.style,...h.props.style,...this.createStyle(n)}});return O=this.mixinResizable(O,n,f),O=this.mixinDraggable(O,o),O}};return _e.default=E,C(E,"propTypes",{children:s.default.element,cols:s.default.number.isRequired,containerWidth:s.default.number.isRequired,rowHeight:s.default.number.isRequired,margin:s.default.array.isRequired,maxRows:s.default.number.isRequired,containerPadding:s.default.array.isRequired,x:s.default.number.isRequired,y:s.default.number.isRequired,w:s.default.number.isRequired,h:s.default.number.isRequired,minW:function(D,c){const e=D[c];if(typeof e!="number")return new Error("minWidth not Number");if(e>D.w||e>D.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(D,c){const e=D[c];if(typeof e!="number")return new Error("maxWidth not Number");if(e<D.w||e<D.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(D,c){const e=D[c];if(typeof e!="number")return new Error("minHeight not Number");if(e>D.h||e>D.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(D,c){const e=D[c];if(typeof e!="number")return new Error("maxHeight not Number");if(e<D.h||e<D.minH)return new Error("maxHeight smaller than item height/minHeight")},i:s.default.string.isRequired,resizeHandles:_.resizeHandleAxesType,resizeHandle:_.resizeHandleType,onDragStop:s.default.func,onDragStart:s.default.func,onDrag:s.default.func,onResizeStop:s.default.func,onResizeStart:s.default.func,onResize:s.default.func,isDraggable:s.default.bool.isRequired,isResizable:s.default.bool.isRequired,isBounded:s.default.bool.isRequired,static:s.default.bool,useCSSTransforms:s.default.bool.isRequired,transformScale:s.default.number,className:s.default.string,handle:s.default.string,cancel:s.default.string,droppingPosition:s.default.shape({e:s.default.object.isRequired,left:s.default.number.isRequired,top:s.default.number.isRequired})}),C(E,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),_e}var qt;function Xt(){if(qt)return De;qt=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var t=w(le()),u=st(),s=_(Ge()),l=Re(),x=at(),m=_(Lr()),y=_(Yt());function _(c){return c&&c.__esModule?c:{default:c}}function w(c,e){if(typeof WeakMap=="function")var i=new WeakMap,r=new WeakMap;return(w=function(o,f){if(!f&&o&&o.__esModule)return o;var a,d,n={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return n;if(a=f?r:i){if(a.has(o))return a.get(o);a.set(o,n)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?a(n,h,d):n[h]=o[h]);return n})(c,e)}function v(c,e,i){return(e=C(e))in c?Object.defineProperty(c,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[e]=i,c}function C(c){var e=R(c,"string");return typeof e=="symbol"?e:e+""}function R(c,e){if(typeof c!="object"||!c)return c;var i=c[Symbol.toPrimitive];if(i!==void 0){var r=i.call(c,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(c)}const S="react-grid-layout";let E=!1;try{E=/firefox/i.test(navigator.userAgent)}catch{}let D=class extends t.Component{constructor(){super(...arguments),v(this,"state",{activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,l.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),v(this,"dragEnterCounter",0),v(this,"onDragStart",(e,i,r,o)=>{let{e:f,node:a}=o;const{layout:d}=this.state,n=(0,l.getLayoutItem)(d,e);if(!n)return;const h={w:n.w,h:n.h,x:n.x,y:n.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,l.cloneLayoutItem)(n),oldLayout:d,activeDrag:h}),this.props.onDragStart(d,n,n,null,f,a)}),v(this,"onDrag",(e,i,r,o)=>{let{e:f,node:a}=o;const{oldDragItem:d}=this.state;let{layout:n}=this.state;const{cols:h,allowOverlap:O,preventCollision:M}=this.props,j=(0,l.getLayoutItem)(n,e);if(!j)return;const T={w:j.w,h:j.h,x:j.x,y:j.y,placeholder:!0,i:e};n=(0,l.moveElement)(n,j,i,r,!0,M,(0,l.compactType)(this.props),h,O),this.props.onDrag(n,d,j,T,f,a),this.setState({layout:O?n:(0,l.compact)(n,(0,l.compactType)(this.props),h),activeDrag:T})}),v(this,"onDragStop",(e,i,r,o)=>{let{e:f,node:a}=o;if(!this.state.activeDrag)return;const{oldDragItem:d}=this.state;let{layout:n}=this.state;const{cols:h,preventCollision:O,allowOverlap:M}=this.props,j=(0,l.getLayoutItem)(n,e);if(!j)return;n=(0,l.moveElement)(n,j,i,r,!0,O,(0,l.compactType)(this.props),h,M);const k=M?n:(0,l.compact)(n,(0,l.compactType)(this.props),h);this.props.onDragStop(k,d,j,null,f,a);const{oldLayout:A}=this.state;this.setState({activeDrag:null,layout:k,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(k,A)}),v(this,"onResizeStart",(e,i,r,o)=>{let{e:f,node:a}=o;const{layout:d}=this.state,n=(0,l.getLayoutItem)(d,e);n&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(n),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(d,n,n,null,f,a))}),v(this,"onResize",(e,i,r,o)=>{let{e:f,node:a,size:d,handle:n}=o;const{oldResizeItem:h}=this.state,{layout:O}=this.state,{cols:M,preventCollision:j,allowOverlap:T}=this.props;let k=!1,A,B,G;const[Y,U]=(0,l.withLayoutItem)(O,e,q=>{let X;return B=q.x,G=q.y,["sw","w","nw","n","ne"].indexOf(n)!==-1&&(["sw","nw","w"].indexOf(n)!==-1&&(B=q.x+(q.w-i),i=q.x!==B&&B<0?q.w:i,B=B<0?0:B),["ne","n","nw"].indexOf(n)!==-1&&(G=q.y+(q.h-r),r=q.y!==G&&G<0?q.h:r,G=G<0?0:G),k=!0),j&&!T&&(X=(0,l.getAllCollisions)(O,{...q,w:i,h:r,x:B,y:G}).filter(Q=>Q.i!==q.i).length>0,X&&(G=q.y,r=q.h,B=q.x,i=q.w,k=!1)),q.w=i,q.h=r,q});if(!U)return;A=Y,k&&(A=(0,l.moveElement)(Y,U,B,G,!0,this.props.preventCollision,(0,l.compactType)(this.props),M,T));const Z={w:U.w,h:U.h,x:U.x,y:U.y,static:!0,i:e};this.props.onResize(A,h,U,Z,f,a),this.setState({layout:T?A:(0,l.compact)(A,(0,l.compactType)(this.props),M),activeDrag:Z})}),v(this,"onResizeStop",(e,i,r,o)=>{let{e:f,node:a}=o;const{layout:d,oldResizeItem:n}=this.state,{cols:h,allowOverlap:O}=this.props,M=(0,l.getLayoutItem)(d,e),j=O?d:(0,l.compact)(d,(0,l.compactType)(this.props),h);this.props.onResizeStop(j,n,M,null,f,a);const{oldLayout:T}=this.state;this.setState({activeDrag:null,layout:j,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(j,T)}),v(this,"onDragOver",e=>{var Y;if(e.preventDefault(),e.stopPropagation(),E&&!((Y=e.nativeEvent.target)!=null&&Y.classList.contains(S)))return!1;const{droppingItem:i,onDropDragOver:r,margin:o,cols:f,rowHeight:a,maxRows:d,width:n,containerPadding:h,transformScale:O}=this.props,M=r==null?void 0:r(e);if(M===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const j={...i,...M},{layout:T}=this.state,k=e.currentTarget.getBoundingClientRect(),A=e.clientX-k.left,B=e.clientY-k.top,G={left:A/O,top:B/O,e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:U,top:Z}=this.state.droppingPosition;(U!=A||Z!=B)&&this.setState({droppingPosition:G})}}else{const U={cols:f,margin:o,maxRows:d,rowHeight:a,containerWidth:n,containerPadding:h||o},Z=(0,x.calcXY)(U,B,A,j.w,j.h);this.setState({droppingDOMNode:t.createElement("div",{key:j.i}),droppingPosition:G,layout:[...T,{...j,x:Z.x,y:Z.y,static:!1,isDraggable:!0}]})}}),v(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:i}=this.props,{layout:r}=this.state,o=(0,l.compact)(r.filter(f=>f.i!==e.i),(0,l.compactType)(this.props),i,this.props.allowOverlap);this.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),v(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),v(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),v(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:i}=this.props,{layout:r}=this.state,o=r.find(f=>f.i===i.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,o,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,i){let r;return i.activeDrag?null:(!(0,u.deepEqual)(e.layout,i.propsLayout)||e.compactType!==i.compactType?r=e.layout:(0,l.childrenEqual)(e.children,i.children)||(r=i.layout),r?{layout:(0,l.synchronizeLayoutWithChildren)(r,e.children,e.cols,(0,l.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}shouldComponentUpdate(e,i){return this.props.children!==e.children||!(0,l.fastRGLPropsEqual)(this.props,e,u.deepEqual)||this.state.activeDrag!==i.activeDrag||this.state.mounted!==i.mounted||this.state.droppingPosition!==i.droppingPosition}componentDidUpdate(e,i){if(!this.state.activeDrag){const r=this.state.layout,o=i.layout;this.onLayoutMaybeChanged(r,o)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,l.bottom)(this.state.layout),i=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+i*2+"px"}onLayoutMaybeChanged(e,i){i||(i=this.state.layout),(0,u.deepEqual)(i,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:i,cols:r,margin:o,containerPadding:f,rowHeight:a,maxRows:d,useCSSTransforms:n,transformScale:h}=this.props;return t.createElement(m.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:i,cols:r,margin:o,containerPadding:f||o,maxRows:d,rowHeight:a,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:n,transformScale:h},t.createElement("div",null))}processGridItem(e,i){if(!e||!e.key)return;const r=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!r)return null;const{width:o,cols:f,margin:a,containerPadding:d,rowHeight:n,maxRows:h,isDraggable:O,isResizable:M,isBounded:j,useCSSTransforms:T,transformScale:k,draggableCancel:A,draggableHandle:B,resizeHandles:G,resizeHandle:Y}=this.props,{mounted:U,droppingPosition:Z}=this.state,q=typeof r.isDraggable=="boolean"?r.isDraggable:!r.static&&O,X=typeof r.isResizable=="boolean"?r.isResizable:!r.static&&M,te=r.resizeHandles||G,Q=q&&j&&r.isBounded!==!1;return t.createElement(m.default,{containerWidth:o,cols:f,margin:a,containerPadding:d||a,maxRows:h,rowHeight:n,cancel:A,handle:B,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:q,isResizable:X,isBounded:Q,useCSSTransforms:T&&U,usePercentages:!U,transformScale:k,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:i?Z:void 0,resizeHandles:te,resizeHandle:Y},e)}render(){const{className:e,style:i,isDroppable:r,innerRef:o}=this.props,f=(0,s.default)(S,e),a={height:this.containerHeight(),...i};return t.createElement("div",{ref:o,className:f,style:a,onDrop:r?this.onDrop:l.noop,onDragLeave:r?this.onDragLeave:l.noop,onDragEnter:r?this.onDragEnter:l.noop,onDragOver:r?this.onDragOver:l.noop},t.Children.map(this.props.children,d=>this.processGridItem(d)),r&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return De.default=D,v(D,"displayName","ReactGridLayout"),v(D,"propTypes",y.default),v(D,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop,onDrop:l.noop,onDropDragOver:l.noop}),De}var Me={},ve={},Tt;function Vt(){if(Tt)return ve;Tt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.findOrGenerateResponsiveLayout=l,ve.getBreakpointFromWidth=u,ve.getColsFromBreakpoint=s,ve.sortBreakpoints=x;var t=Re();function u(m,y){const _=x(m);let w=_[0];for(let v=1,C=_.length;v<C;v++){const R=_[v];y>m[R]&&(w=R)}return w}function s(m,y){if(!y[m])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+m+" is missing!");return y[m]}function l(m,y,_,w,v,C){if(m[_])return(0,t.cloneLayout)(m[_]);let R=m[w];const S=x(y),E=S.slice(S.indexOf(_));for(let D=0,c=E.length;D<c;D++){const e=E[D];if(m[e]){R=m[e];break}}return R=(0,t.cloneLayout)(R||[]),(0,t.compact)((0,t.correctBounds)(R,{cols:v}),C,v)}function x(m){return Object.keys(m).sort(function(_,w){return m[_]-m[w]})}return ve}var Ht;function qr(){if(Ht)return Me;Ht=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var t=_(le()),u=y(ge()),s=st(),l=Re(),x=Vt(),m=y(Xt());function y(c){return c&&c.__esModule?c:{default:c}}function _(c,e){if(typeof WeakMap=="function")var i=new WeakMap,r=new WeakMap;return(_=function(o,f){if(!f&&o&&o.__esModule)return o;var a,d,n={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return n;if(a=f?r:i){if(a.has(o))return a.get(o);a.set(o,n)}for(const h in o)h!=="default"&&{}.hasOwnProperty.call(o,h)&&((d=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,h))&&(d.get||d.set)?a(n,h,d):n[h]=o[h]);return n})(c,e)}function w(){return w=Object.assign?Object.assign.bind():function(c){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(c[r]=i[r])}return c},w.apply(null,arguments)}function v(c,e,i){return(e=C(e))in c?Object.defineProperty(c,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[e]=i,c}function C(c){var e=R(c,"string");return typeof e=="symbol"?e:e+""}function R(c,e){if(typeof c!="object"||!c)return c;var i=c[Symbol.toPrimitive];if(i!==void 0){var r=i.call(c,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(c)}const S=c=>Object.prototype.toString.call(c);function E(c,e){return c==null?null:Array.isArray(c)?c:c[e]}let D=class extends t.Component{constructor(){super(...arguments),v(this,"state",this.generateInitialState()),v(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})})}generateInitialState(){const{width:e,breakpoints:i,layouts:r,cols:o}=this.props,f=(0,x.getBreakpointFromWidth)(i,e),a=(0,x.getColsFromBreakpoint)(f,o),d=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,x.findOrGenerateResponsiveLayout)(r,i,f,f,a,d),breakpoint:f,cols:a}}static getDerivedStateFromProps(e,i){if(!(0,s.deepEqual)(e.layouts,i.layouts)){const{breakpoint:r,cols:o}=i;return{layout:(0,x.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,o,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){(this.props.width!=e.width||this.props.breakpoint!==e.breakpoint||!(0,s.deepEqual)(this.props.breakpoints,e.breakpoints)||!(0,s.deepEqual)(this.props.cols,e.cols))&&this.onWidthChange(e)}onWidthChange(e){const{breakpoints:i,cols:r,layouts:o,compactType:f}=this.props,a=this.props.breakpoint||(0,x.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),d=this.state.breakpoint,n=(0,x.getColsFromBreakpoint)(a,r),h={...o};if(d!==a||e.breakpoints!==i||e.cols!==r){d in h||(h[d]=(0,l.cloneLayout)(this.state.layout));let j=(0,x.findOrGenerateResponsiveLayout)(h,i,a,d,n,f);j=(0,l.synchronizeLayoutWithChildren)(j,this.props.children,n,f,this.props.allowOverlap),h[a]=j,this.props.onBreakpointChange(a,n),this.props.onLayoutChange(j,h),this.setState({breakpoint:a,layout:j,cols:n})}const O=E(this.props.margin,a),M=E(this.props.containerPadding,a);this.props.onWidthChange(this.props.width,O,n,M)}render(){const{breakpoint:e,breakpoints:i,cols:r,layouts:o,margin:f,containerPadding:a,onBreakpointChange:d,onLayoutChange:n,onWidthChange:h,...O}=this.props;return t.createElement(m.default,w({},O,{margin:E(f,this.state.breakpoint),containerPadding:E(a,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Me.default=D,v(D,"propTypes",{breakpoint:u.default.string,breakpoints:u.default.object,allowOverlap:u.default.bool,cols:u.default.object,margin:u.default.oneOfType([u.default.array,u.default.object]),containerPadding:u.default.oneOfType([u.default.array,u.default.object]),layouts(c,e){if(S(c[e])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+S(c[e]));Object.keys(c[e]).forEach(i=>{if(!(i in c.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,l.validateLayout)(c.layouts[i],"layouts."+i)})},width:u.default.number.isRequired,onBreakpointChange:u.default.func,onLayoutChange:u.default.func,onWidthChange:u.default.func}),v(D,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:l.noop,onLayoutChange:l.noop,onWidthChange:l.noop}),Me}var ke={},Kt=function(){if(typeof Map<"u")return Map;function t(u,s){var l=-1;return u.some(function(x,m){return x[0]===s?(l=m,!0):!1}),l}return function(){function u(){this.__entries__=[]}return Object.defineProperty(u.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),u.prototype.get=function(s){var l=t(this.__entries__,s),x=this.__entries__[l];return x&&x[1]},u.prototype.set=function(s,l){var x=t(this.__entries__,s);~x?this.__entries__[x][1]=l:this.__entries__.push([s,l])},u.prototype.delete=function(s){var l=this.__entries__,x=t(l,s);~x&&l.splice(x,1)},u.prototype.has=function(s){return!!~t(this.__entries__,s)},u.prototype.clear=function(){this.__entries__.splice(0)},u.prototype.forEach=function(s,l){l===void 0&&(l=null);for(var x=0,m=this.__entries__;x<m.length;x++){var y=m[x];s.call(l,y[1],y[0])}},u}()}(),et=typeof window<"u"&&typeof document<"u"&&window.document===document,Ae=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Tr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ae):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Hr=2;function kr(t,u){var s=!1,l=!1,x=0;function m(){s&&(s=!1,t()),l&&_()}function y(){Tr(m)}function _(){var w=Date.now();if(s){if(w-x<Hr)return;l=!0}else s=!0,l=!1,setTimeout(y,u);x=w}return _}var Wr=20,Ar=["top","right","bottom","left","width","height","size","weight"],Ir=typeof MutationObserver<"u",Gr=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kr(this.refresh.bind(this),Wr)}return t.prototype.addObserver=function(u){~this.observers_.indexOf(u)||this.observers_.push(u),this.connected_||this.connect_()},t.prototype.removeObserver=function(u){var s=this.observers_,l=s.indexOf(u);~l&&s.splice(l,1),!s.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var u=this.updateObservers_();u&&this.refresh()},t.prototype.updateObservers_=function(){var u=this.observers_.filter(function(s){return s.gatherActive(),s.hasActive()});return u.forEach(function(s){return s.broadcastActive()}),u.length>0},t.prototype.connect_=function(){!et||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ir?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!et||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(u){var s=u.propertyName,l=s===void 0?"":s,x=Ar.some(function(m){return!!~l.indexOf(m)});x&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Zt=function(t,u){for(var s=0,l=Object.keys(u);s<l.length;s++){var x=l[s];Object.defineProperty(t,x,{value:u[x],enumerable:!1,writable:!1,configurable:!0})}return t},xe=function(t){var u=t&&t.ownerDocument&&t.ownerDocument.defaultView;return u||Ae},Jt=$e(0,0,0,0);function Ie(t){return parseFloat(t)||0}function kt(t){for(var u=[],s=1;s<arguments.length;s++)u[s-1]=arguments[s];return u.reduce(function(l,x){var m=t["border-"+x+"-width"];return l+Ie(m)},0)}function Br(t){for(var u=["top","right","bottom","left"],s={},l=0,x=u;l<x.length;l++){var m=x[l],y=t["padding-"+m];s[m]=Ie(y)}return s}function $r(t){var u=t.getBBox();return $e(0,0,u.width,u.height)}function Fr(t){var u=t.clientWidth,s=t.clientHeight;if(!u&&!s)return Jt;var l=xe(t).getComputedStyle(t),x=Br(l),m=x.left+x.right,y=x.top+x.bottom,_=Ie(l.width),w=Ie(l.height);if(l.boxSizing==="border-box"&&(Math.round(_+m)!==u&&(_-=kt(l,"left","right")+m),Math.round(w+y)!==s&&(w-=kt(l,"top","bottom")+y)),!Yr(t)){var v=Math.round(_+m)-u,C=Math.round(w+y)-s;Math.abs(v)!==1&&(_-=v),Math.abs(C)!==1&&(w-=C)}return $e(x.left,x.top,_,w)}var Ur=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof xe(t).SVGGraphicsElement}:function(t){return t instanceof xe(t).SVGElement&&typeof t.getBBox=="function"}}();function Yr(t){return t===xe(t).document.documentElement}function Xr(t){return et?Ur(t)?$r(t):Fr(t):Jt}function Vr(t){var u=t.x,s=t.y,l=t.width,x=t.height,m=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,y=Object.create(m.prototype);return Zt(y,{x:u,y:s,width:l,height:x,top:s,right:u+l,bottom:x+s,left:u}),y}function $e(t,u,s,l){return{x:t,y:u,width:s,height:l}}var Kr=function(){function t(u){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$e(0,0,0,0),this.target=u}return t.prototype.isActive=function(){var u=Xr(this.target);return this.contentRect_=u,u.width!==this.broadcastWidth||u.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var u=this.contentRect_;return this.broadcastWidth=u.width,this.broadcastHeight=u.height,u},t}(),Zr=function(){function t(u,s){var l=Vr(s);Zt(this,{target:u,contentRect:l})}return t}(),Jr=function(){function t(u,s,l){if(this.activeObservations_=[],this.observations_=new Kt,typeof u!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=u,this.controller_=s,this.callbackCtx_=l}return t.prototype.observe=function(u){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(u instanceof xe(u).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(u)||(s.set(u,new Kr(u)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(u){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(u instanceof xe(u).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(u)&&(s.delete(u),s.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var u=this;this.clearActive(),this.observations_.forEach(function(s){s.isActive()&&u.activeObservations_.push(s)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var u=this.callbackCtx_,s=this.activeObservations_.map(function(l){return new Zr(l.target,l.broadcastRect())});this.callback_.call(u,s,u),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Qt=typeof WeakMap<"u"?new WeakMap:new Kt,er=function(){function t(u){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var s=Gr.getInstance(),l=new Jr(u,s,this);Qt.set(this,l)}return t}();["observe","unobserve","disconnect"].forEach(function(t){er.prototype[t]=function(){var u;return(u=Qt.get(this))[t].apply(u,arguments)}});var Qr=function(){return typeof Ae.ResizeObserver<"u"?Ae.ResizeObserver:er}();const en=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"})),tn=ir(en);var Wt;function rn(){if(Wt)return ke;Wt=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=R;var t=m(le()),u=x(ge()),s=x(tn),l=x(Ge());function x(S){return S&&S.__esModule?S:{default:S}}function m(S,E){if(typeof WeakMap=="function")var D=new WeakMap,c=new WeakMap;return(m=function(e,i){if(!i&&e&&e.__esModule)return e;var r,o,f={__proto__:null,default:e};if(e===null||typeof e!="object"&&typeof e!="function")return f;if(r=i?c:D){if(r.has(e))return r.get(e);r.set(e,f)}for(const a in e)a!=="default"&&{}.hasOwnProperty.call(e,a)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,a))&&(o.get||o.set)?r(f,a,o):f[a]=e[a]);return f})(S,E)}function y(){return y=Object.assign?Object.assign.bind():function(S){for(var E=1;E<arguments.length;E++){var D=arguments[E];for(var c in D)({}).hasOwnProperty.call(D,c)&&(S[c]=D[c])}return S},y.apply(null,arguments)}function _(S,E,D){return(E=w(E))in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}function w(S){var E=v(S,"string");return typeof E=="symbol"?E:E+""}function v(S,E){if(typeof S!="object"||!S)return S;var D=S[Symbol.toPrimitive];if(D!==void 0){var c=D.call(S,E);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}const C="react-grid-layout";function R(S){var E;return E=class extends t.Component{constructor(){super(...arguments),_(this,"state",{width:1280}),_(this,"elementRef",t.createRef()),_(this,"mounted",!1),_(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new s.default(e=>{if(this.elementRef.current instanceof HTMLElement){const r=e[0].contentRect.width;this.setState({width:r})}});const c=this.elementRef.current;c instanceof HTMLElement&&this.resizeObserver.observe(c)}componentWillUnmount(){this.mounted=!1;const c=this.elementRef.current;c instanceof HTMLElement&&this.resizeObserver.unobserve(c),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:c,...e}=this.props;return c&&!this.mounted?t.createElement("div",{className:(0,l.default)(this.props.className,C),style:this.props.style,ref:this.elementRef}):t.createElement(S,y({innerRef:this.elementRef},e,this.state))}},_(E,"defaultProps",{measureBeforeMount:!1}),_(E,"propTypes",{measureBeforeMount:u.default.bool}),E}return ke}var At;function nn(){return At||(At=1,function(t){t.exports=Xt().default,t.exports.utils=Re(),t.exports.calculateUtils=at(),t.exports.Responsive=qr().default,t.exports.Responsive.utils=Vt(),t.exports.WidthProvider=rn().default}(Ze)),Ze.exports}var on=nn();const sn=or(on),an=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:7,h:2},{i:"c",x:0,y:2,w:9,h:7},{i:"d",x:0,y:10,w:4,h:4},{i:"e",x:4,y:10,w:5,h:7},{i:"f",x:0,y:14,w:4,h:3},{i:"s0",x:17,y:0,w:5,h:8},{i:"s1",x:22,y:0,w:5,h:8},{i:"s2",x:27,y:0,w:5,h:8},{i:"s3",x:17,y:9,w:5,h:8},{i:"s4",x:22,y:9,w:5,h:8},{i:"s5",x:27,y:9,w:5,h:8}],It=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:9,h:2},{i:"c",x:0,y:2,w:11,h:7},{i:"d",x:0,y:10,w:5,h:4},{i:"e",x:5,y:10,w:6,h:7},{i:"f",x:0,y:14,w:5,h:3},{i:"s0",x:11,y:0,w:7,h:8},{i:"s1",x:18,y:0,w:7,h:8},{i:"s2",x:25,y:0,w:7,h:8},{i:"s3",x:11,y:9,w:7,h:8},{i:"s4",x:18,y:9,w:7,h:8},{i:"s5",x:25,y:9,w:7,h:8}],xn=()=>{const{t}=tt(),[u,s]=oe.useState(!1),[l,x]=oe.useState(!1),[m,y]=oe.useState(!1),[_,w]=oe.useState(1),v=ee.chain.get("selected").value(),[C,R]=oe.useState(v.supports),[S,E]=oe.useState(v.player),[D,c]=oe.useState(v.raceFilterCondition||{distanceType:[],grade:[],ground:[]}),[e,i]=oe.useState(v.filterRace||{}),{db:r}=sr(),o=()=>{const[q,X]=Ye.useState(window.innerWidth),[te,Q]=Ye.useState(window.innerHeight);return Ye.useEffect(()=>{const se=()=>{Q(window.innerHeight),X(window.innerWidth)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),{height:te,width:q}},f=Math.floor((o().height-128-40)/18),a=Math.floor(o().width-10),d=ee.chain.get("layout").value()||It,[n,h]=oe.useState(d);if(!r)return null;const O=r.chain.get("races").value(),M=()=>x(!0),j=q=>{x(!1),E(q),v.player=q,ee.chain.get("selected").assign(v),ee.write()},T=q=>{s(!0),y(!0),w(q)},k=()=>{s(!1),y(!0)},A=q=>{const X={...C,[_]:q};R(X),y(!1),v.supports[_]=q,ee.chain.get("selected").assign(v),ee.write()},B=q=>{v.supports={0:{},1:{},2:{},3:{},4:{},5:{}},v.player={},q.playerId&&(v.player=r.chain.get("players").find({id:q.playerId}).value()),E(v.player),q.supportsId.forEach((X,te)=>{X&&(v.supports[te]=r.chain.get("supports").find({id:X}).value())}),R({...v.supports}),ee.chain.get("selected").assign(v),ee.write()},G=q=>{c(q);const X=Object.values(q).some(Q=>Q.length>0)?Object.entries(q).filter(([,Q])=>Q.length>0).reduce((Q,[se,fe])=>Q.filter(Se=>fe.includes(Se[se])),O):[],te={};for(let Q of X)te[Q.dateNum]?te[Q.dateNum].push(Q.id):te[Q.dateNum]=[Q.id];i(te),v.raceFilterCondition=q,v.filterRace=te,ee.chain.get("selected").assign({...v}),ee.write()},Y=q=>{ee.chain.set("layout",q),ee.write(),h(q)},U="bg-card border border-border rounded-md p-2",Z="w-full text-center bg-muted p-1 rounded-t-md cursor-move font-medium";return P.jsxs(P.Fragment,{children:[P.jsx(Sr,{children:P.jsx("title",{children:"育成 - 乌拉拉大胜利 - 赛马娘资料站"})}),P.jsxs(sn,{cols:32,layout:n,draggableCancel:".panel-title",draggableHandle:".panel-heading",rowHeight:f,width:a,onLayoutChange:Y,useCSSTransforms:!1,children:[P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,onClick:M,children:t("选择马娘")}),S.id?P.jsx("img",{src:We+S.imgUrl,alt:S.name,className:"w-full h-[calc(100%-22px)] object-contain",onClick:M}):P.jsx("div",{className:"flex items-center justify-center h-[calc(100%-22px)]",children:P.jsx(ie,{variant:"outline",onClick:M,children:t("选择马娘")})})]},"a"),P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,children:t("操作")}),P.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[P.jsx(ie,{variant:"outline",size:"sm",onClick:M,children:t("选择马娘")}),P.jsx(ie,{variant:"outline",size:"sm",onClick:k,children:t("支援卡查询")}),P.jsx(xr,{}),P.jsxs(nt,{children:[P.jsx(it,{asChild:!0,children:P.jsx(ie,{variant:"outline",size:"sm",children:t("比赛")})}),P.jsx(ot,{className:"w-80",children:P.jsx(br,{onChange:G,raceFilterCondition:D})})]}),P.jsx(Dr,{player:S,supports:C,loadDeck:B}),P.jsx(_r,{player:S,loadDeck:B}),P.jsx(ie,{variant:"outline",size:"sm",onClick:()=>h(an),children:t("初始化布局(有留白)")}),P.jsx(ie,{variant:"outline",size:"sm",onClick:()=>h(It),children:t("初始化布局(无留白)")})]})]},"b"),P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,children:t("事件")}),P.jsx(we,{className:"h-[calc(100%-22px)]",children:P.jsx(Xe,{idList:S.eventList,sortFlag:!0})})]},"c"),P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,children:t("技能")}),P.jsx(we,{className:"h-[calc(100%-22px)]",children:P.jsx(Ve,{idList:S.skillList,isNur:!0,size:"small"})})]},"d"),P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,children:t("比赛")}),P.jsx(we,{className:"h-[calc(100%-22px)]",children:P.jsx(lr,{raceList:S.raceList||[],filterRace:e})})]},"e"),P.jsxs("div",{className:U,children:[P.jsx("div",{className:Z,children:t("隐藏事件")}),P.jsx(we,{className:"h-[calc(100%-22px)]",children:P.jsx(Xe,{idList:S.hideEvent})})]},"f"),[0,1,2,3,4,5].map(q=>{const X=C[q];return P.jsx("div",{className:U,children:X!=null&&X.id?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:Z,children:P.jsx("span",{className:"panel-title cursor-pointer",onClick:()=>T(q),children:t("选择支援卡")})}),P.jsxs(we,{className:"h-[calc(100%-22px)]",children:[P.jsxs("div",{className:"flex gap-2",children:[P.jsx("img",{className:"w-1/4 h-auto",src:We+X.imgUrl,alt:X.name}),P.jsx("div",{className:"flex-1",children:P.jsx(Xe,{idList:X.eventList,pid:X.id})})]}),P.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:t("培训技能")}),P.jsx(Ve,{idList:X.possessionSkill,isNur:!0,size:"small"}),P.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:t("事件技能")}),P.jsx(Ve,{idList:X.trainingEventSkill,isNur:!0,size:"small"})]})]}):P.jsx("div",{className:"flex items-center justify-center h-full",children:P.jsx(ie,{variant:"outline",onClick:()=>T(q),children:t("选择支援卡")})})},`s${q}`)})]}),P.jsx(ct,{open:l,onOpenChange:x,children:P.jsxs(dt,{className:"max-w-[80vw]! h-[80vh]",children:[P.jsx(ft,{children:P.jsx(pt,{children:t("选择马娘")})}),P.jsx(we,{className:"h-full",children:P.jsx(ur,{onClick:j,sortFlag:!0})})]})}),P.jsx(ct,{open:m,onOpenChange:y,children:P.jsxs(dt,{className:"max-w-[80vw]! h-[80vh]",children:[P.jsx(ft,{children:P.jsx(pt,{children:t("选择支援卡")})}),P.jsx("div",{className:"h-full flex relative",children:P.jsx(wr,{formName:"nurSup",onClick:u?A:null,limitHeight:!0,sortFlag:!0})})]})})]})};export{xn as default};
