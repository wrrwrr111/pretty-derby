{"version":3,"sources":["db.js","pages/race.js","components/t.js","components/event.js","components/skill.js","pages/player.js","components/effect.js","pages/support.js","components/buff.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/intro.js","app-pc.js","pages/nurturing-mo2.js","pages/seed-mo.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDB","players","supports","skills","events","updateTime","races","buffs","effects","zh","en","has","0","1","2","3","4","5","player","filterList","class","text","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","onSelect","style","paddingLeft","paddingRight","paddingTop","dataSource","pagination","sorter","extra","scroll","y","lan","lanData","ZH","EN","t","EventList","eventList","id","find","pid","filter","event","choiceList","length","defaultActiveKey","TabPane","tab","maxHeight","overflowY","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","content","placement","SkillList","skillList","skillId","usedInList","SkillButton","skill","describe","condition","ability_value","ability_time","cooldown","rarity","borderRadius","color","width","justifyContent","onClick","display","position","top","left","src","imgUrl","preview","cdnServer","PlayerCard","isModalVisible","setIsModalVisible","cover","Meta","visible","onOk","onCancel","footer","resizemode","padding","flexDirection","fontSize","fontWeight","AdaptBox2","cellStyle","textAlign","borderWidth","borderStyle","borderColor","headerCellStyle","textShadow","backgroundColor","adaptTextWrapperStyle","alignItems","coloredGradeText","cellPadding","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox2","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","Player","state","list","playerList","prevProps","this","setState","justify","rare","item","xxl","lg","sm","xs","Component","defaultProps","EffectTable","render","description","Math","max","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","slice","rowKey","CheckboxGroup","Group","SupportCard","charaName","align","margin","trainingEventSkill","possessionSkill","Support","supportList","setList","chooseMode","setChooseMode","showMode","setShowMode","chosenList","setChosenList","checkedList","setCheckedList","checkOptions","Object","keys","changeChooseMode","indexOf","tempList","push","splice","update","options","checkedValues","support","flag","forEach","effect","BuffButton","itemLayout","renderItem","Item","Column","NurturingSupport","alt","RaceList","raceList","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","selected","setSupports","setPlayer","setRaces","decks","setDecks","setVisible","closePlayer","closeSupport","closeRace","saveDeck","deck","tmpDeck","imgUrls","supportsId","playerId","assign","shortid","generate","loadDeck","onConfirm","danger","remove","deleteDeck","onClose","getContainer","closable","mask","maskClosable","showSupport","newData","dynamicContentHeight","innerWidth","dynamicCardHeight","floor","dynamicCardWidth","dynamicCardBoxWidth","overflow","float","marginRight","flex","flexWrap","backgroundImage","backgroundRepeat","backgroundSize","shape","icon","EditOutlined","Set","Search","Skill","allSkillList","orderBy","allSupportList","allPlayerList","mySupports","mySkillList","supportId","add","setSkillList","skillSupportList","setSkillSupportList","skillPlayerList","setSkillPlayerList","skillName","setSkillName","checkedList1","setCheckedList1","checkedList2","setCheckedList2","checkedList3","setCheckedList3","localStorage","getItem","setItem","parseInt","mode","setMode","updateSkillList","check1","check2","check3","tempSkillList","str","icon_id","showModal","tempSupportList","tempPlayerList","handleOk","handleCancel","rareLabel","headerStyle","headerTextStyle","dynamicListHeight","maxWidth","lineHeight","checked","placeholder","enterButton","size","onSearch","searchText","overflowX","userId","blueLabels","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","minWidth","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","i","undefined","post","success","message","info","children","offset","rules","required","Button","count","initialValue","min","dots","tooltipPlacement","getFields","getFieldValue","validator","_","match","Promise","resolve","reject","Error","htmlType","SearchOne","List","fields","errors","field","marginBottom","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","level","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","CopyOutlined","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","disabled","closeSeedInput","withRouter","introV","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","onBeforeChange","nextStepIndex","history","onComplete","doneLabel","Header","Content","Footer","AppPc","langText","setLangText","document","getElementsByTagName","zIndex","theme","to","exact","path","component","Nurturing2","frameBorder","scrolling","target","rel","border","lists","cascade","arrow","SeedCard","gameId","wrap","App1","open","onOpenChange","reload","6","linkList","marginTop","onLeftClick","minHeight","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","sidebar","NurturingMO2","SeedMo","ua","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.835a74e7.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\ndb.set('zh',jsonDB.zh).write()\ndb.set('en',jsonDB.en).write()\n// db.set('lan','en').write()\n//\ndb.has('lan').value()||db.set('lan','zh').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React,{useState} from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Table } from 'antd';\r\n\r\n // { name: '',\r\n  //   date: '2 5',\r\n  //   dateNum: 34,\r\n  //   class: '',\r\n  //   grade: 'G3',\r\n  //   place: '',\r\n  //   ground: '',\r\n\r\n  //   distance: '1400',\r\n  //   distanceType: '',\r\n  //   order: '' }\r\n  // { class: [ '', '', '', '' ],\r\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\r\n  // place: [ '', '', '', '', '', '', '', '', '', '', '' ],\r\n  // ground: [ '', '' ],\r\n  // distanceType: [ '', '', '', '' ],\r\n  // direction: [ '', '', '' ],\r\n  // side: [ null, '', '', '' ] }\r\n const filterList= { class:\r\n    [ { text: '/', value: '' },\r\n      { text: '/', value: '' },\r\n      { text: '&/', value: '' },\r\n      { text: '/', value: '' } ],\r\n   grade:\r\n   [\r\n      { text: 'Pre-OP', value: 'Pre-OP' },\r\n      { text: 'OP', value: 'OP' },\r\n      { text: 'G1', value: 'G1' },\r\n      { text: 'G2', value: 'G2' },\r\n      { text: 'G3', value: 'G3' }\r\n    ],\r\n   place:\r\n    [ { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' } ],\r\n   ground: [ { text: '', value: '' }, { text: '', value: '' } ],\r\n   distanceType:\r\n   [\r\n     { text: '', value: '' },\r\n     { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' } ],\r\n   direction:\r\n    [ { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' } ],\r\n   side:\r\n    [ { text: '', value: null },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' },\r\n      { text: '', value: '' } ] }\r\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\r\n                  \"place\", \"ground\", \"distance\",\r\n                  \"distanceType\", \"direction\", \"side\"]\r\n  const labelTextDict ={name:\"\",date:\"\",class:\"\",grade:\"\",place:\"\",ground:\"\",distance:\"\",distanceType:\"\",direction:\"\",side:\"\"}\r\n  const getCorrespondingLabelText = (label)=>{\r\n      return labelTextDict[label]\r\n  }\r\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\r\n  const getColumns = (labels)=>{\r\n    return labels.map(label=> {\r\n      if(filterList['class']){\r\n        return {\r\n          title:getCorrespondingLabelText(label),\r\n          dataIndex:label,\r\n          filters:filterList[label],\r\n          onFilter: (value, record) => record[label] === value,\r\n        }\r\n      }else{\r\n        return{\r\n          title:getCorrespondingLabelText(label),\r\n          dataIndex:label\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  const Race = (props) =>{\r\n    const useViewport = () => {\r\n      // const [width, setWidth] = React.useState(window.innerWidth);\r\n      const [height,setHeight] = React.useState(window.innerHeight);\r\n      React.useEffect(() => {\r\n        const handleWindowResize = () => setHeight(window.innerHeight);\r\n        window.addEventListener(\"resize\", handleWindowResize);\r\n        return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n      }, []);\r\n      console.log('currentWidth::',height);\r\n      return {height};\r\n    };\r\n\r\n    const dynamicTableHeight = useViewport().height -300;\r\n\r\n    const allRaceList = db.get('races').value().map((race,index)=>{\r\n                      race.key=index\r\n                      return race\r\n                    })\r\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\r\n    let columns = getColumns(labels)\r\n    if(props.type==='medium'){\r\n      columns = getColumns(mediumLabels)\r\n    }\r\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\r\n      props.onSelect(selectedRows)\r\n      setSelectedRowKeys(selectedRowKeys)\r\n    }\r\n    const rowSelection = {\r\n      selectedRowKeys,\r\n      onChange:onSelectChange\r\n    }\r\n    // \r\n    const onChange = (pagination, filters, sorter, extra) => {\r\n      props.onSelect([])\r\n      setSelectedRowKeys([])\r\n    }\r\n    return(\r\n      <div style={{paddingLeft:200,paddingRight:200,paddingTop:40}}>\r\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\r\n      dataSource={allRaceList} onChange={onChange} pagination={false} scroll={{y:dynamicTableHeight}}/>\r\n      </div>\r\n      )\r\n  }\r\n\r\nexport default Race\r\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/zh.json'\r\nimport EN from '../assert/en.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value()||'zh'\r\nlet lanData = {}\r\nif(lan==='zh'){\r\n  lanData = ZH.zh\r\n}else{\r\n  lanData = EN.en\r\n}\r\nconst t = (text)=>{\r\n    return lanData[text] || text\r\n}\r\nexport  default t\r\n","import React from 'react';\r\nimport db from '../db.js'\r\nimport t from './t.js'\r\nimport {Row,Col,Popover,Button,Tabs } from 'antd';\r\n\r\nconst EventList = (props)=>{\r\n  const eventIdList = props.eventList\r\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\r\n  if(props.type==='multi'){\r\n    return(<>\r\n        {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n      </>\r\n    )\r\n  }\r\n  return (\r\n    <>\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <Tabs.TabPane tab=\"\" key=\"1\">\r\n          <div style={{maxHeight:200,overflowY:'auto'}}>\r\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n          </div>\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"\" key=\"2\">\r\n        {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n    </>\r\n  )\r\n}\r\nconst EventBox = (props)=>{\r\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\r\n    const ResultItem = choice[1].map((result,index)=>\r\n      <p key={index}>{result}</p>\r\n    )\r\n    return(\r\n      <Row key={index} gutter={[8,8]} className=\"list-row\">\r\n        <Col span={12}>\r\n          <p>{choice[0]}</p>\r\n          <p>{t(choice[0])}</p>\r\n        </Col>\r\n        <Col span={12}>{ResultItem}</Col>\r\n      </Row>\r\n    )\r\n  })\r\n\r\n  return(\r\n    <Popover content={<>\r\n      <p>{t(props.event.name)}</p>\r\n      {ChoiceItem}\r\n    </>} title={props.event.name} placement={'bottom'}>\r\n      <Button className='event-button'>{props.event.name}</Button>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport {EventList}\r\n","import React from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Row,Col,Popover,Button,Image } from 'antd';\r\nimport t from './t.js'\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst SkillList = (props)=>{\r\n  const skillList = props.skillList\r\n\r\n  return (\r\n    <Row gutter={0}>\r\n      {skillList.map((skillId,index)=>\r\n        <Col span={12} key={index}>\r\n          <SkillButton id={skillId} usedInList={true}>\r\n        </SkillButton>\r\n      </Col>)}\r\n    </Row>\r\n  )\r\n}\r\nconst SkillButton = (props)=>{\r\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\r\n  const inListStyleOverride = {\r\n    borderRadius:'8px',\r\n    color:'#303030',\r\n    width:'96%',\r\n    justifyContent:'flex-start'\r\n  }\r\n    return(\r\n      <Popover content={<>\r\n      <p>{' '+t(skill.name)}</p>\r\n      <p>{' '+skill.describe}</p>\r\n      <p>{' '+t(skill.describe)}</p>\r\n      <p>{skill.condition}</p>\r\n      <p>{' '+t(skill.condition)}</p>\r\n      <p>{' '+skill.ability_value/10000}</p>\r\n      <p>{' ' + skill.ability_time/10000 +'s * /1000'}</p>\r\n      <p>{' ' + skill.cooldown/10000 + 's * /1000'}</p>\r\n      {/* <p> = ( / 100)%</p> */}\r\n      {/* <p> =  *  / 1000</p> */}\r\n      {/* <p> =  *  / 1000</p> */}\r\n      </>} title={skill.name}\r\n      >\r\n        <Button type={'primary'} className={'skill-btn skill-btn-'+skill.rarity} style={props.usedInList?{...inListStyleOverride}:{}} onClick={()=>props.onClick&&props.onClick(skill)}>\r\n          <div style={props.usedInList?{display:'flex',position:'absolute',top:4,left:8}:{}}>\r\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\r\n          {`\\xa0\\xa0${skill.name}`}\r\n          </div>\r\n        </Button>\r\n      </Popover>\r\n    )\r\n}\r\n\r\nexport {SkillList,SkillButton}\r\n","import React,{useState} from 'react';\r\nimport db from '../db.js'\r\nimport t from '../components/t.js'\r\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\r\n\r\nimport {EventList} from '../components/event.js'\r\nimport {SkillList} from '../components/skill.js'\r\n\r\n// const CheckboxGroup = Checkbox.Group\r\n\r\n// todo \r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst PlayerCard = (props)=>{\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    if(props.onSelect){\r\n      props.onSelect(props.data)\r\n    }else{\r\n      setIsModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card cover={\r\n        <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\r\n\r\n      }>\r\n        <Card.Meta title={t(props.data.name)} ></Card.Meta>\r\n      </Card>\r\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} footer={null} width={800} >\r\n        <div style={{height:144,display:'flex'}}>\r\n          <Image src={cdnServer+props.data.imgUrl} preview={false} width={128} height={128} resizemode={'cover'}></Image>\r\n          <div style={{display:'flex',height:128,padding:24,flexDirection:'column',justifyContent:'space-between'}}>\r\n            <div style={{fontSize:20,fontWeight:700}}>{t(props.data.name)}</div>\r\n            <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{props.data.name}</div>\r\n          </div>\r\n        </div>\r\n        <Divider></Divider>\r\n        <AdaptBox2 player={props.data}></AdaptBox2>\r\n        <Divider></Divider>\r\n        <GrowBox2 player={props.data}></GrowBox2>\r\n        <Divider></Divider>\r\n        <SkillList skillList={props.data.skillList}></SkillList>\r\n        <Divider></Divider>\r\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nconst AdaptBox2 = (props)=>{\r\n\r\n  const tableStyle = {\r\n    width:\"100%\",\r\n    cellPadding:4,\r\n  }\r\n  const cellStyle = {\r\n    width:'20%',\r\n    height:'32px',\r\n    fontSize: 16,\r\n    textAlign: 'flex-start',\r\n    paddingLeft:16,\r\n    fontWeight: 500,\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const headerCellStyle = {\r\n    width:'20%',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n    backgroundColor:'#32cd32C0',\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const adaptTextWrapperStyle = {paddingRight:16,display:'flex',width:'100%',alignItems:'center',justifyContent:'space-between'}\r\n\r\n  const coloredGradeText = (text)=>{\r\n    let color = 'gray';\r\n    switch (text) {\r\n      case 'S':\r\n        color = '#FFD700';\r\n        break\r\n      case 'A':\r\n        color = '#FFA500';\r\n        break\r\n      case 'B':\r\n        color = '#BA55D3';\r\n        break\r\n      case 'C':\r\n        color = '#90EE90';\r\n        break\r\n      case 'D':\r\n        color = '#87CEEB';\r\n        break\r\n      default:\r\n        color = 'gray'\r\n    }\r\n    return <div style={{fontSize:22,fontWeight:700,textShadow: \"0 2px #33333370\",color:color}}>{text}</div>\r\n  }\r\n  // {[`/\\xa0`,coloredGradeText(props.player.grass)]}\r\n  return(\r\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\r\n      <table {...tableStyle} >\r\n        <tbody>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\",fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.grass)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.dirt)]}</div></td>\r\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{`\\xa0`}</td>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.shortDistance)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.mile)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.mediumDistance)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none solid none'}}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.longDistance)]}</div></td>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,borderRadius:\"0 0 0 8px\",borderStyle:'none solid none none',fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.escape)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.leading)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.insert)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.tracking)]}</div></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n\r\n\r\n}\r\n\r\nconst GrowBox2= (props)=>{\r\n  const tableStyle = {\r\n    width:\"100%\",\r\n    cellPadding:4,\r\n  }\r\n  const headerCellStyle = {\r\n    width:'20%',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n    backgroundColor:'#32cd32C0',\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const cellStyle = {\r\n    width:'20%',\r\n    height:'40px',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid none none',\r\n    borderColor:'gray',\r\n  }\r\n\r\n  return(\r\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\r\n      <table {...tableStyle} >\r\n        <tbody>\r\n          <tr>\r\n            <th style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\"}}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>/</th>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 0 8px\"}}>{props.player.speedGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}>{props.player.wisdomGrow}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\n//todo filter\r\nclass Player extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {list:props.playerList}\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.playerList !== prevProps.playerList){\r\n      this.setState({list:this.props.playerList})\r\n    }\r\n  }\r\n  render(){\r\n    return(\r\n      <Row justify=\"space-around\">\r\n        <Col span={22}>\r\n          {\r\n            ['3','2','1'].map(rare=>(\r\n              <Row gutter={[16,16]} key={rare}>\r\n                <Divider>{rare}</Divider>\r\n                {this.state.list.filter(item=>item.rare===rare).map(player=>\r\n                  <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\r\n                    <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\r\n                  </Col>)\r\n                }\r\n              </Row>\r\n            ))\r\n          }\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\nPlayer.defaultProps={\r\n  playerList:db.get('players').value()\r\n}\r\n\r\nexport default Player\r\n","import React from 'react';\r\n// import {useState} from 'react';\r\nimport { Table,Popover } from 'antd';\r\n\r\nimport db from '../db.js'\r\nimport t from './t.js'\r\n\r\nconst EffectTable = (props)=>{\r\n  const effects = db.get('effects').value()\r\n  let columns = [\r\n    {title:'',dataIndex:'type',key:'type',render:type=><Popover content={<>\r\n      <p>{effects[type].name}</p>\r\n      <p>{t(effects[type].name)}</p>\r\n      <p>{effects[type].description}</p>\r\n      <p>{t(effects[type].description)}</p>\r\n    </>}>\r\n      <p>{t(effects[type].name)}</p>\r\n    </Popover>},\r\n    {title:'',dataIndex:'init',key:'init',render:text=>text},\r\n    {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv50',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20)},\r\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,record.limit_lv25)},\r\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30)},\r\n    {title:'lv35',dataIndex:'limit_lv35',key:'limit_lv35',render:(text,record)=>\r\n        Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n          record.limit_lv25,record.limit_lv30,record.limit_lv35)},\r\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40)},\r\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40,record.limit_lv45)},\r\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40,\r\n        record.limit_lv45,record.limit_lv50)},\r\n      ]\r\n  if(props.rarity ===2 ){\r\n    columns = columns.slice(0,columns.length-1)\r\n  }else if(props.rarity === 1){\r\n    columns = columns.slice(0,columns.length-2)\r\n  }\r\n\r\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\r\n}\r\nexport {EffectTable}\r\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {EffectTable} from '../components/effect.js'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      <Modal title={`${props.data.name}----${t(props.data.charaName)}`}\n        visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n          <Row justify='space-around' align='middle'>\n            <Col span={4}>\n              <Image src={cdnServer+props.data.imgUrl} preview={false} width={'100%'} />\n            </Col>\n            <Col span={19}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n              <Divider style={{margin:'4px 0'}}></Divider>\n              <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n              <Divider style={{margin:'4px 0'}}></Divider>\n              <SkillList skillList={props.data.possessionSkill}></SkillList>\n            </Col>\n\n            <Divider></Divider>\n            <EffectTable effects={props.data.effects} rarity={props.data.rarity}></EffectTable>\n\n          </Row>\n      </Modal>\n    </>\n  )\n}\n\nconst Support = (props)=>{\n  const [list,setList]=useState(props.supportList||db.get('supports').value())\n  const [chooseMode,setChooseMode]=useState(false)\n  const [showMode,setShowMode]=useState(false)\n  const [chosenList,setChosenList]=useState(db.get('mySupports').value()||[])\n  const [checkedList,setCheckedList]=useState([])\n  \n  const effects = db.get('effects').value()\n  const checkOptions = Object.keys(effects).map(key=>{return {label:t(effects[key].name),value:key}})\n  const changeChooseMode = () =>{\n    setChooseMode(!chooseMode)\n    setShowMode(!chooseMode)\n  }\n  const changeShowMode = () =>{\n    setShowMode(!showMode)\n  }\n  const onSelect = (item) =>{\n    let index = chosenList.indexOf(item.id)\n    let tempList = chosenList;\n    if (index === -1){\n      tempList.push(item.id)\n    }else{\n      tempList.splice(index,1)\n    }\n    db.update('mySupports',tempList).write()\n    setChosenList(tempList)\n  }\n  const onChange = (checkedValues)=>{\n    let tempList = list\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    setCheckedList(checkedValues)\n    setList(tempList)\n  }\n\n    return (\n      <Row justify=\"space-around\">\n        <Col span={22}>\n          <Button onClick={changeShowMode}></Button>\n          <Button onClick={changeChooseMode}></Button>\n          {chooseMode && <Button onClick={changeChooseMode} type='primary'></Button>}\n        </Col>\n        <Col span={22}>\n          <CheckboxGroup options={checkOptions} value={checkedList} onChange={onChange} />\n        </Col>\n        <Col span={22}>\n      {\n        ['SSR','SR','R'].map(rare=>\n          <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}</Divider>\n            {list.filter(item=>item.rare===rare).map(support=>\n              <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}\n              className={showMode&&chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                <SupportCard data={support} onSelect={chooseMode?onSelect:props.onSelect}\n                chooseMode={props.chooseMode}></SupportCard>\n                {/* {support.effects} */}\n              </Col>)\n            }\n          </Row>\n        )\n      }\n        </Col>\n      </Row>\n      )\n}\n\nexport default Support\n","import React from 'react';\n// import {useState} from 'react';\nimport db from '../db.js'\n\nimport { List,Popover,Button } from 'antd';\n// import t from './t.js'\n\nconst BuffButton = (props)=>{\n  const buffs = db.get('buffs').value()\n  return(\n    <Popover content={\n      <List itemLayout=\"horizontal\" dataSource={buffs}\n      renderItem={item=>\n        <List.Item>\n          <p>{item.name}</p>\n          <p>{item.describe}</p>\n        </List.Item>\n      }/>\n    }>\n      <Button>Buff</Button>\n    </Popover>\n  )\n}\nexport {BuffButton}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <Row>\n          <Col span={4}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={props.data.skillList} ></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </Row>\n  )\n}\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n\n  return(\n    <Row className='nurturing-box' gutter={[32,8]}>\n\n      <Col sm={7} xs={24}>\n        <Button type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        <Button onClick={showDrawer}></Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider></Divider>\n        <Row>\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Col>\n        </Row>\n        <Divider></Divider>\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\n        <Drawer\n        title=\"\"\n        onClose={onDrawerClose}\n        visible={visible}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n        closable={true}\n        placement=\"left\"\n        mask={true}\n        maskClosable={true}\n        width={'95%'}\n      >\n        <Table dataSource={races} pagination={false}>\n          <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n          <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n          <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n          <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n        </Table>\n      </Drawer>\n      {player.id&&\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n        }\n      </Col>\n      <Col sm={17} xs={24}>\n        <Row gutter={[16,16]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index}>\n            <Button onClick={()=>showSupport(index)}></Button>\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\n          </Col>\n        )}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\n\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    console.log('currentWidth::',height);\n    return {height};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  const dynamicCardHeight = Math.floor(dynamicContentHeight / 2)\n  const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4) \n  const dynamicCardBoxWidth = dynamicCardWidth * 3\n  \n  return(\n    <div style={{display:'flex',justifyContent:'center'}}>\n      <div style={{height:dynamicContentHeight,overflowY:'auto'}}>\n        <Button className='add-player' type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        <Popover content={\n          <Table dataSource={races} pagination={false} style={{height:dynamicContentHeight,overflow:'auto'}}>\n            <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n            <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n            <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n            <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n          </Table>\n        }>\n          <Button></Button>\n        </Popover>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider style={{margin:'4px 0'}}></Divider>\n        {player.id&&<>\n          <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='20%'\n            style={{float:'left',marginRight:'8px'}}></img>\n          <EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>\n          <RaceList raceList={player.raceList}></RaceList>\n          <Divider style={{margin:'4px 0'}}></Divider>\n          <SkillList skillList={player.skillList}></SkillList>\n        </>}\n\n\n\n      </div>\n\n      <div style={{flex:`0 0 ${dynamicCardBoxWidth}px`,display:'flex',flexWrap:'wrap'}}>\n        {[0,1,2,3,4,5].map(index=>\n            supports[index]&&supports[index].id?\n              <div style={{\n                  width:dynamicCardWidth,\n                  height:dynamicCardHeight,\n                  backgroundImage:`url(${cdnServer+supports[index].imgUrl})`,\n                  backgroundRepeat:'no-repeat',\n                  backgroundSize:'cover'}}>\n                <div style={{\n                  backgroundColor:'rgba(0,0,0,0.2)',\n                  height:'100%',\n                  padding:'10px'}}>\n                <Tooltip title=\"\">\n                  <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}/>\n                </Tooltip>\n                <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n                <Divider style={{margin:'8px 0'}}></Divider>\n                <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n                </div>\n              </div>\n            :<Button onClick={()=>showSupport(index)}></Button>\n        )}\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </div>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\r\nimport { Divider,Row,Col,Button,Checkbox,Modal,Tooltip,PageHeader,Switch,Input} from 'antd';\r\n\r\nimport db from '../db.js'\r\nimport Support from './support.js'\r\nimport Player from './player.js'\r\nimport t from '../components/t.js'\r\nimport {SkillButton} from '../components/skill.js'\r\nconst CheckboxGroup = Checkbox.Group\r\nconst { Search } = Input\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst Skill = () =>{\r\n  // \r\n  const allSkillList = db.get('skills').orderBy('db_id').value()\r\n  const allSupportList = db.get('supports').value()\r\n  const allPlayerList = db.get('players').value()\r\n  const mySupports = db.get('mySupports').value()\r\n  let mySkillList = new Set()\r\n  mySupports.forEach(supportId=>{\r\n    let support = db.get('supports').find({id:supportId}).value()\r\n    support.skillList.forEach(skillId=>{\r\n      mySkillList.add(skillId)\r\n    })\r\n  })\r\n\r\n  const [skillList,setSkillList] = useState(allSkillList)\r\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\r\n  const [skillPlayerList,setSkillPlayerList] = useState(allPlayerList)\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  // \r\n  const [skillName, setSkillName] = useState('');\r\n\r\n  const [checkedList1, setCheckedList1] = useState([]);\r\n  const [checkedList2, setCheckedList2] = useState([]);\r\n  const [checkedList3, setCheckedList3] = useState([]);\r\n  // init supportMode\r\n  localStorage.getItem('supportMode')===null&&localStorage.setItem('supportMode',0)\r\n  const [mode,setMode] = useState(parseInt(localStorage.getItem('supportMode')))\r\n  const checkOptions1 = [\r\n    {label:'',value:'normal'},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''}\r\n  ]\r\n  const checkOptions2 =[\r\n    {label:'',value:'10011'},\r\n    {label:'',value:'10021'},\r\n    {label:'',value:'10031'},\r\n    {label:'',value:'10041'},\r\n    {label:'',value:'10051'},\r\n    {label:'',value:'20011'},\r\n    {label:'',value:'20021'},\r\n    // {label:'20031',value:'20031'},\r\n    {label:'',value:'20041'},\r\n    {label:'',value:'20051'},\r\n    {label:'',value:'20061'},\r\n    // {label:'20071',value:'20071'},\r\n    // {label:'20081',value:'20081'},\r\n    {label:'',value:'20091'},\r\n    {label:'(debuff)',value:'30011'},\r\n    {label:'(debuff)',value:'30041'},\r\n    {label:'(debuff)',value:'30051'},\r\n    {label:'(debuff)',value:'30071'}\r\n  ]\r\n  const checkOptions3 = [\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''}\r\n  ]\r\n\r\n  const onChange1=(checkedValues)=>{\r\n    setCheckedList1(checkedValues)\r\n    updateSkillList(checkedValues,checkedList2,checkedList3)\r\n    \r\n  }\r\n  const onChange2 = (checkedValues)=>{\r\n    setCheckedList2(checkedValues)\r\n    updateSkillList(checkedList1,checkedValues,checkedList3)\r\n  }\r\n  const onChange3 = (checkedValues)=>{\r\n    setCheckedList3(checkedValues)\r\n    updateSkillList(checkedList1,checkedList2,checkedValues)\r\n  }\r\n  const updateSkillList = (check1,check2,check3)=>{\r\n    let tempSkillList = allSkillList\r\n    if(check1.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check1.forEach(value=>{\r\n          if(skill.describe){\r\n            if(value==='normal' && skill.describe.indexOf('') === -1 && skill.describe.indexOf('') === -1){\r\n              flag = 1\r\n            }else if(skill.describe.indexOf(value)!==-1){\r\n              flag = 1\r\n            }\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    if(check2.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check2.forEach(value=>{\r\n          let str = skill.icon_id +''\r\n          if(str){\r\n            if(str[0] === value[0] && str[3] === value[3] ){\r\n              flag = 1\r\n            }\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    if(check3.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check3.forEach(value=>{\r\n          if(skill.rare === value){\r\n            flag = 1\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    setSkillList(tempSkillList)\r\n  }\r\n  const resetCheckbox=()=>{\r\n    setCheckedList1([])\r\n    setCheckedList2([])\r\n    setCheckedList3([])\r\n    setSkillList(allSkillList)\r\n  }\r\n\r\n  const showModal = (skill) => {\r\n    let tempSupportList = allSupportList.filter(support=>{\r\n      let flag = 0;\r\n      support.skillList.forEach(id=>{\r\n        if (id===skill.id){\r\n          flag = 1\r\n        }\r\n      })\r\n      return flag\r\n    })\r\n    let tempPlayerList = allPlayerList.filter(player=>{\r\n      let flag = 0;\r\n      player.skillList.forEach(id=>{\r\n        if (id===skill.id){\r\n          flag = 1\r\n        }\r\n      })\r\n      return flag\r\n    })\r\n    setSkillName(skill.name)\r\n    setSkillSupportList(tempSupportList)\r\n    setSkillPlayerList(tempPlayerList)\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  const changeMode = ()=>{\r\n    localStorage.setItem('supportMode',1-mode)\r\n    setMode(1-mode)\r\n  }\r\n  const rareLabel={'':'','':' ','':''}\r\n\r\n  const headerStyle = {\r\n    backgroundColor:'#1e90ffA0',\r\n    height:48,\r\n    borderRadius:5,\r\n    margin:1,\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center'\r\n  }\r\n  const headerTextStyle = {\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n  }\r\n\r\n  const onSearch = (searchText) => {\r\n    const fullSkillList = allSkillList; \r\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\r\n    setCheckedList1([])\r\n    setCheckedList2([])\r\n    setCheckedList3([])\r\n    setSkillList(tempSkillList)\r\n  };\r\n  \r\n  const useViewport = () => {\r\n    const [width, setWidth] = React.useState(window.innerWidth);\r\n    const [height,setHeight] = React.useState(window.innerHeight);\r\n    React.useEffect(() => {\r\n      const handleWindowResize = () => setHeight(window.innerHeight);\r\n      window.addEventListener(\"resize\", handleWindowResize);\r\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n    }, []);\r\n    console.log('currentWidth::',height);\r\n    return {height};\r\n  };\r\n\r\n  const dynamicListHeight = useViewport().height - 128 - 90;\r\n  return(<>\r\n    <div style={{display:'flex',justifyContent:'center',paddingTop:40}}>\r\n      <div style={{maxWidth:800}}>\r\n        <Row>\r\n          <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\r\n          <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\r\n          <Col span={6}>\r\n            <div style={{height:dynamicListHeight,overflowY:'scroll',display:'flex',flexDirection:'column'}}>\r\n              <div style={{height:16}}/>\r\n              <Button type={'danger'} onClick={resetCheckbox} style={{width:'100%'}}></Button>\r\n              <Divider/>\r\n              <div>\r\n                <Tooltip title=\"\">\r\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}></span>\r\n                  <Switch checked={mode} onChange={changeMode} />\r\n                </Tooltip>\r\n              </div>\r\n              <div>\r\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}></span>\r\n                <Search\r\n                  placeholder=\"\"\r\n                  enterButton=\"\"\r\n                  size=\"middle\"\r\n                  style={{ width: '100%' }}\r\n                  onSearch={onSearch}\r\n                />\r\n              </div>\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions1} value={checkedList1} onChange={onChange1} />\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions2} value={checkedList2} onChange={onChange2} />\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions3} value={checkedList3} onChange={onChange3} />\r\n            </div>\r\n          </Col>\r\n          <Col span={18}>\r\n            <div style={{height:dynamicListHeight,overflowY:'scroll',overflowX:'hidden'}}>\r\n              {['','',''].map(rare=>\r\n                <Row gutter={[8,8]} key={rare}>\r\n                  <Divider>{rareLabel[rare]}</Divider>\r\n                  { skillList.filter(item=>mode?mySkillList.has(item.id)&&(item.rare === rare):item.rare === rare).map(skill=>\r\n                    <Col span={12}>\r\n                      <SkillButton usedInList={true} skill={skill} key={skill.id} onClick={showModal}></SkillButton>\r\n                    </Col>\r\n                  )\r\n                  }\r\n                  <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\r\n                    <PageHeader title={skillName}>{t(skillName)}</PageHeader>\r\n                    <Support supportList={skillSupportList} ></Support>\r\n                    <Player playerList={skillPlayerList} ></Player>\r\n                  </Modal>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </Col>\r\n\r\n\r\n\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  </>)\r\n}\r\n\r\nexport default Skill\r\n\r\n","import React,{useState} from 'react';\nimport { Row,Alert,Image,Button,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\nlet userId = db.get('userId').value()\n// console.log(userId)\n\n/*\nuserId \nid\nid\n - speed stamina power guts wisdom\n - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n\nid\nid\n\ntotal blue\ntotal red\nwhite num\n*/\n// userId\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // \n    const formData = {...tmpSeed}\n    formData.userId = userId || db.get('userId').value()\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    formData['supportId'] = value['support'].id\n    delete formData['support']\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('https://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('')\n      props.onFinish()\n    }else{\n      message.info('')\n    }\n  }\n  const list = ['','1','2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{''}</Radio.Button>\n          <Radio.Button value={'stamina'}>{''}</Radio.Button>\n          <Radio.Button value={'power'}>{''}</Radio.Button>\n          <Radio.Button value={'guts'}>{''}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'mile'}>{''}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{''}</Radio.Button>\n          <Radio.Button value={'leading'}>{''}</Radio.Button>\n          <Radio.Button value={'insert'}>{''}</Radio.Button>\n          <Radio.Button value={'tracking'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={''} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='  ' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={3}>\n          <Form.Item label='' name={'support'} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='id' name='gameId' rules={[{ required: true},\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              console.log(\"!!!!\",value)\n              if (value.match(/^[0-9]\\d*$/g) && value.length===9) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('9id'));\n            },\n          }),\n          ]}>\n            <Input placeholder=\"id\" style={{ width:'100%' }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              \n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row justify='center'>\n                  <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{''}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{''}</Radio.Button>\n                      <Radio.Button value={'power'}>{''}</Radio.Button>\n                      <Radio.Button value={'guts'}>{''}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'mile'}>{''}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{''}</Radio.Button>\n                      <Radio.Button value={'leading'}>{''}</Radio.Button>\n                      <Radio.Button value={'insert'}>{''}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{''}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}></Button>\n              </Col>\n                </Row>\n                </Space>\n            ))}\n            <Row justify='center'>\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n                >\n                \n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['supportLevel']){\n      formData.attrs.push('supportLevel')\n      formData.levels.push(value['supportLevel'])\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={10}>\n          <PageHeader title=''></PageHeader>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player0`}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={10}>\n          <PageHeader title={''}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n        <Col span={4}>\n          <PageHeader title={''}></PageHeader>\n          <Col span={20}>\n\n          <Form.Item label='' name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n        <Button htmlType=\"button\" onClick={()=>onReset()}>\n          \n        </Button>\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          \n        </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\n\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\n\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n\n  const columns = [\n    {title:'id',dataIndex:'gameId',key:'gameId',render:(text,seed)=>(<>\n      <Row>\n        <p>{text}</p> \n        <CopyToClipboard text={text} onCopy={()=>message.info('')}>\n          <Button shape=\"circle\" icon={<CopyOutlined />}/>\n        </CopyToClipboard>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(seed)}/>\n        <p>{seed.likes?seed.likes.length:0}</p>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(seed)}/>\n        <p>{seed.dislikes?seed.dislikes.length:0}</p>\n      </Row>\n      </>)},\n    {title:'',dataIndex:'playerId-0',key:'playerId-0',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',dataIndex:'blue-0',key:'blue-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{blueLabels[text]}</span>\n        <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'red-0',key:'red-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{redLabels[text]}</span>\n        <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'greenLevel-0',key:'greenLevel-0',\n      render:(text,record)=>(\n        <Row>\n          <span className='rate-label'></span>\n          <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n        </Row>)},\n    {title:'1',dataIndex:'playerId-1',key:'playerId-1',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'2',dataIndex:'playerId-2',key:'playerId-2',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',key:'allBlue',render:(text,record)=>(\n      Object.keys(blueLabels).map(key=>{\n        if(record[key]){\n          // console.log(key,record[key])\n          return (\n            <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{blueLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n    )},\n      {title:'',key:'allRed',render:(text,record)=>(\n        Object.keys(redLabels).map(key=>{\n          if(record[key]){\n            return (\n              <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{redLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n      )},\n      {title:'',dataIndex:'white',key:'white',render:text=>(text)},\n      {title:'',dataIndex:'supportId',key:'supportId',\n      render:text=>(<SupportImage id={text}></SupportImage>)},\n      {title:'',dataIndex:'supportLevel',key:'supportLevel',\n      render:(text,record)=>(\n      <Row>\n        <Rate count={4} value={record['supportLevel']} disabled></Rate>\n      </Row>)}\n  ]\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('')\n      }\n    }else{\n      message.info('')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={()=>showSeedInput()}></Button>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider></Divider>\n    <Row justify='center'>\n      <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/>\n    </Row>\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'',\n      element:'.menu-player',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/'\n    },{\n      title:'',\n      element:'.menu-support',\n      intro:<>\n          <p></p>\n          <p></p>\n          <p></p>\n          <p></p>\n        </>,\n      href:'/support'\n    },{\n      title:'',\n      element:'.menu-skill',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/skill'\n    },{\n      title:'',\n      element:'.menu-race',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/race'\n    },{\n      title:'',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'',\n      element:'.menu-seed',\n      intro:<>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/seed'\n    },{\n      title:'',\n      element:'.reset-nur',\n      intro:<>\n      <p></p>\n      <p></p>\n    </>,\n    },{\n      title:'',\n      element:'.reset-intro',\n      intro:<>\n      <p></p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\r\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\r\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\r\nimport {message} from 'antd'\r\nimport 'antd/dist/antd.css';\r\nimport './index.css'\r\n\r\n\r\nimport db from './db.js'\r\n\r\nimport Race from './pages/race.js'\r\nimport Player from './pages/player.js'\r\nimport Support from './pages/support.js'\r\nimport Nurturing from './pages/nurturing.js'\r\nimport Nurturing2 from './pages/nurturing2.js'\r\nimport Skill from './pages/skill.js'\r\nimport Seed from './pages/seed.js'\r\n\r\nimport IntroIndex from './components/intro.js'\r\n\r\nconst { Header, Content, Footer } = Layout;\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst AppPc = ()=>{\r\n  let lan = db.get('lan').value()\r\n  const [langText,setLangText] = useState(lan==='zh'?'English':'')\r\n  const changeLan=()=>{\r\n    if(lan === 'zh'){\r\n      lan = 'en'\r\n      db.set('lan','en').write()\r\n      setLangText('')\r\n      message.info('Refresh the website ')\r\n    }else{\r\n      lan = 'zh'\r\n      db.set('lan','zh').write()\r\n      setLangText('English')\r\n      message.info('')\r\n    }\r\n  }\r\n  const resetNur =()=>{\r\n    db.set('selected',{\r\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n      player:{},\r\n      races:[]\r\n    }).write()\r\n    db.set('myDecks',[]).write()\r\n  }\r\n  const resetIntro = ()=>{\r\n    localStorage.setItem('introV',null)\r\n  }\r\n\r\n  //overflow\r\n  const dom = document.getElementsByTagName(\"body\");\r\n  dom[0].style.overflowY = \"scroll\";\r\n\r\n  return (\r\n      // <UserAgentProvider ua={window.navigator.userAgent}>\r\n<Router>\r\n    <IntroIndex></IntroIndex>\r\n    <Layout className=\"layout\">\r\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\r\n      <Menu theme=\"dark\" mode=\"horizontal\">\r\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'></Link></Menu.Item>\r\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'></Link></Menu.Item>\r\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'></Link></Menu.Item>\r\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'></Link></Menu.Item>\r\n        <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'></Link></Menu.Item>\r\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>new</Link></Menu.Item>\r\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'></Link></Menu.Item>\r\n      </Menu>\r\n    </Header>\r\n    <Content style={{ paddingTop:'64px'}} >\r\n      <Route exact path=\"/\" component={Player}/>\r\n      <Route path=\"/support\" component={Support}/>\r\n      <Route path=\"/skill\" component={Skill}/>\r\n      <Route path=\"/nurturing\" component={Nurturing}/>\r\n      <Route path=\"/nurturing2\" component={Nurturing2}/>\r\n      <Route path=\"/seed\" component={Seed}/>\r\n      <Route path=\"/race\" component={Race}/>\r\n    </Content>\r\n  <Footer style={{padding:'12px'}}>\r\n    <Row gutter={[16,16]}>\r\n      <Col span={2}>\r\n        <Button onClick={changeLan}>{langText}</Button>\r\n      </Col>\r\n      <Col span={2}>\r\n        <Popover content={<p></p>}>\r\n          <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}></Button>\r\n         </Popover>\r\n      </Col>\r\n      <Col span={3}>\r\n        <Popconfirm title=\"\" onConfirm={resetNur}>\r\n          <Popover content={<p></p>}>\r\n            <Button className='reset-nur' placement=\"bottom\"></Button>\r\n          </Popover>\r\n        </Popconfirm>\r\n      </Col>\r\n      <Col span={11}></Col>\r\n      <Col span={2}>\r\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\r\n          <Button placement=\"bottom\"></Button>\r\n        </Popover>\r\n      </Col>\r\n      <Col span={2}>\r\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\r\n      </Col>\r\n      <Col span={2}>\r\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\r\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\r\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"   \" title=\"   \" />\r\n        </a>\r\n      </Popover>\r\n      </Col>\r\n    </Row>\r\n  </Footer>\r\n  </Layout>\r\n</Router>\r\n      // </UserAgentProvider>\r\n  )\r\n}\r\n\r\nexport default AppPc\r\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\n// import Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  // const showRace = ()=>{\n  //   setNeedSelect(true)\n  //   setIsRaceVisible(true);\n  // }\n  // const closeRace = () => {\n  //   setIsRaceVisible(false);\n  // };\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n\n  return(\n    <Row className='nurturing-box' gutter={[16,16]}>\n      <Col sm={8} xs={24}>\n        <Button type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <BuffButton></BuffButton>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl}  width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button></Button>\n        </Popover>\n\n        <br></br>\n\n      </Col>\n        <Row justify=\"space-around\">\n          <Col span={4}>{\n            player.imgUrl&&\n            <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='100%'></img>\n          }\n          </Col>\n          <Col span={4}>\n            <Popover content={<EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n          <Col span={4}>\n            <Popover content={<RaceList raceList={player.id?player.raceList:[]}></RaceList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n          <Col span={4}>\n            <Popover content={<SkillList skillList={player.id?player.skillList:[]}></SkillList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n        </Row>\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Tooltip title=\"\">\n              <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}></Button>\n            </Tooltip>\n            {supports[index]&&supports[index].id&&\n\n            <Popover mask={true} content={<>\n              <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n              <Divider style={{margin:'8px 0'}}></Divider>\n              <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n            </>}>\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}></img>\n            </Popover>\n            }\n          </Col>\n        )}\n        </Row>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nlet userId = db.get('userId').value()\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\nconst lists = [\n  [\n    {value:'speed',label:''},\n    {value:'stamina',label:''},\n    {value:'power',label:''},\n    {value:'guts',label:''},\n    {value:'wisdom',label:''},\n    {value:'grass',label:''},\n    {value:'dirt',label:''},\n    {value:'shortDistance',label:''},\n    {value:'mile',label:''},\n    {value:'mediumDistance',label:''},\n    {value:'longDistance',label:''},\n    {value:'escape',label:''},\n    {value:'leading',label:''},\n    {value:'insert',label:''},\n    {value:'tracking',label:''}\n  ],[\n    {value:1,label:'1'},\n    {value:2,label:'2'},\n    {value:3,label:'3'},\n    {value:4,label:'4'},\n    {value:5,label:'5'},\n    {value:6,label:'6'},\n    {value:7,label:'7'},\n    {value:8,label:'8'},\n    {value:9,label:'9'},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        title=\"\"\n                        cascade={false}\n                        extra=\"\"\n                        ><List.Item arrow=\"horizontal\">()</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  \n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            \n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            \n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const SeedCard = (props) =>{\n    const data = props.data\n    return (\n      <Card>\n        <Flex>\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('')}>\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\n            </CopyToClipboard>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\n            <SupportImage id={data['supportId']}></SupportImage>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\n              <p>{data.likes?data.likes.length:0}</p>\n            </Flex>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\n              <p>{data.dislikes?data.dislikes.length:0}</p>\n            </Flex>\n          </Flex.Item>\n          <Flex.Item>\n            <p>{`${blueLabels[data['blue-0']]}: ${data['blueLevel-0']}`}</p>\n            <p>{`${redLabels[data['red-0']]}: ${data['redLevel-0']}`}</p>\n            {Object.keys(blueLabels).map(key=>\n            data[key]?<p key={key}>{` ${blueLabels[key]}: ${data[key]}`}</p>:null\n            )}\n            {Object.keys(redLabels).map(key=>\n            data[key]?<p key={key}>{` ${redLabels[key]}: ${data[key]}`}</p>:null\n            )}\n            <p>{`: ${data['supportLevel']||0}`}</p>\n            <p></p>\n          </Flex.Item>\n        </Flex>\n      </Card>\n    )\n  }\n\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('')\n      }\n    }else{\n      message.info('')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider></Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO2 from './pages/nurturing-mo2.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages/seed-mo.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    const routers = [{path:'/',label:''},\n    {path:'support',label:''},\n    {path:'skill',label:''},\n    {path:'race',label:''},\n    {path:'nurturing2',label:'new'},\n    {path:'seed',label:''}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{item.label}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">QQ</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\n        <Button placement=\"bottom\"></Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}></Button>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n          <Route exact path=\"/\" component={Player}/>\n          <Route path=\"/support\" component={Support}/>\n          <Route path=\"/skill\" component={Skill}/>\n          <Route path=\"/nurturing2\" component={NurturingMO2}/>\n          <Route path=\"/seed\" component={SeedMo}/>\n          <Route path=\"/race\" component={Race}/>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\n\n// import './index.css'\n\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport AppPc from './app-pc'\nimport AppMo from './app-mo'\n// ua\nlet ua = {}\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\nua.mac = /Mac/.test(navigator.platform)\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nua.chrome = !!chrome\nua.chrome_version = chrome && +chrome[1]\n// Is true for both iOS and iPadOS for convenience\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\nua.android = /Android \\d/.test(navigator.userAgent)\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nconsole.log(ua)\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  return(\n    <>\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\n    </>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}