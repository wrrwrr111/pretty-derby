{"version":3,"sources":["db.js","pages/race.js","components/t.js","components/event.js","components/skill.js","pages/player.js","components/effect.js","pages/support.js","components/buff.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/intro.js","app-pc.js","pages/nurturing-mo.js","pages/nurturing-mo2.js","pages/seed-mo.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDB","players","supports","skills","events","updateTime","races","buffs","effects","zh","en","has","0","1","2","3","4","5","player","filterList","class","text","grade","place","ground","distanceType","direction","side","labels","mediumLabels","getColumns","map","label","title","dataIndex","filters","onFilter","record","Race","props","allRaceList","race","index","key","useState","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","onSelect","dataSource","pagination","sorter","extra","lan","lanData","ZH","EN","t","EventList","eventList","id","find","pid","filter","event","choiceList","length","style","margin","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","content","name","placement","SkillList","skillList","skillId","SkillButton","skill","describe","condition","ability_value","ability_time","cooldown","rarity","onClick","src","imgUrl","preview","width","PlayerCard","Group","isModalVisible","setIsModalVisible","cover","Meta","visible","onOk","onCancel","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","Player","state","list","playerList","prevProps","this","setState","justify","rare","item","xxl","lg","sm","xs","React","Component","defaultProps","EffectTable","Column","ColumnGroup","render","description","Math","max","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","slice","rowKey","CheckboxGroup","cdnServer","SupportCard","charaName","align","trainingEventSkill","possessionSkill","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","indexOf","push","splice","update","checkedValues","tempList","supportList","support","flag","forEach","effect","checkedList","checkOptions","Object","keys","options","BuffButton","itemLayout","renderItem","Item","NurturingSupport","alt","RaceList","raceList","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","selected","setSupports","setPlayer","setRaces","decks","setDecks","setVisible","closePlayer","closeSupport","closeRace","saveDeck","deck","tmpDeck","imgUrls","supportsId","playerId","assign","shortid","generate","loadDeck","onConfirm","danger","remove","deleteDeck","onClose","getContainer","position","closable","mask","maskClosable","showSupport","newData","float","marginRight","padding","top","left","right","bottom","overflow","shape","icon","EditOutlined","Set","Skill","allSkillList","orderBy","allSupportList","allPlayerList","mySupports","mySkillList","supportId","add","setSkillList","skillSupportList","setSkillSupportList","skillPlayerList","setSkillPlayerList","skillName","setSkillName","checkedList1","setCheckedList1","checkedList2","setCheckedList2","size","mode","setMode","updateSkillList","check1","check2","tempSkillList","str","icon_id","showModal","tempSupportList","tempPlayerList","handleOk","handleCancel","rareLabel","checked","userId","blueLabels","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","minWidth","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","i","undefined","post","success","message","info","children","offset","rules","required","Button","count","initialValue","min","dots","tooltipPlacement","getFields","getFieldValue","validator","_","match","Promise","resolve","reject","Error","placeholder","htmlType","SearchOne","List","fields","errors","field","display","marginBottom","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","level","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","CopyOutlined","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","disabled","closeSeedInput","footer","withRouter","introV","localStorage","getItem","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","setItem","onBeforeChange","nextStepIndex","history","onComplete","doneLabel","Header","Content","Footer","AppPc","langText","setLangText","zIndex","theme","to","exact","path","component","Nurturing2","frameBorder","scrolling","height","target","rel","border","skillShow","setSkillShow","wrap","flex","paddingLeft","lists","cascade","arrow","SeedCard","fontSize","gameId","App1","open","onOpenChange","reload","6","linkList","marginTop","onLeftClick","minHeight","document","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","color","textAlign","paddingTop","sidebar","NurturingMO","NurturingMO2","SeedMo","ua","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.e9a804aa.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\ndb.set('zh',jsonDB.zh).write()\ndb.set('en',jsonDB.en).write()\n// db.set('lan','en').write()\n//\ndb.has('lan').value()||db.set('lan','zh').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { Table } from 'antd';\n\n // { name: '',\n  //   date: '2 5',\n  //   dateNum: 34,\n  //   class: '',\n  //   grade: 'G3',\n  //   place: '',\n  //   ground: '',\n\n  //   distance: '1400',\n  //   distanceType: '',\n  //   order: '' }\n  // { class: [ '', '', '', '' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '', '', '', '', '', '', '', '', '', '', '' ],\n  // ground: [ '', '' ],\n  // distanceType: [ '', '', '', '' ],\n  // direction: [ '', '', '' ],\n  // side: [ null, '', '', '' ] }\n const filterList= { class:\n    [ { text: '/', value: '' },\n      { text: '/', value: '' },\n      { text: '&/', value: '' },\n      { text: '/', value: '' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   ground: [ { text: '', value: '' }, { text: '', value: '' } ],\n   distanceType:\n   [\n     { text: '', value: '' },\n     { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   direction:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   side:\n    [ { text: '', value: null },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:label,\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:label,\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n  const Race = (props) =>{\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      props.onSelect(selectedRows)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // \n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false}/>\n      )\n  }\n\nexport  default Race\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/zh.json'\r\nimport EN from '../assert/en.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value()||'zh'\r\nlet lanData = {}\r\nif(lan==='zh'){\r\n  lanData = ZH.zh\r\n}else{\r\n  lanData = EN.en\r\n}\r\nconst t = (text)=>{\r\n    return lanData[text] || text\r\n}\r\nexport  default t\r\n","import React from 'react';\nimport db from '../db.js'\nimport t from './t.js'\nimport { Divider,Row,Col,Popover,Button } from 'antd';\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\n  if(props.type==='multi'){\n    return(<>\n      {/* <Divider></Divider> */}\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n    )\n  }\n  return (\n    <>\n    <Divider style={{margin:'4px 0'}}></Divider>\n    {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    <Divider style={{margin:'4px 0'}}></Divider>\n    {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result,index)=>\n        <p key={index}>{result}</p>\n      )\n      return(\n        <Row key={index} gutter={[8,8]} className=\"list-row\">\n          <Col span={12}>\n            <p>{choice[0]}</p>\n            <p>{t(choice[0])}</p>\n          </Col>\n          <Col span={12}>{ResultItem}</Col>\n        </Row>\n      )\n    })\n\n    return(\n      <Popover content={<>\n        <p>{t(props.event.name)}</p>\n        {ChoiceItem}\n      </>} title={props.event.name} placement={'bottom'}>\n        <Button className='event-button'>{props.event.name}</Button>\n      </Popover>\n    )\n}\n\nexport {EventList}\n","import React from 'react';\nimport db from '../db.js'\n\nimport { Row,Popover,Button,Image } from 'antd';\nimport t from './t.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SkillList = (props)=>{\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={0}>\n      {skillList.map((skillId)=><SkillButton key={skillId} id={skillId}></SkillButton>)}\n      </Row>\n  )\n}\nconst SkillButton = (props)=>{\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\n\n    return(\n      <Popover content={<>\n      <p>{' '+t(skill.name)}</p>\n      <p>{' '+skill.describe}</p>\n      <p>{' '+t(skill.describe)}</p>\n      <p>{skill.condition}</p>\n      <p>{' '+t(skill.condition)}</p>\n      <p>{' '+skill.ability_value/10000}</p>\n      <p>{' ' + skill.ability_time/10000 +'s * /1000'}</p>\n      <p>{' ' + skill.cooldown/10000 + 's * /1000'}</p>\n      {/* <p> = ( / 100)%</p> */}\n      {/* <p> =  *  / 1000</p> */}\n      {/* <p> =  *  / 1000</p> */}\n      </>} title={skill.name}\n      >\n        <Button className={'skill-btn skill-btn-'+skill.rarity} onClick={()=>props.onClick&&props.onClick(skill)}>\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n          {skill.name}\n        </Button>\n      </Popover>\n    )\n}\n\nexport {SkillList,SkillButton}\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\n\nconst CheckboxGroup = Checkbox.Group\n\n// todo \nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Card cover={\n        <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\n\n      }>\n        <Card.Meta title={t(props.data.name)} ></Card.Meta>\n      </Card>\n      <Modal title={props.data.name} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n        <span>{t(props.data.name)}</span>\n        <Divider></Divider>\n        <AdaptBox player={props.data}></AdaptBox>\n        <Divider></Divider>\n        <GrowBox player={props.data}></GrowBox>\n        <Divider></Divider>\n        <SkillList skillList={props.data.skillList}></SkillList>\n        <Divider></Divider>\n        <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n      </Modal>\n    </>\n  )\n}\nconst AdaptBox = (props)=>\n  <Row  gutter={[8, 8]}>\n    <Col span = {6}>/</Col>\n    <Col span = {6}>/</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n    <Col span = {6}>{props.player.grass}</Col>\n    <Col span = {6}>{props.player.dirt}</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n\n    <Col span = {6}></Col>\n    <Col span = {6}>/</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}></Col>\n    <Col span = {6}>{props.player.shortDistance}</Col>\n    <Col span = {6}>{props.player.mile}</Col>\n    <Col span = {6}>{props.player.mediumDistance}</Col>\n    <Col span = {6}>{props.player.longDistance}</Col>\n\n    <Col span = {6}>/</Col>\n    <Col span = {6}></Col>\n    <Col span = {6}>/</Col>\n    <Col span = {6}>/</Col>\n    <Col span = {6}>{props.player.escape}</Col>\n    <Col span = {6}>{props.player.leading}</Col>\n    <Col span = {6}>{props.player.insert}</Col>\n    <Col span = {6}>{props.player.tracking}</Col>\n  </Row>\n\nconst GrowBox = (props)=>\n  <Row gutter={[8, 8]}>\n    <Col span = {4}>/</Col>\n    <Col span = {4}>/</Col>\n    <Col span = {4}>/</Col>\n    <Col span = {4}>/</Col>\n    <Col span = {5}>/</Col>\n\n    <Col span = {4}>{props.player.speedGrow}</Col>\n    <Col span = {4}>{props.player.staminaGrow}</Col>\n    <Col span = {4}>{props.player.powerGrow}</Col>\n    <Col span = {4}>{props.player.gutsGrow}</Col>\n    <Col span = {5}>{props.player.wisdomGrow}</Col>\n  </Row>\n//todo filter\nclass Player extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {list:props.playerList}\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.playerList !== prevProps.playerList){\n      this.setState({list:this.props.playerList})\n    }\n  }\n  render(){\n    return(\n      <Row justify=\"space-around\">\n        <Col span={22}>\n        {\n          ['3','2','1'].map(rare=>(\n            <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}</Divider>\n          {this.state.list.filter(item=>item.rare===rare).map(player=>\n            <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\n              <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\n            </Col>)\n          }\n          </Row>\n          ))\n        }\n        </Col>\n      </Row>\n    )\n  }\n}\nPlayer.defaultProps={\n  playerList:db.get('players').value()\n}\n\nexport  default Player\n","import React,{useState} from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Table,Popover } from 'antd';\r\nimport t from './t.js'\r\n\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nconst EffectTable = (props)=>{\r\n  const effects = db.get('effects').value()\r\n  let columns = [\r\n    {title:'',dataIndex:'type',key:'type',render:type=><Popover content={<>\r\n      <p>{effects[type].name}</p>\r\n      <p>{t(effects[type].name)}</p>\r\n      <p>{effects[type].description}</p>\r\n      <p>{t(effects[type].description)}</p>\r\n    </>}>\r\n      <p>{t(effects[type].name)}</p>\r\n    </Popover>},\r\n    {title:'',dataIndex:'init',key:'init',render:text=>text},\r\n    {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv50',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20)},\r\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,record.limit_lv25)},\r\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30)},\r\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40)},\r\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40,record.limit_lv45)},\r\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>\r\n      Math.max(record.init,record.limit_lv5,record.limit_lv10,record.limit_lv15,record.limit_lv20,\r\n        record.limit_lv25,record.limit_lv30,record.limit_lv35,record.limit_lv40,\r\n        record.limit_lv45,record.limit_lv50)},\r\n      ]\r\n  if(props.rarity ===2 ){\r\n    columns = columns.slice(0,columns.length-1)\r\n  }else if(props.rarity === 1){\r\n    columns = columns.slice(0,columns.length-2)\r\n  }\r\n\r\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\r\n}\r\nexport {EffectTable}\r\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {EffectTable} from '../components/effect.js'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      <Modal title={`${props.data.name}----${t(props.data.charaName)}`}\n        visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n        width={800} >\n          <Row justify='space-around' align='middle'>\n            <Col span={4}>\n              <Image src={cdnServer+props.data.imgUrl} preview={false} width={'100%'} />\n            </Col>\n            <Col span={19}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n              <Divider style={{margin:'4px 0'}}></Divider>\n              <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n              <Divider style={{margin:'4px 0'}}></Divider>\n              <SkillList skillList={props.data.possessionSkill}></SkillList>\n            </Col>\n\n            <Divider></Divider>\n            <EffectTable effects={props.data.effects} rarity={props.data.rarity}></EffectTable>\n\n          </Row>\n      </Modal>\n    </>\n  )\n}\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[],\n      checkedList:[]}\n    this.effects = db.get('effects').value()\n    this.checkOptions = Object.keys(this.effects)\n                          .map(key=>{return {label:t(this.effects[key].name),value:key}})\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  onChange = (checkedValues)=>{\n    let tempList = this.props.supportList\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    this.setState({\n      checkedList:checkedValues,\n      list:tempList\n    })\n  }\n  render(){\n    return (\n      <Row justify=\"space-around\">\n        <Col span={22}>\n          <Button onClick={this.changeShowMode}></Button>\n          <Button onClick={this.changeChooseMode}></Button>\n          {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'></Button>}\n        </Col>\n        <Col span={22}>\n          <CheckboxGroup options={this.checkOptions} value={this.state.checkedList} onChange={this.onChange} />\n        </Col>\n        <Col span={22}>\n      {\n        ['SSR','SR','R'].map(rare=>\n          <Row gutter={[16,16]} key={rare}>\n            <Divider>{rare}</Divider>\n            {this.state.list.filter(item=>item.rare===rare).map(support=>\n              <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}\n              className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                chooseMode={this.props.chooseMode}></SupportCard>\n                {/* {support.effects} */}\n              </Col>)\n            }\n          </Row>\n        )\n      }\n        </Col>\n      </Row>\n      )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value()\n}\nexport default Support\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { List,Popover,Button } from 'antd';\nimport t from './t.js'\n\nconst BuffButton = (props)=>{\n  const buffs = db.get('buffs').value()\n  return(\n    <Popover content={\n      <List itemLayout=\"horizontal\" dataSource={buffs}\n      renderItem={item=>\n        <List.Item>\n          <p>{item.name}</p>\n          <p>{item.describe}</p>\n        </List.Item>\n      }/>\n    }>\n      <Button>Buff</Button>\n    </Popover>\n  )\n}\nexport {BuffButton}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <Row>\n          <Col span={4}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={props.data.skillList} ></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </Row>\n  )\n}\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n\n  return(\n    <Row className='nurturing-box' gutter={[32,8]}>\n\n      <Col sm={7} xs={24}>\n        <Button type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        <Button onClick={showDrawer}></Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider></Divider>\n        <Row>\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Col>\n        </Row>\n        <Divider></Divider>\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\n        <Drawer\n        title=\"\"\n        onClose={onDrawerClose}\n        visible={visible}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n        closable={true}\n        placement=\"left\"\n        mask={true}\n        maskClosable={true}\n        width={'95%'}\n      >\n        <Table dataSource={races} pagination={false}>\n          <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n          <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n          <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n          <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n        </Table>\n      </Drawer>\n      {player.id&&\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n        }\n      </Col>\n      <Col sm={17} xs={24}>\n        <Row gutter={[16,16]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index}>\n            <Button onClick={()=>showSupport(index)}></Button>\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\n          </Col>\n        )}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\n\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n\n  return(\n    <Row className='' gutter={[16,16]}>\n      <Col sm={8} xs={24}>\n        <Button className='add-player' type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        <Button onClick={showDrawer}></Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider style={{margin:'4px 0'}}></Divider>\n        {player.id&&<>\n          <img src={cdnServer+player.imgUrl} width='20%'\n            style={{float:'left',marginRight:'8px'}}></img>\n          <EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>\n          <RaceList raceList={player.raceList}></RaceList>\n          <Divider style={{margin:'4px 0'}}></Divider>\n          <SkillList skillList={player.skillList}></SkillList>\n        </>}\n\n        <Drawer\n          title=\"\"\n          onClose={onDrawerClose}\n          visible={visible}\n          getContainer={false}\n          style={{ position: 'absolute' }}\n          closable={true}\n          placement=\"left\"\n          mask={true}\n          maskClosable={true}\n          width={'95%'}\n        >\n          <Table dataSource={races} pagination={false}>\n            <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n            <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n            <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n            <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n          </Table>\n        </Drawer>\n\n      </Col>\n\n      <Col sm={16} xs={24}>\n        <Row gutter={[8,8]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index} style={{}}>\n            {supports[index]&&supports[index].id?\n            <>\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n               className='nur-sup-img'></img>\n              <div style={{position:'absolute',padding:'12px',\n                          top:'0',left:'4px',right:'4px',bottom:'0',\n                          overflow:'auto'}} className='gray-cover'>\n                <Tooltip title=\"\">\n                  <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}/>\n                </Tooltip>\n                <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n                <Divider style={{margin:'8px 0'}}></Divider>\n                <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n              </div>\n            </>\n            :<Button onClick={()=>showSupport(index)}></Button>\n            }\n          </Col>\n        )}\n        </Row>\n      </Col>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Tooltip,Button,Checkbox,Modal,PageHeader,Switch} from 'antd';\n\nimport db from '../db.js'\nimport Support from './support.js'\nimport Player from './player.js'\nimport t from '../components/t.js'\nimport {SkillButton} from '../components/skill.js'\nconst CheckboxGroup = Checkbox.Group\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst Skill = () =>{\n  // \n  const allSkillList = db.get('skills').orderBy('db_id').value()\n  const allSupportList = db.get('supports').value()\n  const allPlayerList = db.get('players').value()\n  const mySupports = db.get('mySupports').value()\n  let mySkillList = new Set()\n  mySupports.forEach(supportId=>{\n    let support = db.get('supports').find({id:supportId}).value()\n    support.skillList.forEach(skillId=>{\n      mySkillList.add(skillId)\n    })\n  })\n\n  const [skillList,setSkillList] = useState(allSkillList)\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\n  const [skillPlayerList,setSkillPlayerList] = useState(allPlayerList)\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  // \n  const [skillName, setSkillName] = useState('');\n\n  const [checkedList1, setCheckedList1] = useState([]);\n  const [checkedList2, setCheckedList2] = useState([]);\n  const [mode,setMode] = useState(mySkillList.size)\n  const checkOptions1 = [\n    {label:'',value:'normal'},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''},\n    {label:'',value:''}\n  ]\n  const checkOptions2 =[\n    {label:'',value:'10011'},\n    {label:'',value:'10021'},\n    {label:'',value:'10031'},\n    {label:'',value:'10041'},\n    {label:'',value:'10051'},\n    {label:'',value:'20011'},\n    {label:'',value:'20021'},\n    // {label:'20031',value:'20031'},\n    {label:'',value:'20041'},\n    {label:'',value:'20051'},\n    {label:'',value:'20061'},\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    {label:'',value:'20091'},\n    {label:'(debuff)',value:'30011'},\n    {label:'(debuff)',value:'30041'},\n    {label:'(debuff)',value:'30051'},\n    {label:'(debuff)',value:'30071'}\n  ]\n  const onChange1=(checkedValues)=>{\n    setCheckedList1(checkedValues)\n    updateSkillList(checkedValues,checkedList2)\n\n  }\n  const onChange2 = (checkedValues)=>{\n    setCheckedList2(checkedValues)\n    updateSkillList(checkedList1,checkedValues)\n  }\n  const updateSkillList = (check1,check2)=>{\n    let tempSkillList = allSkillList\n    if(check1.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check1.forEach(value=>{\n          if(skill.describe){\n            if(value==='normal' && skill.describe.indexOf('') === -1 && skill.describe.indexOf('') === -1){\n              flag = 1\n            }else if(skill.describe.indexOf(value)!==-1){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if(check2.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check2.forEach(value=>{\n          let str = skill.icon_id +''\n          if(str){\n            if(str[0] === value[0] && str[3] === value[3] ){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    setSkillList(tempSkillList)\n  }\n  const resetCheckbox=()=>{\n    setCheckedList1([])\n    setCheckedList2([])\n    setSkillList(allSkillList)\n  }\n\n    const showModal = (skill) => {\n      let tempSupportList = allSupportList.filter(support=>{\n        let flag = 0;\n        support.skillList.forEach(id=>{\n          if (id===skill.id){\n            flag = 1\n          }\n        })\n        return flag\n      })\n      let tempPlayerList = allPlayerList.filter(player=>{\n        let flag = 0;\n        player.skillList.forEach(id=>{\n          if (id===skill.id){\n            flag = 1\n          }\n        })\n        return flag\n      })\n      setSkillName(skill.name)\n      setSkillSupportList(tempSupportList)\n      setSkillPlayerList(tempPlayerList)\n      setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n      setIsModalVisible(false);\n    };\n\n    const handleCancel = () => {\n      setIsModalVisible(false);\n    };\n    const changeMode = ()=>{\n      setMode(!mode)\n    }\n  const rareLabel={'':'','':' ','':''}\n  return(<>\n  <Row>\n    <Col span={2}>\n      <Button onClick={resetCheckbox}></Button>\n    </Col>\n    <Col span={18}>\n      <CheckboxGroup options={checkOptions1} value={checkedList1} onChange={onChange1} />\n    </Col>\n    <Col span={4}>\n      <Tooltip title=\"\">\n        <p></p>\n      </Tooltip>\n      <Switch checked={mode} onChange={changeMode} />\n    </Col>\n    <Col span={20}>\n      <CheckboxGroup options={checkOptions2} value={checkedList2} onChange={onChange2} />\n    </Col>\n  </Row>\n    {['','',''].map(rare=>\n      <Row gutter={[8,8]} key={rare}>\n      <Divider>{rareLabel[rare]}</Divider>\n      { skillList.filter(item=>mode?mySkillList.has(item.id)&&(item.rare === rare):item.rare === rare).map(skill=>\n          <SkillButton skill={skill} key={skill.id} onClick={showModal}></SkillButton>\n        )\n      }\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\n        <PageHeader title={skillName}>{t(skillName)}</PageHeader>\n        <Support supportList={skillSupportList} ></Support>\n        <Player playerList={skillPlayerList} ></Player>\n      </Modal>\n      </Row>\n    )}\n  </>)\n}\n\nexport default Skill\n\n","import React,{useState} from 'react';\nimport { Row,Alert,Image,Button,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\nlet userId = db.get('userId').value()\n// console.log(userId)\n\n/*\nuserId \nid\nid\n - speed stamina power guts wisdom\n - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n\nid\nid\n\ntotal blue\ntotal red\nwhite num\n*/\n// userId\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // \n    const formData = {...tmpSeed}\n    formData.userId = userId || db.get('userId').value()\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    formData['supportId'] = value['support'].id\n    delete formData['support']\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('https://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('')\n      props.onFinish()\n    }else{\n      message.info('')\n    }\n  }\n  const list = ['','1','2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{''}</Radio.Button>\n          <Radio.Button value={'stamina'}>{''}</Radio.Button>\n          <Radio.Button value={'power'}>{''}</Radio.Button>\n          <Radio.Button value={'guts'}>{''}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'mile'}>{''}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{''}</Radio.Button>\n          <Radio.Button value={'leading'}>{''}</Radio.Button>\n          <Radio.Button value={'insert'}>{''}</Radio.Button>\n          <Radio.Button value={'tracking'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={''} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='  ' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={3}>\n          <Form.Item label='' name={'support'} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='id' name='gameId' rules={[{ required: true},\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              console.log(\"!!!!\",value)\n              if (value.match(/^[0-9]\\d*$/g) && value.length===9) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('9id'));\n            },\n          }),\n          ]}>\n            <Input placeholder=\"id\" style={{ width:'100%' }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              \n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row justify='center'>\n                  <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{''}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{''}</Radio.Button>\n                      <Radio.Button value={'power'}>{''}</Radio.Button>\n                      <Radio.Button value={'guts'}>{''}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'mile'}>{''}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{''}</Radio.Button>\n                      <Radio.Button value={'leading'}>{''}</Radio.Button>\n                      <Radio.Button value={'insert'}>{''}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{''}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}></Button>\n              </Col>\n                </Row>\n                </Space>\n            ))}\n            <Row justify='center'>\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n                >\n                \n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['supportLevel']){\n      formData.attrs.push('supportLevel')\n      formData.levels.push(value['supportLevel'])\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={10}>\n          <PageHeader title=''></PageHeader>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player0`}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={10}>\n          <PageHeader title={''}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n        <Col span={4}>\n          <PageHeader title={''}></PageHeader>\n          <Col span={20}>\n\n          <Form.Item label='' name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n        <Button htmlType=\"button\" onClick={()=>onReset()}>\n          \n        </Button>\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          \n        </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\n\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n        width={80}  preview={false}></Image>\n}\n\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n\n  const columns = [\n    {title:'id',dataIndex:'gameId',key:'gameId',render:(text,seed)=>(<>\n      <Row>\n        <p>{text}</p> \n        <CopyToClipboard text={text} onCopy={()=>message.info('')}>\n          <Button shape=\"circle\" icon={<CopyOutlined />}/>\n        </CopyToClipboard>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(seed)}/>\n        <p>{seed.likes?seed.likes.length:0}</p>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(seed)}/>\n        <p>{seed.dislikes?seed.dislikes.length:0}</p>\n      </Row>\n      </>)},\n    {title:'',dataIndex:'playerId-0',key:'playerId-0',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',dataIndex:'blue-0',key:'blue-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{blueLabels[text]}</span>\n        <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'red-0',key:'red-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{redLabels[text]}</span>\n        <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'greenLevel-0',key:'greenLevel-0',\n      render:(text,record)=>(\n        <Row>\n          <span className='rate-label'></span>\n          <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n        </Row>)},\n    {title:'1',dataIndex:'playerId-1',key:'playerId-1',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'2',dataIndex:'playerId-2',key:'playerId-2',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',key:'allBlue',render:(text,record)=>(\n      Object.keys(blueLabels).map(key=>{\n        if(record[key]){\n          // console.log(key,record[key])\n          return (\n            <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{blueLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n    )},\n      {title:'',key:'allRed',render:(text,record)=>(\n        Object.keys(redLabels).map(key=>{\n          if(record[key]){\n            return (\n              <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{redLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n      )},\n      {title:'',dataIndex:'white',key:'white',render:text=>(text)},\n      {title:'',dataIndex:'supportId',key:'supportId',\n      render:text=>(<SupportImage id={text}></SupportImage>)},\n      {title:'',dataIndex:'supportLevel',key:'supportLevel',\n      render:(text,record)=>(\n      <Row>\n        <Rate count={4} value={record['supportLevel']} disabled></Rate>\n      </Row>)}\n  ]\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('')\n      }\n    }else{\n      message.info('')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={()=>showSeedInput()}></Button>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider></Divider>\n    <Row justify='center'>\n      <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/>\n    </Row>\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'',\n      element:'.menu-player',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/'\n    },{\n      title:'',\n      element:'.menu-support',\n      intro:<>\n          <p></p>\n          <p></p>\n          <p></p>\n          <p></p>\n        </>,\n      href:'/support'\n    },{\n      title:'',\n      element:'.menu-skill',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/skill'\n    },{\n      title:'',\n      element:'.menu-race',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/race'\n    },{\n      title:'',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'',\n      element:'.menu-seed',\n      intro:<>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/seed'\n    },{\n      title:'',\n      element:'.reset-nur',\n      intro:<>\n      <p></p>\n      <p></p>\n    </>,\n    },{\n      title:'',\n      element:'.reset-intro',\n      intro:<>\n      <p></p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\nimport {message} from 'antd'\nimport 'antd/dist/antd.css';\nimport './index.css'\n\n\nimport db from './db.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport Nurturing from './pages/nurturing.js'\nimport Nurturing2 from './pages/nurturing2.js'\nimport Skill from './pages/skill.js'\nimport Seed from './pages/seed.js'\n\nimport IntroIndex from './components/intro.js'\n\nconst { Header, Content, Footer } = Layout;\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst AppPc = ()=>{\n  let lan = db.get('lan').value()\n  const [langText,setLangText] = useState(lan==='zh'?'English':'')\n  const changeLan=()=>{\n    if(lan === 'zh'){\n      lan = 'en'\n      db.set('lan','en').write()\n      setLangText('')\n      message.info('Refresh the website ')\n    }else{\n      lan = 'zh'\n      db.set('lan','zh').write()\n      setLangText('English')\n      message.info('')\n    }\n  }\n  const resetNur =()=>{\n    db.set('selected',{\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n      player:{},\n      races:[]\n    }).write()\n    db.set('myDecks',[]).write()\n  }\n  const resetIntro = ()=>{\n    localStorage.setItem('introV',null)\n  }\n\n  return (\n      // <UserAgentProvider ua={window.navigator.userAgent}>\n<Router>\n    <IntroIndex></IntroIndex>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'></Link></Menu.Item>\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'></Link></Menu.Item>\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'></Link></Menu.Item>\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'></Link></Menu.Item>\n        <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'></Link></Menu.Item>\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>new</Link></Menu.Item>\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'></Link></Menu.Item>\n      </Menu>\n    </Header>\n    <Content style={{ padding: '64px 0px'}} >\n      <Route exact path=\"/\" component={Player}/>\n      <Route path=\"/support\" component={Support}/>\n      <Route path=\"/skill\" component={Skill}/>\n      <Route path=\"/nurturing\" component={Nurturing}/>\n      <Route path=\"/nurturing2\" component={Nurturing2}/>\n      <Route path=\"/seed\" component={Seed}/>\n      <Route path=\"/race\" component={Race}/>\n    </Content>\n  <Footer>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Button onClick={changeLan}>{langText}</Button>\n      </Col>\n      <Col span={2}>\n        <Popover content={<p></p>}>\n          <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}></Button>\n         </Popover>\n      </Col>\n      <Col span={3}>\n        <Popconfirm title=\"\" onConfirm={resetNur}>\n          <Popover content={<p></p>}>\n            <Button className='reset-nur' placement=\"bottom\"></Button>\n          </Popover>\n        </Popconfirm>\n      </Col>\n      <Col span={11}></Col>\n      <Col span={2}>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\n          <Button placement=\"bottom\"></Button>\n        </Popover>\n      </Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"   \" title=\"   \" />\n        </a>\n      </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n      // </UserAgentProvider>\n  )\n}\n\nexport default AppPc\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table} from 'antd';\nimport { Flex } from 'antd-mobile';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n  const [skillShow,setSkillShow] = useState(true)\n\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n  const changeSkillShow =()=>{\n    setSkillShow(!skillShow)\n  }\n  return(\n    <>\n    <Flex>\n      <Flex.Item>\n        <Flex wrap='wrap'>\n          <Button type={'primary'} onClick={showPlayer}></Button>\n          <Button onClick={showSupport2}></Button>\n          <BuffButton></BuffButton>\n          <Button onClick={showRace}></Button>\n          <Button onClick={showDrawer}></Button>\n          <Button onClick={changeSkillShow}></Button>\n        </Flex>\n        <Divider></Divider>\n        <RaceList raceList={player.id?player.raceList:[]}></RaceList>\n        <Divider></Divider>\n        <Flex wrap='wrap'>\n          <img src={cdnServer+player.imgUrl} alt={player.name} width={'20%'} flex='0 0 auto'></img>\n          {skillShow&&\n          <Flex.Item style={{flex:'1 0 auto',width:'80%',margin:0,paddingLeft:8}}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Flex.Item>\n          }\n          <Flex.Item>\n            <EventList eventList={player.id?player.eventList:[]} pid={player.id} type='multi'></EventList>\n          </Flex.Item>\n        </Flex>\n        <Drawer\n        title=\" (esc)\"\n        onClose={onDrawerClose}\n        visible={visible}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n        closable={true}\n        placement=\"left\"\n        mask={true}\n        maskClosable={true}\n        width='95%'\n        >\n        {/* {races.map(race=>\n          <p>{race.name}</p>\n        )} */}\n        <Table dataSource={races} pagination={false}>\n        {/* [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"] */}\n          <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n          <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n          <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n          <Column title=\"\" dataIndex=\"ground\" key=\"ground\" />\n          <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n        </Table>\n      </Drawer>\n      </Flex.Item>\n    </Flex>\n    <Divider></Divider>\n      {[1,2,3,4,5,6].map(index=>\n        <Flex wrap='wrap' key={index}>\n      {supports[index].id ?<>\n        <Flex.Item style={{flex:'1 0 auto',width:'20%'}}>\n          <Button onClick={()=>showSupport(index)}></Button>\n          <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width='100%'></img>\n        </Flex.Item>\n          {skillShow&&\n          <Flex.Item style={{flex:'1 0 auto',width:'78%'}}>\n            <SkillList skillList={supports[index].skillList} ></SkillList>\n          </Flex.Item>\n          }\n          <Flex.Item style={{flex:'1 0 auto',width:'78%'}}>\n            <EventList eventList={supports[index].eventList} pid={supports[index].id} type={'multi'}></EventList>\n          </Flex.Item>\n          </>:\n        <Button onClick={()=>showSupport(index)}></Button>}\n      <Divider></Divider>\n      </Flex>\n      )}\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} >\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'100%'}>\n        <Race onSelect={needSelect?handleSelectRace:null} type='medium'></Race>\n      </Modal>\n    </>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n//  \nconst RaceList = (props) =>{\n  return (\n    <Row className={'race-row'}>\n      {\n        props.raceList.map((race,index)=>{\n          // \n          if(race[1][2]){\n            return(\n          <Col span={12} key={index}>\n            <Row className={'race-row-'+index%4}>\n              <Col span={4} className={'race-name'} >\n                <p>{race[0]}</p>\n              </Col>\n              <Col span = {20} className={'race-detail'}>\n              {race[1].map((item,index)=>\n                  <p key={index}>{item}</p>\n                  )}\n              </Col>\n            </Row>\n          </Col>\n            )\n          }else{\n            return null\n          }\n        }\n      )}\n    </Row>\n  )\n}\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [races,setRaces] = useState(selected.races)\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n  const [visible, setVisible] = useState(false);\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setRaces(data);\n\n    // save\n    selected.races = data\n    db.get('selected').assign(selected).write()\n  }\n  const showDrawer = ()=>{\n    setVisible(true)\n  }\n  const onDrawerClose = (data)=>{\n    setVisible(false)\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n\n  return(\n    <Row className='nurturing-box' gutter={[16,16]}>\n      <Col sm={8} xs={24}>\n        <Button type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        {/* <Button onClick={showRace}></Button>\n        <Popover content = {\n          <Table dataSource={races} pagination={false}>\n            <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n            <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n            <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n            <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n          </Table>\n        }>\n          <Button onClick={showDrawer}></Button>\n        </Popover> */}\n        <BuffButton></BuffButton>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button></Button>\n        </Popover>\n\n        <br></br>\n\n      </Col>\n        <Row justify=\"space-around\">\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={4}>\n            <Popover content={<EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n          <Col span={4}>\n            <Popover content={<RaceList raceList={player.id?player.raceList:[]}></RaceList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n          <Col span={4}>\n            <Popover content={<SkillList skillList={player.id?player.skillList:[]}></SkillList>}>\n              <Button style={{width:'100%',height:'100%'}}></Button>\n            </Popover>\n          </Col>\n        </Row>\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Tooltip title=\"\">\n              <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}></Button>\n            </Tooltip>\n            {supports[index]&&supports[index].id&&\n\n            <Popover mask={true} content={<>\n              <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n              <Divider style={{margin:'8px 0'}}></Divider>\n              <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n            </>}>\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}></img>\n            </Popover>\n            }\n          </Col>\n        )}\n        </Row>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nlet userId = db.get('userId').value()\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\nconst lists = [\n  [\n    {value:'speed',label:''},\n    {value:'stamina',label:''},\n    {value:'power',label:''},\n    {value:'guts',label:''},\n    {value:'wisdom',label:''},\n    {value:'grass',label:''},\n    {value:'dirt',label:''},\n    {value:'shortDistance',label:''},\n    {value:'mile',label:''},\n    {value:'mediumDistance',label:''},\n    {value:'longDistance',label:''},\n    {value:'escape',label:''},\n    {value:'leading',label:''},\n    {value:'insert',label:''},\n    {value:'tracking',label:''}\n  ],[\n    {value:1,label:'1'},\n    {value:2,label:'2'},\n    {value:3,label:'3'},\n    {value:4,label:'4'},\n    {value:5,label:'5'},\n    {value:6,label:'6'},\n    {value:7,label:'7'},\n    {value:8,label:'8'},\n    {value:9,label:'9'},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        title=\"\"\n                        cascade={false}\n                        extra=\"\"\n                        ><List.Item arrow=\"horizontal\">()</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  \n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p></p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            \n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            \n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const SeedCard = (props) =>{\n    const data = props.data\n    return (\n      <Card>\n        <Flex>\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('')}>\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\n            </CopyToClipboard>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\n            <SupportImage id={data['supportId']}></SupportImage>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\n              <p>{data.likes?data.likes.length:0}</p>\n            </Flex>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\n              <p>{data.dislikes?data.dislikes.length:0}</p>\n            </Flex>\n          </Flex.Item>\n          <Flex.Item>\n            <p>{`${blueLabels[data['blue-0']]}: ${data['blueLevel-0']}`}</p>\n            <p>{`${redLabels[data['red-0']]}: ${data['redLevel-0']}`}</p>\n            {Object.keys(blueLabels).map(key=>\n            data[key]?<p key={key}>{` ${blueLabels[key]}: ${data[key]}`}</p>:null\n            )}\n            {Object.keys(redLabels).map(key=>\n            data[key]?<p key={key}>{` ${redLabels[key]}: ${data[key]}`}</p>:null\n            )}\n            <p>{`: ${data['supportLevel']||0}`}</p>\n            <p></p>\n          </Flex.Item>\n        </Flex>\n      </Card>\n    )\n  }\n\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('')\n      }\n    }else{\n      message.info('')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider></Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\n\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon, WhiteSpace } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO from './pages/nurturing-mo.js'\nimport NurturingMO2 from './pages/nurturing-mo2.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages/seed-mo.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    const routers = [{path:'/',label:''},\n    {path:'support',label:''},\n    {path:'skill',label:''},\n    {path:'race',label:''},\n    {path:'nurturing',label:''},\n    {path:'nurturing2',label:'new'},\n    {path:'seed',label:''}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{item.label}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">QQ</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\n        <Button placement=\"bottom\"></Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}></Button>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n          <Route exact path=\"/\" component={Player}/>\n          <Route path=\"/support\" component={Support}/>\n          <Route path=\"/skill\" component={Skill}/>\n          <Route path=\"/nurturing\" component={NurturingMO}/>\n          <Route path=\"/nurturing2\" component={NurturingMO2}/>\n          <Route path=\"/seed\" component={SeedMo}/>\n          <Route path=\"/race\" component={Race}/>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\n\n// import './index.css'\n\n// import db from './db.js'\n// import EventList from './components/event-list.js'\n// import SkillList from './components/skill-list.js'\n\nimport AppPc from './app-pc'\nimport AppMo from './app-mo'\n// ua\nlet ua = {}\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\nua.mac = /Mac/.test(navigator.platform)\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nua.chrome = !!chrome\nua.chrome_version = chrome && +chrome[1]\n// Is true for both iOS and iPadOS for convenience\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\nua.android = /Android \\d/.test(navigator.userAgent)\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\nconsole.log(ua)\n\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\n\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\n\nconst App = ()=>{\n  return(\n    <>\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\n    </>\n  )\n}\n\nReactDOM.render((<App></App>),document.getElementById('root'),);\n"],"sourceRoot":""}