{"version":3,"sources":["db.js","pages/race.js","components/t.js","components/event.js","components/skill.js","components/player-race.js","components/player-detail.js","pages/player.js","components/effect.js","components/support-detail.js","pages/support.js","components/buff.js","components/race.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/intro.js","app-pc.js","pages-mo/nurturing.js","pages-mo/seed.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDB","players","supports","skills","events","updateTime","races","buffs","effects","zh","en","has","0","1","2","3","4","5","player","filterList","class","text","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","lan","lanData","ZH","EN","t","ua","EventList","eventList","find","pid","filter","event","choiceList","length","defaultActiveKey","TabPane","tab","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","trigger","content","placement","SkillList","skillList","skillId","usedInList","SkillButton","skill","describe","condition","ability_value","ability_time","cooldown","rarity","style","borderRadius","color","width","justifyContent","onClick","display","position","top","left","src","imgUrl","preview","overflow","whiteSpace","textOverflow","textAlign","RaceList","raceList","item","cdnServer","AdaptBox","cellStyle","fontSize","paddingLeft","fontWeight","borderWidth","borderStyle","borderColor","headerCellStyle","textShadow","backgroundColor","adaptTextWrapperStyle","paddingRight","alignItems","coloredGradeText","cellPadding","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","undefined","playerId","match","params","isNur","nur","resizemode","flexDirection","charaName","padding","PlayerCard","isModalVisible","setIsModalVisible","cover","Meta","visible","onOk","onCancel","footer","Player","state","list","playerList","prevProps","this","setState","justify","rare","xxl","lg","sm","xs","Component","defaultProps","limits","getValue","effect","cur","indexOf","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","rowKey","TestEffectTable","effectCapsuleStyle","margin","effectRightDivStyle","effectNameStyle","effectValueStyle","effectBoxStyle","maxLevel","selectingLevel","input","nodes","output","prevNode","level","i","upperNode","lowerNode","unique_effect","marginRight","lv","marks","10","15","20","25","30","35","40","45","50","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","SupportDetail","supportId","trainingEventSkill","possessionSkill","message","CheckboxGroup","Group","SupportCard","destroyOnClose","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","splice","update","checkedValues","tempList","supportList","support","flag","forEach","checkedList","checkOptions","Object","keys","headerStyle","headerTextStyle","paddingTop","maxWidth","maxHeight","overflowY","overflowX","options","BuffButton","BuffList","buff","RaceSchedule","str","getDate","year","month","moment","curRace","border","goal","selectedRaceList","raceId","Column","NurturingSupport","alt","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","isRaceVisible","setIsRaceVisible","setSupports","setPlayer","setSelectedRaceList","decks","setDecks","closePlayer","closeSupport","closeRace","saveDeck","deck","tmpDeck","imgUrls","supportsId","assign","shortid","generate","dynamicContentHeight","innerWidth","loadDeck","onConfirm","danger","remove","deleteDeck","showSupport","newData","dynamicCardHeight","dynamicCardWidth","dynamicCardBoxWidth","float","flex","flexWrap","backgroundImage","backgroundRepeat","backgroundSize","shape","icon","EditOutlined","Set","Search","Skill","allSkillList","orderBy","allSupportList","allPlayerList","mySupports","mySkillList","add","setSkillList","skillSupportList","setSkillSupportList","skillPlayerList","setSkillPlayerList","skillName","setSkillName","checkedList1","setCheckedList1","checkedList2","setCheckedList2","checkedList3","setCheckedList3","localStorage","getItem","setItem","parseInt","mode","setMode","updateSkillList","check1","check2","check3","tempSkillList","icon_id","showModal","tempSupportList","tempPlayerList","handleOk","handleCancel","rareLabel","dynamicListHeight","lineHeight","checked","placeholder","enterButton","size","onSearch","searchText","userId","blueLabels","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","minWidth","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","post","success","info","children","offset","Item","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","List","fields","errors","field","marginBottom","align","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","CopyOutlined","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","disabled","closeSeedInput","withRouter","introV","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","onBeforeChange","nextStepIndex","history","onComplete","doneLabel","Header","Content","Footer","AppPc","langText","setLangText","document","getElementsByTagName","zIndex","theme","to","exact","path","component","Nurturing2","frameBorder","scrolling","target","rel","lists","cascade","arrow","SeedCard","gameId","wrap","App1","open","onOpenChange","reload","6","linkList","marginTop","onLeftClick","minHeight","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","sidebar","NurturingMO2","SeedMo","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.cf76a984.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\ndb.set('zh',jsonDB.zh).write()\ndb.set('en',jsonDB.en).write()\n// db.set('lan','en').write()\n//\ndb.has('lan').value()||db.set('lan','zh').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React,{useState} from 'react';\nimport db from '../db.js'\n\nimport { Table } from 'antd';\n\n // { name: '',\n  //   date: '2 5',\n  //   dateNum: 34,\n  //   class: '',\n  //   grade: 'G3',\n  //   place: '',\n  //   ground: '',\n\n  //   distance: '1400',\n  //   distanceType: '',\n  //   order: '' }\n  // { class: [ '', '', '', '' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '', '', '', '', '', '', '', '', '', '', '' ],\n  // ground: [ '', '' ],\n  // distanceType: [ '', '', '', '' ],\n  // direction: [ '', '', '' ],\n  // side: [ null, '', '', '' ] }\n const filterList= { class:\n    [ { text: '/', value: '' },\n      { text: '/', value: '' },\n      { text: '&/', value: '' },\n      { text: '/', value: '' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   ground: [ { text: '', value: '' }, { text: '', value: '' } ],\n   distanceType:\n   [\n     { text: '', value: '' },\n     { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   direction:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   side:\n    [ { text: '', value: null },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const labelTextDict ={name:\"\",date:\"\",class:\"\",grade:\"\",place:\"\",ground:\"\",distance:\"\",distanceType:\"\",direction:\"\",side:\"\"}\n  const getCorrespondingLabelText = (label)=>{\n      return labelTextDict[label]\n  }\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:getCorrespondingLabelText(label),\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:getCorrespondingLabelText(label),\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n\n\n  const Race = (props) =>{\n    const useViewport = () => {\n      // const [width, setWidth] = React.useState(window.innerWidth);\n      const [height,setHeight] = React.useState(window.innerHeight);\n      React.useEffect(() => {\n        const handleWindowResize = () => setHeight(window.innerHeight);\n        window.addEventListener(\"resize\", handleWindowResize);\n        return () => window.removeEventListener(\"resize\", handleWindowResize);\n      }, []);\n      console.log('currentWidth::',height);\n      return {height};\n    };\n\n    const dynamicTableHeight = useViewport().height -300;\n\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      let selected = {}\n      for(let race of selectedRows){\n        if(selected[race.dateNum]){\n          selected[race.dateNum].push(race.id)\n        }else{\n          selected[race.dateNum]=[race.id]\n        }\n      }\n      console.log(selected)\n      props.onSelect(selected)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // \n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <div>\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false} scroll={{y:dynamicTableHeight}}/>\n      </div>\n      )\n  }\n\nexport default Race\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/zh.json'\r\nimport EN from '../assert/en.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value()||'zh'\r\nlet lanData = {}\r\nif(lan==='zh'){\r\n  lanData = ZH.zh\r\n}else{\r\n  lanData = EN.en\r\n}\r\nconst t = (text)=>{\r\n    return lanData[text] || text\r\n}\r\nexport  default t\r\n","import React from 'react';\r\nimport db from '../db.js'\r\nimport t from './t.js'\r\nimport {Row,Col,Popover,Button,Tabs } from 'antd';\r\n\r\n\r\nconst ua = db.get('ua').value();\r\n\r\nconst EventList = (props)=>{\r\n  const eventIdList = props.eventList\r\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\r\n  if(props.type==='multi'){\r\n    return(<>\r\n        {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n      </>\r\n    )\r\n  }\r\n  return (\r\n    <>\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <Tabs.TabPane tab=\"\" key=\"1\">\r\n          {/* <div style={{maxHeight:200,overflowY:'auto'}}> */}\r\n          <div>\r\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event} ></EventBox>)}\r\n          </div>\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"\" key=\"2\">\r\n        {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n    </>\r\n  )\r\n}\r\nconst EventBox = (props)=>{\r\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\r\n    const ResultItem = choice[1].map((result,index)=>\r\n      <p key={index}>{result}</p>\r\n    )\r\n    return(\r\n      <Row key={index} gutter={[8,8]} className=\"list-row\">\r\n        <Col span={12}>\r\n          <p>{choice[0]}</p>\r\n          <p>{t(choice[0])}</p>\r\n        </Col>\r\n        <Col span={12}>{ResultItem}</Col>\r\n      </Row>\r\n    )\r\n  })\r\n\r\n  return(\r\n    <Popover\r\n      trigger={ua==='mo'?'click':'hover'}\r\n      content={<>\r\n      <p>{t(props.event.name)}</p>\r\n      {ChoiceItem}\r\n    </>} title={props.event.name} placement={'bottom'}>\r\n      <Button className='event-button'>{props.event.name}</Button>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport {EventList}\r\n","import React from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { Row,Col,Popover,Button,Image } from 'antd';\r\nimport t from './t.js'\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst ua = db.get('ua').value();\r\n\r\n\r\nconst SkillList = (props)=>{\r\n  const skillList = props.skillList\r\n\r\n  return (\r\n    <Row gutter={0}>\r\n      {skillList.map((skillId,index)=>\r\n        <Col span={12} key={index}>\r\n          <SkillButton id={skillId} usedInList={true}>\r\n        </SkillButton>\r\n      </Col>)}\r\n    </Row>\r\n  )\r\n}\r\nconst SkillButton = (props)=>{\r\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\r\n  const inListStyleOverride = {\r\n    borderRadius:'8px',\r\n    color:'#303030',\r\n    width:'96%',\r\n    justifyContent:'flex-start'\r\n  }\r\n  const skillNameStyle = {\r\n    width:`calc(96% - 34px)`,\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    textAlign:'justify'\r\n  }\r\n    return(\r\n      <Popover\r\n        trigger={ua==='mo'?'click':'hover'}\r\n        content={<>\r\n      <p>{' '+t(skill.name)}</p>\r\n      <p>{' '+skill.describe}</p>\r\n      <p>{' '+t(skill.describe)}</p>\r\n      <p>{skill.condition}</p>\r\n      <p>{' '+t(skill.condition)}</p>\r\n      <p>{' '+skill.ability_value/10000}</p>\r\n      <p>{' ' + skill.ability_time/10000 +'s * /1000'}</p>\r\n      <p>{' ' + skill.cooldown/10000 + 's * /1000'}</p>\r\n      {/* <p> = ( / 100)%</p> */}\r\n      {/* <p> =  *  / 1000</p> */}\r\n      {/* <p> =  *  / 1000</p> */}\r\n      </>} title={skill.name}\r\n      >\r\n        <Button type={'primary'} className={'skill-btn skill-btn-'+skill.rarity} style={props.usedInList?{...inListStyleOverride}:{}} onClick={()=>props.onClick&&props.onClick(skill)}>\r\n          <div style={props.usedInList?\r\n            {display:'flex',position:'absolute',top:4,left:8,width:'100%'}:{width:'100%'}}>\r\n          <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\r\n          <div style={{...skillNameStyle}}>{`\\xa0\\xa0${skill.name}`}</div>\r\n          </div>\r\n        </Button>\r\n      </Popover>\r\n    )\r\n}\r\n\r\nexport {SkillList,SkillButton}\r\n","import React from 'react';\r\n\r\nimport { Row,Col} from 'antd';\r\n// import db from '../db.js'\r\n// import t from './t.js'\r\n\r\n//  \r\nconst RaceList = (props) =>{\r\n  return (\r\n    <Row className={'race-row'}>\r\n      {\r\n        props.raceList.map((race,index)=>{\r\n          // \r\n          if(race[1][2]){\r\n            return(\r\n          <Col span={12} key={index}>\r\n            <Row className={'race-row-'+index%4}>\r\n              <Col span={4} className={'race-name'} >\r\n                <p>{race[0]}</p>\r\n              </Col>\r\n              <Col span = {20} className={'race-detail'}>\r\n              {race[1].map((item,index)=>\r\n                  <p key={index}>{item}</p>\r\n                  )}\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n            )\r\n          }else{\r\n            return null\r\n          }\r\n        }\r\n      )}\r\n    </Row>\r\n  )\r\n}\r\nexport default RaceList","import React from 'react';\r\n\r\nimport { Divider,Image} from 'antd';\r\nimport db from '../db.js'\r\nimport t from './t.js'\r\n\r\nimport {EventList} from './event.js'\r\nimport {SkillList} from './skill.js'\r\nimport RaceList from './player-race.js'\r\n// import {EffectTable} from './effect.js'\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst PlayerDetail = (props) =>{\r\n  const id = props.playerId!==undefined?props.playerId:props.match.params.id\r\n  //  \r\n  const isNur = props.isNur!==undefined?props.isNur:props.match.params.nur\r\n  console.log(props.playerId,id,isNur)\r\n  const data = db.get('players').find({id}).value()\r\n  return(\r\n    isNur?<>\r\n      <div style={{height:64,display:'flex'}}>\r\n          <Image src={cdnServer+data.imgUrl} width={64} height={64} resizemode={'cover'}></Image>\r\n          <div style={{display:'flex',height:64,flexDirection:'column',justifyContent:'space-between'}}>\r\n            <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\r\n            <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.charaName)}</div>\r\n          </div>\r\n      </div>\r\n      <Divider></Divider>\r\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\r\n      <Divider></Divider>\r\n      <RaceList raceList={data.raceList}></RaceList>\r\n      <Divider></Divider>\r\n      <SkillList skillList={data.skillList}></SkillList>\r\n    </>:<>\r\n      <div style={{height:144,display:'flex'}}>\r\n        <Image src={cdnServer+data.imgUrl} width={128} height={128} resizemode={'cover'}></Image>\r\n        <div style={{display:'flex',height:128,padding:24,flexDirection:'column',justifyContent:'space-between'}}>\r\n          <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\r\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\r\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.name)}</div>\r\n          <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\r\n        </div>\r\n      </div>\r\n      <Divider></Divider>\r\n      <AdaptBox player={data}></AdaptBox>\r\n      <Divider></Divider>\r\n      <GrowBox player={data}></GrowBox>\r\n      <Divider></Divider>\r\n      <SkillList skillList={data.skillList}></SkillList>\r\n      <Divider></Divider>\r\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\r\n      <Divider></Divider>\r\n      <RaceList raceList={data.raceList}></RaceList>\r\n    </>\r\n  )\r\n}\r\nconst AdaptBox = (props)=>{\r\n\r\n  const tableStyle = {\r\n    width:\"100%\",\r\n    cellPadding:4,\r\n  }\r\n  const cellStyle = {\r\n    width:'20%',\r\n    height:'32px',\r\n    fontSize: 16,\r\n    textAlign: 'flex-start',\r\n    paddingLeft:16,\r\n    fontWeight: 500,\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const headerCellStyle = {\r\n    width:'20%',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n    backgroundColor:'#32cd32C0',\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const adaptTextWrapperStyle = {paddingRight:16,display:'flex',width:'100%',alignItems:'center',justifyContent:'space-between'}\r\n\r\n  const coloredGradeText = (text)=>{\r\n    let color = 'gray';\r\n    switch (text) {\r\n      case 'S':\r\n        color = '#FFD700';\r\n        break\r\n      case 'A':\r\n        color = '#FFA500';\r\n        break\r\n      case 'B':\r\n        color = '#BA55D3';\r\n        break\r\n      case 'C':\r\n        color = '#90EE90';\r\n        break\r\n      case 'D':\r\n        color = '#87CEEB';\r\n        break\r\n      default:\r\n        color = 'gray'\r\n    }\r\n    return <div style={{fontSize:22,fontWeight:700,textShadow: \"0 2px #33333370\",color:color}}>{text}</div>\r\n  }\r\n  // {[`/\\xa0`,coloredGradeText(props.player.grass)]}\r\n  return(\r\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\r\n      <table {...tableStyle} >\r\n        <tbody>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\",fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.grass)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.dirt)]}</div></td>\r\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{`\\xa0`}</td>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.shortDistance)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.mile)]}</div></td>\r\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.mediumDistance)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none solid none'}}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.longDistance)]}</div></td>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...headerCellStyle ,borderRadius:\"0 0 0 8px\",borderStyle:'none solid none none',fontWeight:700,fontSize:18}}></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.escape)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[``,coloredGradeText(props.player.leading)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.insert)]}</div></td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}><div style={adaptTextWrapperStyle}>{[`/`,coloredGradeText(props.player.tracking)]}</div></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst GrowBox= (props)=>{\r\n  const tableStyle = {\r\n    width:\"100%\",\r\n    cellPadding:4,\r\n  }\r\n  const headerCellStyle = {\r\n    width:'20%',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n    backgroundColor:'#32cd32C0',\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid solid none',\r\n    borderColor:'gray',\r\n  }\r\n  const cellStyle = {\r\n    width:'20%',\r\n    height:'40px',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    borderWidth:'thin',\r\n    borderStyle:'none solid none none',\r\n    borderColor:'gray',\r\n  }\r\n\r\n  return(\r\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\r\n      <table {...tableStyle} >\r\n        <tbody>\r\n          <tr>\r\n            <th style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\"}}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle }}>/</th>\r\n            <th style={{ ...headerCellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>/</th>\r\n          </tr>\r\n          <tr>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 0 8px\"}}>{props.player.speedGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\r\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\r\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}>{props.player.wisdomGrow}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\nexport default PlayerDetail\r\n\r\n","import React,{useState} from 'react';\r\nimport db from '../db.js'\r\nimport t from '../components/t.js'\r\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\r\n\r\n\r\nimport PlayerDetail from '../components/player-detail.js'\r\n// const CheckboxGroup = Checkbox.Group\r\n\r\n// todo \r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst PlayerCard = (props)=>{\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    if(props.onSelect){\r\n      props.onSelect(props.data)\r\n    }else{\r\n      setIsModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card cover={\r\n        <Image src={cdnServer+props.data.imgUrl} preview={false} onClick={showModal} width={'100%'}></Image>\r\n\r\n      }>\r\n        <Card.Meta title={t(props.data.name)} ></Card.Meta>\r\n        <Card.Meta title={t(props.data.charaName)} ></Card.Meta>\r\n      </Card>\r\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} footer={null} width={800} >\r\n        <PlayerDetail playerId={props.data.id} isNur={false}></PlayerDetail>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n//todo filter\r\nclass Player extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {list:props.playerList}\r\n  }\r\n  componentDidUpdate(prevProps){\r\n    if(this.props.playerList !== prevProps.playerList){\r\n      this.setState({list:this.props.playerList})\r\n    }\r\n  }\r\n  render(){\r\n    return(\r\n      <Row justify=\"space-around\">\r\n        <Col span={22}>\r\n          {\r\n            ['3','2','1'].map(rare=>(\r\n              <Row gutter={[16,16]} key={rare}>\r\n                <Divider>{rare}</Divider>\r\n                {this.state.list.filter(item=>item.rare===rare).map(player=>\r\n                  <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\r\n                    <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\r\n                  </Col>)\r\n                }\r\n              </Row>\r\n            ))\r\n          }\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\nPlayer.defaultProps={\r\n  playerList:db.get('players').value()\r\n}\r\n\r\nexport default Player\r\n","import React from 'react';\n// import {useState} from 'react';\nimport { Table, Popover, Slider, Row ,Col} from \"antd\";\n\nimport db from '../db.js'\nimport t from './t.js'\n\n\nconst ua = db.get('ua').value();\n// \"limit_lv5\": -1,\n// \"limit_lv10\": 5,\n// \"limit_lv15\": -1,\n// \"limit_lv20\": -1,\n// \"limit_lv25\": 35,\n// \"limit_lv30\": 35,\n// \"limit_lv35\": -1,\n// \"limit_lv40\": -1,\n// \"limit_lv45\": 50,\n// \"limit_lv50\": -1\nconst effects = db.get('effects').value()\nconst limits = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\"]\nconst getValue = (effect,cur) =>{\n  if(effect[cur]!==-1){\n    return effect[cur]\n  }else{\n    let index = limits.indexOf(cur)\n    let min = 0\n    let min_limit = \"init\"\n    let max = 0\n    let max_limit = \"limit_lv50\"\n    for(let limit of limits.slice(0,index)){\n      if(effect[limit]>min){\n        min = effect[limit]\n        min_limit = limit\n      }\n    }\n    for(let limit of limits.slice(index,limits.length)){\n      if(effect[limit]!==-1){\n        max = effect[limit]\n        max_limit = limit\n        break\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if(max<=min || max - min === 1 || min === 0){\n      return min\n    }else{\n      // console.table({\n      //   name:effects[effect.type].name,\n      //   cname:t(effects[effect.type].name),\n      //   cur,min_limit,min,max_limit,max,\n      //   'max-min':max-min,\n      //   'max_limit - min_limit':limits.indexOf(max_limit)-limits.indexOf(min_limit),\n      //   'cur - min_limit':limits.indexOf(cur)-limits.indexOf(min_limit),\n      //   cur_value:min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit))\n      // })\n      return Math.floor(min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit)))+'()'\n    }\n  }\n}\nconst EffectTable = (props)=>{\n\n  const effects = db.get('effects').value()\n  let columns = [\n    {title:'',dataIndex:'type',key:'type',render:type=><Popover trigger={ua==='mo'?'click':'hover'} content={<>\n      <p>{effects[type].name}</p>\n      <p>{t(effects[type].name)}</p>\n      <p>{effects[type].description}</p>\n      <p>{t(effects[type].description)}</p>\n    </>}>\n      <p>{t(effects[type].name)}</p>\n    </Popover>},\n    {title:'',dataIndex:'init',key:'init',render:(text,record)=>getValue(record,'init')},\n    // {title:'lv5',dataIndex:'limit_lv5',key:'limit_lv5',render:(text,record)=>getValue(record,'limit_lv5')},\n    // {title:'lv10',dataIndex:'limit_lv10',key:'limit_lv10',render:(text,record)=>getValue(record,'limit_lv10')},\n    // {title:'lv15',dataIndex:'limit_lv15',key:'limit_lv15',render:(text,record)=>getValue(record,'limit_lv15')},\n    // {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv20',render:(text,record)=>getValue(record,'limit_lv20')},\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>getValue(record,'limit_lv25')},\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>getValue(record,'limit_lv30')},\n    {title:'lv35',dataIndex:'limit_lv35',key:'limit_lv35',render:(text,record)=>getValue(record,'limit_lv35')},\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>getValue(record,'limit_lv40')},\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>getValue(record,'limit_lv45')},\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>getValue(record,'limit_lv50')},\n      ]\n  if(props.rarity ===2 ){\n    columns = columns.slice(0,columns.length-1)\n  }else if(props.rarity === 1){\n    columns = columns.slice(0,columns.length-2)\n  }\n\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\n}\n\n\n\n\n\n\n\n\nclass TestEffectTable extends React.Component{\n  constructor(props) {\n    super(props);\n    console.log('props',props)\n    this.effects = db.get('effects').value();\n    let maxLevel = 1;\n    switch (props.rarity) {\n      case 1:\n        maxLevel = 40;\n        break;\n      case 2:\n        maxLevel = 45;\n        break;\n      case 3:\n        maxLevel = 50;\n        break;\n      default:\n        maxLevel = 1;\n    }\n\n    this.maxLevel = maxLevel;\n    this.state={\n      selectingLevel:maxLevel,\n    }\n  }\n\n  calc(data,input){\n    let nodes = [];\n    let output = 0;\n    const maxLevel = this.maxLevel;\n    let prevNode = {level:0,value:0};\n    for (let i = 0; i<data.length;i += 1){\n      if(data[i] !== -1){\n        let level = i*5;\n        if (level === 0){\n          level = 1\n        }\n        nodes.push({level:level,value:data[i]})\n        prevNode = {level:level,value:data[i]};\n      }\n      if(i === data.length-1 && data[i] === -1){\n        nodes.push({level:maxLevel,value:prevNode.value})\n      }\n    }\n    nodes.push({level:999,value:prevNode.value}); // SSSR\n\n    const level = Math.floor(input);\n    let upperNode = {level:0,value:0};\n    let lowerNode = {level:0,value:0};\n    if(level < 0 || level > maxLevel){\n        output = 0;\n    }else if(level<nodes[0].level){\n        output = 0;\n    }else {\n      for(let i=0;i<nodes.length;i+=1){\n        if (level>=nodes[i].level && level < nodes[i+1].level){\n          lowerNode = nodes[i];\n          upperNode = nodes[i+1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor((upperNode.value-lowerNode.value)/(upperNode.level-lowerNode.level)*(level-lowerNode.level)+lowerNode.value);\n    }\n\n    return output\n  }\n\n\n  effectCapsuleStyle = {\n    display:'flex',\n    alignItems:'center',\n    flexDirection:'row',\n    margin:2,\n    borderRadius:'12px',\n    backgroundColor:'#32cd32C0',\n    borderStyle:'solid',\n    borderWidth:'thin',\n    borderColor:'#32cd32F0'\n}\n\n    effectRightDivStyle={\n    padding:8,\n    display:'flex',\n    height:'100%',\n    width:'60%',\n    backgroundColor:'white',\n    borderRadius:'0 12px 12px 0',\n    }\n\n    effectNameStyle={\n      fontSize:18,\n      fontWeight: 500,\n      color:'#333333',\n      textShadow: \"0 2px #cccccc70\",\n      overflow: 'hidden',\n      whiteSpace: 'nowrap',\n      textOverflow: 'ellipsis',\n    }\n\n    effectValueStyle = {\n      fontSize:18,\n      fontWeight: 600,\n      color:'#333333',\n    }\n    effectBoxStyle = {\n      display:'flex',\n      flexDirection:'row',\n      alignItems:'center',\n      width:'100%',\n      padding:8,\n      justifyContent:'space-between'\n    }\n  render() {\n    return(\n      <div>\n        {this.props.unique_effect&&<>\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            \n          </text>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            {`:${this.props.unique_effect.lv}`}\n          </text>\n        </div>\n        <Row>\n          {['0','1'].map(index=>\n            <Col span={12}>\n              <div style={{...this.effectCapsuleStyle}}>\n            <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].name}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].name)}</p>\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].description}</p>\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].description)}</p>\n            </>}>\n              <div style={{display:'flex',padding:8,width:'40%'}}>\n                <text style={{...this.effectNameStyle}}>\n                  {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\n                </text>\n              </div>\n            </Popover>\n                <div style={{...this.effectRightDivStyle}}>\n                  <text style={{...this.effectValueStyle}}>\n                  {this.props.unique_effect[`value_${index}`]}\n                  </text>\n                </div>\n              </div>\n            </Col>\n          )}\n        </Row>\n        </>}\n\n        <div style={{...this.effectBoxStyle}}>\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\n            \n          </text>\n          <Slider\n            style={{width:'80%',marginRight:16}}\n            min={1}\n            max={this.maxLevel}\n            value={this.state.selectingLevel}\n            onChange={(value)=>{this.setState({selectingLevel:value})}}\n            marks={{1:'lv1',5:'lv5',10:'lv10',15:'lv15',20:'lv20',\n                    25:'lv25',30:'lv30',35:'lv35',40:'lv40',45:'lv45',50:'lv50'}}\n          />\n        </div>\n        <Row>\n          {this.props.effects.map(\n            (item)=>{\n              const data = [item.init,item.limit_lv5,item.limit_lv10,item.limit_lv15,item.limit_lv20,item.limit_lv25,item.limit_lv30,item.limit_lv35,item.limit_lv40,item.limit_lv45,item.limit_lv50].filter((item)=>(item));\n              return (\n                <Col span={12}>\n                  <div style={{...this.effectCapsuleStyle}}>\n                <Popover trigger={ua==='mo'?'click':'hover'} content={<>\n                  <p>{this.effects[item.type].name}</p>\n                  <p>{t(this.effects[item.type].name)}</p>\n                  <p>{this.effects[item.type].description}</p>\n                  <p>{t(this.effects[item.type].description)}</p>\n                </>}>\n                  <div style={{display:'flex',padding:8,width:'40%'}}>\n                    <text style={{...this.effectNameStyle}}>{t(this.effects[item.type].name)}</text>\n                  </div>\n                </Popover>\n                    <div style={{...this.effectRightDivStyle}}>\n                      <text style={{...this.effectValueStyle}}>\n                      {this.calc(data,this.state.selectingLevel)}\n                      </text>\n                    </div>\n                  </div>\n                </Col>\n              )\n            }\n          )}\n          </Row>\n      </div>\n    )\n  }\n}\n\n\n\n\n\n\n\nexport {EffectTable,TestEffectTable}\n","import React from 'react';\n\nimport { Button, Divider, Image, Alert } from \"antd\";\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill.js'\nimport {EffectTable,TestEffectTable} from './effect.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst SupportDetail = (props) =>{\n  const id = props.supportId || props.match.params.supportId\n  const data = db.get('supports').find({id}).value()\n  return(<>\n    <div style={{display:'flex',alignItems:'center',justifyContent:'flex-start',height:192,padding:16}}>\n      <Image src={cdnServer+data.imgUrl} preview={false} width={128} />\n      <div style={{display:'flex',flexDirection:'column',justifyContent:'space-around',height:'100%',padding:16}}>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\n      </div>\n    </div>\n    <EventList eventList={data.eventList} pid={data.id}></EventList>\n    <Divider style={{margin:'4px 0'}}></Divider>\n    <SkillList skillList={data.trainingEventSkill}></SkillList>\n    <Divider style={{margin:'4px 0'}}></Divider>\n    <SkillList skillList={data.possessionSkill}></SkillList>\n    <Divider></Divider>\n    <TestEffectTable effects={data.effects} unique_effect={data.unique_effect} rarity={data.rarity}></TestEffectTable>\n    <Alert message=\"\" type=\"info\" />\n    <EffectTable effects={data.effects} rarity={data.rarity}></EffectTable>\n  </>)\n}\n\nexport default SupportDetail\n\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox,Tooltip} from 'antd';\n\n\nimport SupportDetail from '../components/support-detail.js'\nconst CheckboxGroup = Checkbox.Group\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst SupportCard = (props)=>{\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const showModal = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      setIsModalVisible(true);\n    }\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Tooltip title={`${props.data.name}----${t(props.data.charaName)}`}>\n        <Image src={cdnServer+props.data.imgUrl} preview={false}  onClick={showModal} width={'100%'}></Image>\n      </Tooltip>\n\n      <Modal title={`${props.data.name}----${t(props.data.charaName)}`}\n            visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n            width={800} destroyOnClose={true}>\n        <SupportDetail supportId={props.data.id}></SupportDetail>\n      </Modal>\n    </>\n  )\n}\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[],\n      checkedList:[]}\n    this.effects = db.get('effects').value()\n    this.checkOptions = Object.keys(this.effects)\n      .map(key=>{return {label:t(this.effects[key].name),value:key}})\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  onChange = (checkedValues)=>{\n    let tempList = this.props.supportList\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    this.setState({\n      checkedList:checkedValues,\n      list:tempList\n    })\n  }\n\n\n\n\n  render(){\n    const headerStyle = {\n      backgroundColor:'#1e90ffA0',\n      height:48,\n      borderRadius:5,\n      margin:1,\n      display:'flex',\n      alignItems:'center',\n      justifyContent:'center'\n    }\n    const headerTextStyle = {\n      fontSize: 18,\n      textAlign: 'center',\n      fontWeight: 600,\n      color:'#f5f5f5',\n      textShadow: \"0 2px #33333370\",\n    }\n    return (\n      <div style={{display:'flex',justifyContent:'center',paddingTop:40}}>\n        <div style={{maxWidth:1200,maxHeight:window.innerHeight-200}}>\n          <Row justify=\"space-around\">\n            <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\n            <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\n            <Col span={6}>\n              <div style={{overflowY:'scroll',display:'flex',flexDirection:'column',overflowX:'hidden',maxHeight:window.innerHeight-300,padding:4}}>\n                {this.props.filter&&<>\n                  <Button onClick={this.changeShowMode}></Button>\n                  <Button onClick={this.changeChooseMode}></Button>\n                  {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'></Button>}\n                  <Divider style={{margin:4}}/>\n                  <CheckboxGroup options={this.checkOptions} value={this.state.checkedList} onChange={this.onChange} />\n                </>}\n              </div>\n            </Col>\n\n\n            <Col span={18}>\n              <div style={{overflowY:'scroll',overflowX:'hidden',maxHeight:window.innerHeight-300,paddingRight:16}}>\n                {\n                  ['SSR','SR','R'].map(rare=>\n                    <Row gutter={[16,16]} key={rare}>\n                      <Divider>{rare}</Divider>\n                      {this.state.list.filter(item=>item.rare===rare).map(support=>\n                        <Col xxl={4} lg={6} sm={6} xs={6} key={support.id}\n                            className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                          <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                                      chooseMode={this.props.chooseMode}></SupportCard>\n                          {/* {support.effects} */}\n                        </Col>)\n                      }\n                    </Row>\n                  )\n                }\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value(),\n  filter:true\n}\n// const Support = (props)=>{\n//   const [list,setList]=useState(props.supportList||db.get('supports').value())\n//   const [chooseMode,setChooseMode]=useState(false)\n//   const [showMode,setShowMode]=useState(false)\n//   const [chosenList,setChosenList]=useState(db.get('mySupports').value()||[])\n//   const [checkedList,setCheckedList]=useState([])\n\n//   const effects = db.get('effects').value()\n//   const checkOptions = Object.keys(effects).map(key=>{return {label:t(effects[key].name),value:key}})\n//   const changeChooseMode = () =>{\n//     setChooseMode(!chooseMode)\n//     setShowMode(!chooseMode)\n//   }\n//   const changeShowMode = () =>{\n//     setShowMode(!showMode)\n//   }\n//   const onSelect = (item) =>{\n//     let index = chosenList.indexOf(item.id)\n//     let tempList = chosenList;\n//     if (index === -1){\n//       tempList.push(item.id)\n//     }else{\n//       tempList.splice(index,1)\n//     }\n//     db.update('mySupports',tempList).write()\n//     setChosenList(tempList)\n//   }\n//   const onChange = (checkedValues)=>{\n//     let tempList = list\n//     if(checkedValues.length){\n//       tempList = tempList.filter(support=>{\n//         let flag = 0;\n//         checkedValues.forEach(value=>{\n//           support.effects.forEach(effect=>{\n//             if(effect.type == value){\n//               flag += 1\n//             }\n//           })\n//         })\n//         return flag == checkedValues.length\n//       })\n//     }\n//     setCheckedList(checkedValues)\n//     setList(tempList)\n//   }\n\n//     return (\n//       <Row justify=\"space-around\">\n//         <Col span={22}>\n//           <Button onClick={changeShowMode}></Button>\n//           <Button onClick={changeChooseMode}></Button>\n//           {chooseMode && <Button onClick={changeChooseMode} type='primary'></Button>}\n//         </Col>\n//         <Col span={22}>\n//           <CheckboxGroup options={checkOptions} value={checkedList} onChange={onChange} />\n//         </Col>\n//         <Col span={22}>\n//       {\n//         ['SSR','SR','R'].map(rare=>\n//           <Row gutter={[16,16]} key={rare}>\n//             <Divider>{rare}</Divider>\n//             {list.filter(item=>item.rare===rare).map(support=>\n//               <Col xxl={2} lg={3} sm={4} xs={6} key={support.id}\n//               className={showMode&&chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n//                 <SupportCard data={support} onSelect={chooseMode?onSelect:props.onSelect}\n//                 chooseMode={props.chooseMode}></SupportCard>\n//                 {/* {support.effects} */}\n//               </Col>)\n//             }\n//           </Row>\n//         )\n//       }\n//         </Col>\n//       </Row>\n//       )\n// }\n\nexport default Support\n","import React from 'react';\r\n// import {useState} from 'react';\r\nimport db from '../db.js'\r\n\r\nimport { List,Popover,Button } from 'antd';\r\n// import t from './t.js'\r\n\r\nconst ua = db.get('ua').value();\r\n\r\nconst BuffButton = (props)=>{\r\n  return(\r\n    <Popover\r\n    trigger={ua==='mo'?'click':'hover'}\r\n    content={<BuffList></BuffList>}>\r\n      <Button>Buff</Button>\r\n    </Popover>\r\n  )\r\n}\r\nconst BuffList = (props)=>{\r\n  const buffs = db.get('buffs').value()\r\n  const cellStyle = {\r\n    // width:'20%',\r\n    height:'32px',\r\n    fontSize: 16,\r\n    textAlign: 'flex-start',\r\n    paddingLeft:16,\r\n    fontWeight: 500,\r\n    borderWidth:'thin',\r\n    borderStyle:'solid solid solid solid',\r\n    borderColor:'gray',\r\n  }\r\n  return(\r\n    <table>\r\n      <tbody>\r\n      {buffs.map(buff=><tr>\r\n        <td style={{...cellStyle}}>{buff.name}</td>\r\n        <td style={{...cellStyle}}>{buff.describe}</td>\r\n      </tr>)}\r\n      </tbody>\r\n    </table>\r\n    )\r\n}\r\nexport {BuffButton,BuffList}\r\n","import React from 'react';\n// import {useState} from 'react';\nimport db from '../db.js'\n\nimport { Row,Col,Button } from 'antd';\nimport { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst RaceSchedule = (props)=>{\n  // const races = db.get('races').value()\n  const str  = []\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    let moment = i%2?'':''\n    return `${year}${month}${moment}`\n  }\n  for (let i = 13;i<72;i++){\n    let curRace;\n    if(props.raceList[i]){\n      curRace = db.get('races').find({id:props.raceList[i].id}).value()\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#ff6b81',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n        <br/>\n        {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n        {/* -{curRace.date} */}\n        </Col>)\n    }else if(props.selectedRaceList[i]){\n      str.push(<Col span={6} key={i}\n        style={{\n        backgroundColor:'#7bed9f',\n        border:'1px solid #2f3542',\n        whiteSpace:'pre-line'}}>\n        {getDate(i)}\n        <br/>\n        {props.selectedRaceList[i].map(raceId=>{\n          let curRace = db.get('races').find({id:raceId}).value()\n          return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`\n\n        })}\n        </Col>)\n    }else{\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#a4b0be',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n      </Col>)\n    }\n  }\n  return(<Row>\n    {str}\n  </Row>)\n}\n\nexport {RaceSchedule}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule} from '../components/race.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <Row>\n          <Col span={4}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={props.data.skillList} ></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </Row>\n  )\n}\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [selectedRaceList,setSelectedRaceList] = useState(selected.selectedRaceList||[])\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setSelectedRaceList(data);\n\n    // save\n    selected.selectedRaceList = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    console.log('currentWidth::',height);\n    return {height};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  return(\n    <Row className='nurturing-box' gutter={[32,8]}>\n\n      <Col span={9} style={{height:dynamicContentHeight,overflowY:'auto'}}>\n        <Button type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider></Divider>\n        <Row>\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Col>\n        </Row>\n        <Divider></Divider>\n      {player.id&&<>\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n          <RaceSchedule raceList={player.raceList} selectedRaceList={selectedRaceList}></RaceSchedule>\n        </>}\n      </Col>\n      <Col sm={15} xs={24}>\n        <Row gutter={[16,16]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index}>\n            <Button onClick={()=>showSupport(index)}></Button>\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\n          </Col>\n        )}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule} from '../components/race.js'\n\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [selectedRaceList,setSelectedRaceList] = useState(selected.selectedRaceList||[])\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setSelectedRaceList(data);\n\n    // save\n    selected.selectedRaceList = data\n    db.get('selected').assign(selected).write()\n  }\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    console.log('currentWidth::',height);\n    return {height};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  const dynamicCardHeight = Math.floor(dynamicContentHeight / 2)\n  const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4)\n  const dynamicCardBoxWidth = dynamicCardWidth * 3\n\n  return(\n    <div style={{display:'flex',justifyContent:'center'}}>\n      <div style={{height:dynamicContentHeight,overflowY:'auto'}}>\n        <Button className='add-player' type={'primary'} onClick={showPlayer}></Button>\n        <Button onClick={showSupport2}></Button>\n        <Button onClick={showRace}></Button>\n        {/* <Popover content={\n          <Table dataSource={races} pagination={false} style={{height:dynamicContentHeight,overflow:'auto'}}>\n            <Column title=\"\" dataIndex=\"name\" key=\"name\" />\n            <Column title=\"\" dataIndex=\"date\" key=\"date\" />\n            <Column title=\"\" dataIndex=\"grade\" key=\"grade\" />\n            <Column title=\"\" dataIndex=\"distanceType\" key=\"distanceType\" />\n          </Table>\n        }>\n          <Button></Button>\n        </Popover> */}\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button></Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider style={{margin:'4px 0'}}></Divider>\n        {player.id&&<>\n          <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='20%'\n            style={{float:'left',marginRight:'8px'}}></img>\n          <EventList eventList={player.eventList} pid={player.id} type='multi'></EventList>\n          <RaceSchedule raceList={player.raceList} selectedRaceList={selectedRaceList}></RaceSchedule>\n          <Divider style={{margin:'4px 0'}}></Divider>\n          <SkillList skillList={player.skillList}></SkillList>\n        </>}\n\n\n\n      </div>\n\n      <div style={{flex:`0 0 ${dynamicCardBoxWidth}px`,display:'flex',flexWrap:'wrap'}}>\n        {[0,1,2,3,4,5].map(index=>\n            supports[index]&&supports[index].id?\n              <div style={{\n                  width:dynamicCardWidth,\n                  height:dynamicCardHeight,\n                  backgroundImage:`url(${cdnServer+supports[index].imgUrl})`,\n                  backgroundRepeat:'no-repeat',\n                  backgroundSize:'cover'}}>\n                <div style={{\n                  backgroundColor:'rgba(0,0,0,0.2)',\n                  height:'100%',\n                  padding:'10px'}}>\n                <Tooltip title=\"\">\n                  <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>showSupport(index)}/>\n                </Tooltip>\n                <EventList eventList={supports[index].eventList} pid={supports[index].id} type='multi'></EventList>\n                <Divider style={{margin:'8px 0'}}></Divider>\n                <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList>\n                </div>\n              </div>\n            :<Button onClick={()=>showSupport(index)}></Button>\n        )}\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </div>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\r\nimport { Divider,Row,Col,Button,Checkbox,Modal,Tooltip,PageHeader,Switch,Input} from 'antd';\r\n\r\nimport db from '../db.js'\r\nimport Support from './support.js'\r\nimport Player from './player.js'\r\nimport t from '../components/t.js'\r\nimport {SkillButton} from '../components/skill.js'\r\nconst CheckboxGroup = Checkbox.Group\r\nconst { Search } = Input\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst Skill = () =>{\r\n  // \r\n  const allSkillList = db.get('skills').orderBy('db_id').value()\r\n  const allSupportList = db.get('supports').value()\r\n  const allPlayerList = db.get('players').value()\r\n  const mySupports = db.get('mySupports').value()\r\n  let mySkillList = new Set()\r\n  mySupports.forEach(supportId=>{\r\n    let support = db.get('supports').find({id:supportId}).value()\r\n    support.skillList.forEach(skillId=>{\r\n      mySkillList.add(skillId)\r\n    })\r\n  })\r\n\r\n  const [skillList,setSkillList] = useState(allSkillList)\r\n  const [skillSupportList,setSkillSupportList] = useState(allSupportList)\r\n  const [skillPlayerList,setSkillPlayerList] = useState(allPlayerList)\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  // \r\n  const [skillName, setSkillName] = useState('');\r\n\r\n  const [checkedList1, setCheckedList1] = useState([]);\r\n  const [checkedList2, setCheckedList2] = useState([]);\r\n  const [checkedList3, setCheckedList3] = useState([]);\r\n  // init supportMode\r\n  localStorage.getItem('supportMode')===null&&localStorage.setItem('supportMode',0)\r\n  const [mode,setMode] = useState(parseInt(localStorage.getItem('supportMode')))\r\n  const checkOptions1 = [\r\n    {label:'',value:'normal'},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''}\r\n  ]\r\n  const checkOptions2 =[\r\n    {label:'()',value:'10011'},\r\n    {label:'()',value:'10021'},\r\n    {label:'()',value:'10031'},\r\n    {label:'()',value:'10041'},\r\n    {label:'()',value:'10051'},\r\n    {label:'()',value:'20021'},\r\n    {label:'()',value:'20011'},\r\n    // {label:'20031',value:'20031'},\r\n    {label:'()',value:'20041'},\r\n    {label:'()',value:'20051'},\r\n    {label:'()',value:'20061'},\r\n    // {label:'20071',value:'20071'},\r\n    // {label:'20081',value:'20081'},\r\n    {label:'()',value:'20091'},\r\n    {label:'()',value:'30011'},\r\n    {label:'()',value:'30041'},\r\n    {label:'()',value:'30051'},\r\n    {label:'()',value:'30071'}\r\n  ]\r\n  const checkOptions3 = [\r\n    {label:'',value:''},\r\n    {label:'',value:''},\r\n    {label:'',value:''}\r\n  ]\r\n\r\n  const onChange1=(checkedValues)=>{\r\n    setCheckedList1(checkedValues)\r\n    updateSkillList(checkedValues,checkedList2,checkedList3)\r\n\r\n  }\r\n  const onChange2 = (checkedValues)=>{\r\n    setCheckedList2(checkedValues)\r\n    updateSkillList(checkedList1,checkedValues,checkedList3)\r\n  }\r\n  const onChange3 = (checkedValues)=>{\r\n    setCheckedList3(checkedValues)\r\n    updateSkillList(checkedList1,checkedList2,checkedValues)\r\n  }\r\n  const updateSkillList = (check1,check2,check3)=>{\r\n    let tempSkillList = allSkillList\r\n    if(check1.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check1.forEach(value=>{\r\n          if(skill.describe){\r\n            if(value==='normal' && skill.describe.indexOf('') === -1 && skill.describe.indexOf('') === -1){\r\n              flag = 1\r\n            }else if(skill.describe.indexOf(value)!==-1){\r\n              flag = 1\r\n            }\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    if(check2.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check2.forEach(value=>{\r\n          let str = skill.icon_id +''\r\n          if(str){\r\n            if(str[0] === value[0] && str[3] === value[3] ){\r\n              flag = 1\r\n            }\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    if(check3.length){\r\n      tempSkillList = tempSkillList.filter(skill=>{\r\n        let flag = 0;\r\n        check3.forEach(value=>{\r\n          if(skill.rare === value){\r\n            flag = 1\r\n          }\r\n        })\r\n        return flag\r\n      })\r\n    }\r\n    setSkillList(tempSkillList)\r\n  }\r\n  const resetCheckbox=()=>{\r\n    setCheckedList1([])\r\n    setCheckedList2([])\r\n    setCheckedList3([])\r\n    setSkillList(allSkillList)\r\n  }\r\n\r\n  const showModal = (skill) => {\r\n    let tempSupportList = allSupportList.filter(support=>{\r\n      let flag = 0;\r\n      support.skillList.forEach(id=>{\r\n        if (id===skill.id){\r\n          flag = 1\r\n        }\r\n      })\r\n      return flag\r\n    })\r\n    let tempPlayerList = allPlayerList.filter(player=>{\r\n      let flag = 0;\r\n      player.skillList.forEach(id=>{\r\n        if (id===skill.id){\r\n          flag = 1\r\n        }\r\n      })\r\n      return flag\r\n    })\r\n    setSkillName(skill.name)\r\n    setSkillSupportList(tempSupportList)\r\n    setSkillPlayerList(tempPlayerList)\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  const changeMode = ()=>{\r\n    localStorage.setItem('supportMode',1-mode)\r\n    setMode(1-mode)\r\n  }\r\n  const rareLabel={'':'','':' ','':''}\r\n\r\n  const headerStyle = {\r\n    backgroundColor:'#1e90ffA0',\r\n    height:48,\r\n    borderRadius:5,\r\n    margin:1,\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center'\r\n  }\r\n  const headerTextStyle = {\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    fontWeight: 600,\r\n    color:'#f5f5f5',\r\n    textShadow: \"0 2px #33333370\",\r\n  }\r\n\r\n  const onSearch = (searchText) => {\r\n    const fullSkillList = allSkillList;\r\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\r\n    setCheckedList1([])\r\n    setCheckedList2([])\r\n    setCheckedList3([])\r\n    setSkillList(tempSkillList)\r\n  };\r\n\r\n  const useViewport = () => {\r\n    const [width, setWidth] = React.useState(window.innerWidth);\r\n    const [height,setHeight] = React.useState(window.innerHeight);\r\n    React.useEffect(() => {\r\n      const handleWindowResize = () => setHeight(window.innerHeight);\r\n      window.addEventListener(\"resize\", handleWindowResize);\r\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n    }, []);\r\n    return {height};\r\n  };\r\n\r\n  const dynamicListHeight = useViewport().height - 128 - 90;\r\n\r\n  return(<>\r\n    <div style={{display:'flex',justifyContent:'center',paddingTop:40}}>\r\n      <div style={{maxWidth:800}}>\r\n        <Row>\r\n          <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\r\n          <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}></text></div></Col>\r\n          <Col span={6}>\r\n            <div style={{height:dynamicListHeight,overflowY:'scroll',display:'flex',flexDirection:'column'}}>\r\n              <div style={{height:16}}/>\r\n              <Button type={'danger'} onClick={resetCheckbox} style={{width:'100%'}}></Button>\r\n              <Divider/>\r\n              <div>\r\n                <Tooltip title=\"\">\r\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}></span>\r\n                  <Switch checked={mode} onChange={changeMode} />\r\n                </Tooltip>\r\n              </div>\r\n              <div>\r\n                <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}></span>\r\n                <Search\r\n                  placeholder=\"\"\r\n                  enterButton=\"\"\r\n                  size=\"middle\"\r\n                  style={{ width: '100%' }}\r\n                  onSearch={onSearch}\r\n                />\r\n              </div>\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions1} value={checkedList1} onChange={onChange1} />\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions2} value={checkedList2} onChange={onChange2} />\r\n              <Divider/>\r\n              <CheckboxGroup options={checkOptions3} value={checkedList3} onChange={onChange3} />\r\n            </div>\r\n          </Col>\r\n          <Col span={18}>\r\n            <div style={{height:dynamicListHeight,overflowY:'scroll',overflowX:'hidden'}}>\r\n              {['','',''].map(rare=>\r\n                <Row gutter={[8,8]} key={rare}>\r\n                  <Divider>{rareLabel[rare]}</Divider>\r\n                  { skillList.filter(item=>mode?mySkillList.has(item.id)&&(item.rare === rare):item.rare === rare).map(skill=>\r\n                    <Col span={12}>\r\n                      <SkillButton usedInList={true} skill={skill} key={skill.id} onClick={showModal}></SkillButton>\r\n                    </Col>\r\n                  )\r\n                  }\r\n                  <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} width={'80%'}>\r\n                    <PageHeader title={skillName}>{t(skillName)}</PageHeader>\r\n                    <Support supportList={skillSupportList} filter={false}></Support>\r\n                    <Player playerList={skillPlayerList} ></Player>\r\n                  </Modal>\r\n                </Row>\r\n              )}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  </>)\r\n}\r\n\r\nexport default Skill\r\n\r\n","import React,{useState} from 'react';\nimport { Row,Alert,Image,Button,Divider,\n  Table,Modal,Col,Radio,Rate,Form,Slider,PageHeader,Input,Space} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\n\nimport Player from './player.js'\nimport Support from './support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n// db.set('userId',null).write()\nlet userId = db.get('userId').value()\n// console.log(userId)\n\n/*\nuserId \nid\nid\n - speed stamina power guts wisdom\n - grass dirt shortDistance mile mediumDistance longDistance\n        - escape leading insert tracking\n\nid\nid\n\ntotal blue\ntotal red\nwhite num\n*/\n// userId\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\nconst SeedInput = (props)=>{\n  const [form] = Form.useForm();\n  const [seed,setSeed] = useState({})\n\n  const onFinish = async (value)=>{\n    let tmpSeed = seed\n    tmpSeed = Object.assign({},seed,value)\n    setSeed(tmpSeed)\n    // db.set('form',form).write()\n    // \n    const formData = {...tmpSeed}\n    formData.userId = userId || db.get('userId').value()\n    let updateTime = new Date().getTime()\n    formData.updateTime=updateTime\n    formData['playerId-0'] = value['player-0'].id\n    formData['playerId-1'] = value['player-1'].id\n    formData['playerId-2'] = value['player-2'].id\n    formData['supportId'] = value['support'].id\n    delete formData['support']\n    delete formData['player-0']\n    delete formData['player-1']\n    delete formData['player-2']\n    // formData[formData['blue-0']]=formData['blueLevel-0']\n    // formData[formData['red-0']]=formData['redLevel-0']\n    let list = ['0','1','2']\n    list.forEach(i=>{\n      //\n      if(formData[formData[`blue-${i}`]]!==undefined){\n        formData[formData[`blue-${i}`]]+=formData[`blueLevel-${i}`]\n      }else{\n        formData[formData[`blue-${i}`]]=formData[`blueLevel-${i}`]\n      }\n      //\n      if(formData[formData[`red-${i}`]]!==undefined){\n        formData[formData[`red-${i}`]]+=formData[`redLevel-${i}`]\n      }else{\n        formData[formData[`red-${i}`]]=formData[`redLevel-${i}`]\n      }\n      //\n      if(formData['white']!==undefined){\n        formData['white']+=formData[`whiteNum-${i}`]\n      }else{\n        formData['white']=formData[`whiteNum-${i}`]\n      }\n    })\n    const res = await axios.post('https://urarawin.com/api/add',formData)\n    if(res.data && res.data.success){\n      message.info('')\n      props.onFinish()\n    }else{\n      message.info('')\n    }\n  }\n  const list = ['','1','2']\n\n\n  const getFields = ()=>{\n    const children = []\n    for (let i = 0;i<3;i++){\n      children.push(\n        <Col span={8} key={i}>\n        <PageHeader title={`${list[i]}`}></PageHeader>\n        <Row>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player-${i}`} rules={[{ required: true }]}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n        </Row>\n      <Form.Item label='' name={`blue-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'speed'}>{''}</Radio.Button>\n          <Radio.Button value={'stamina'}>{''}</Radio.Button>\n          <Radio.Button value={'power'}>{''}</Radio.Button>\n          <Radio.Button value={'guts'}>{''}</Radio.Button>\n          <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`blueLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`red-${i}`} rules={[{ required: true }]}>\n        <Radio.Group>\n          <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n          <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n          <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'mile'}>{''}</Radio.Button>\n          <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n          <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n          <Radio.Button value={'escape'}>{''}</Radio.Button>\n          <Radio.Button value={'leading'}>{''}</Radio.Button>\n          <Radio.Button value={'insert'}>{''}</Radio.Button>\n          <Radio.Button value={'tracking'}>{''}</Radio.Button>\n        </Radio.Group>\n      </Form.Item>\n      <Form.Item label='' name={`redLevel-${i}`} rules={[{ required: true }]}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`greenLevel-${i}`} initialValue={0}>\n        <Rate count={3} />\n      </Form.Item>\n      <Form.Item label='' name={`whiteNum-${i}`} initialValue={0}>\n        <Slider min={0} max={10} dots={true} tooltipPlacement={'left'}></Slider>\n      </Form.Item>\n        </Col>\n      )\n    }\n    return children\n  }\n  return(\n    <Form name={''} form={form} onFinish={onFinish} className={'seed-form'}>\n<Alert message='  ' type='info'></Alert>\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify='end'>\n        <Col span={3}>\n          <Form.Item label='' name={'support'} rules={[{ required: true }]}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label='id' name='gameId' rules={[{ required: true},\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              console.log(\"!!!!\",value)\n              if (value.match(/^[0-9]\\d*$/g) && value.length===9) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('9id'));\n            },\n          }),\n          ]}>\n            <Input placeholder=\"id\" style={{ width:'100%' }}></Input>\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              \n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <>\n            {fields.map((field, index) => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Row justify='center'>\n                  <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                  <Radio.Group>\n                    <Row>\n                      <Radio.Button value={'speed'}>{''}</Radio.Button>\n                      <Radio.Button value={'stamina'}>{''}</Radio.Button>\n                      <Radio.Button value={'power'}>{''}</Radio.Button>\n                      <Radio.Button value={'guts'}>{''}</Radio.Button>\n                      <Radio.Button value={'wisdom'}>{''}</Radio.Button>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'grass'}>{'/'}</Radio.Button>\n                      <Radio.Button value={'dirt'}>{'/'}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'shortDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'mile'}>{''}</Radio.Button>\n                      <Radio.Button value={'mediumDistance'}>{''}</Radio.Button>\n                      <Radio.Button value={'longDistance'}>{''}</Radio.Button><hr/>\n                    </Row>\n                    <Row>\n                      <Radio.Button value={'escape'}>{''}</Radio.Button>\n                      <Radio.Button value={'leading'}>{''}</Radio.Button>\n                      <Radio.Button value={'insert'}>{''}</Radio.Button>\n                      <Radio.Button value={'tracking'}>{''}</Radio.Button>\n                    </Row>\n                  </Radio.Group>\n                </Form.Item>\n              </Col>\n              <Col span={20}>\n\n                <Form.Item {...field}\n                  name={[field.name,'level']}\n                  fieldKey={[field.fieldKey,'level']}\n                  rules={[{ required: true }]}>\n                  <Rate count={props.max} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Button type=\"dashed\" onClick={() => remove(field.name)}></Button>\n              </Col>\n                </Row>\n                </Space>\n            ))}\n            <Row justify='center'>\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n                >\n                \n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n            </Row>\n          </>\n        )}\n      </Form.List>\n  )\n}\n\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['supportLevel']){\n      formData.attrs.push('supportLevel')\n      formData.levels.push(value['supportLevel'])\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p0?.forEach(item=>{\n      if(blueLabels[item.attr]){\n        formData['blue-0']=item.attr\n        formData.attrs.push('blueLevel-0')\n        formData.levels.push(item.level)\n      }else{\n        formData['red-0']=item.attr\n        formData.attrs.push('redLevel-0')\n        formData.levels.push(item.level)\n      }\n    })\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr)\n      formData.levels.push(item.level)\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Col span={10}>\n          <PageHeader title=''></PageHeader>\n          <Col span={6} offset={4}>\n            <Form.Item label='' name={`player0`}>\n              <PlayerInput></PlayerInput>\n            </Form.Item>\n          </Col>\n          <SearchOne name='p0' max='3'></SearchOne>\n        </Col>\n        <Col span={10}>\n          <PageHeader title={''}></PageHeader>\n          <SearchOne name='p1' max='9'></SearchOne>\n        </Col>\n        <Col span={4}>\n          <PageHeader title={''}></PageHeader>\n          <Col span={20}>\n\n          <Form.Item label='' name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Col>\n          <Form.Item label='' name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row justify='end'>\n      <Form.Item>\n        <Button htmlType=\"button\" onClick={()=>onReset()}>\n          \n        </Button>\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          \n        </Button>\n      </Form.Item>\n      </Row>\n    </Form>\n  )\n}\n\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\n\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList,setSeedList] = useState([])\n\n  const columns = [\n    {title:'id',dataIndex:'gameId',key:'gameId',render:(text,seed)=>(<>\n      <Row>\n        <p>{text}</p> \n        <CopyToClipboard text={text} onCopy={()=>message.info('')}>\n          <Button shape=\"circle\" icon={<CopyOutlined />}/>\n        </CopyToClipboard>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(seed)}/>\n        <p>{seed.likes?seed.likes.length:0}</p>\n      </Row>\n      <Row align='middle'>\n        <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(seed)}/>\n        <p>{seed.dislikes?seed.dislikes.length:0}</p>\n      </Row>\n      </>)},\n    {title:'',dataIndex:'playerId-0',key:'playerId-0',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',dataIndex:'blue-0',key:'blue-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{blueLabels[text]}</span>\n        <Rate count={3} value={record['blueLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'red-0',key:'red-0',\n      render:(text,record)=>(\n      <Row>\n        <span className='rate-label'>{redLabels[text]}</span>\n        <Rate count={3} value={record['redLevel-0']} disabled></Rate>\n      </Row>)},\n    {title:'',dataIndex:'greenLevel-0',key:'greenLevel-0',\n      render:(text,record)=>(\n        <Row>\n          <span className='rate-label'></span>\n          <Rate count={3} value={record['greenLevel-0']} disabled></Rate>\n        </Row>)},\n    {title:'1',dataIndex:'playerId-1',key:'playerId-1',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'2',dataIndex:'playerId-2',key:'playerId-2',\n    render:text=>(<PlayerImage id={text}></PlayerImage>)},\n    {title:'',key:'allBlue',render:(text,record)=>(\n      Object.keys(blueLabels).map(key=>{\n        if(record[key]){\n          // console.log(key,record[key])\n          return (\n            <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{blueLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n    )},\n      {title:'',key:'allRed',render:(text,record)=>(\n        Object.keys(redLabels).map(key=>{\n          if(record[key]){\n            return (\n              <Row justify=\"space-between\" key={key}>\n              <Col>\n                <span className='rate-label'>{redLabels[key]}{record[key]}</span>\n              </Col>\n              <Col>\n                <Rate count={record[key]} value={record[key]} disabled></Rate>\n              </Col>\n            </Row>\n          )\n        }else{\n          return null\n        }\n      })\n      )},\n      {title:'',dataIndex:'white',key:'white',render:text=>(text)},\n      {title:'',dataIndex:'supportId',key:'supportId',\n      render:text=>(<SupportImage id={text}></SupportImage>)},\n      {title:'',dataIndex:'supportLevel',key:'supportLevel',\n      render:(text,record)=>(\n      <Row>\n        <Rate count={4} value={record['supportLevel']} disabled></Rate>\n      </Row>)}\n  ]\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info('')\n      }\n    }else{\n      message.info('')\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info('')\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info('')\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n  <Row justify='center'>\n    <Col span={2}>\n    <Button onClick={()=>showSeedInput()}></Button>\n    </Col>\n    <Col span={20}>\n      <SearchForm search={search}></SearchForm>\n    </Col>\n  </Row>\n  <Divider></Divider>\n    <Row justify='center'>\n      <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/>\n    </Row>\n  <Modal visible={isSeedInputVisible} onOk={closeSeedInput} onCancel={closeSeedInput} footer={null} width={'80%'}>\n    <SeedInput onFinish={closeSeedInput}></SeedInput>\n  </Modal>\n  </>\n  )\n}\nexport default Seed\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'',\n      element:'.menu-player',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/'\n    },{\n      title:'',\n      element:'.menu-support',\n      intro:<>\n          <p></p>\n          <p></p>\n          <p></p>\n          <p></p>\n        </>,\n      href:'/support'\n    },{\n      title:'',\n      element:'.menu-skill',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/skill'\n    },{\n      title:'',\n      element:'.menu-race',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/race'\n    },{\n      title:'',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'',\n      element:'.menu-seed',\n      intro:<>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/seed'\n    },{\n      title:'',\n      element:'.reset-nur',\n      intro:<>\n      <p></p>\n      <p></p>\n    </>,\n    },{\n      title:'',\n      element:'.reset-intro',\n      intro:<>\n      <p></p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\r\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\r\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\r\nimport {message} from 'antd'\r\nimport 'antd/dist/antd.css';\r\nimport './index.css'\r\n\r\n\r\nimport db from './db.js'\r\n\r\nimport Race from './pages/race.js'\r\nimport Player from './pages/player.js'\r\nimport Support from './pages/support.js'\r\nimport Nurturing from './pages/nurturing.js'\r\nimport Nurturing2 from './pages/nurturing2.js'\r\nimport Skill from './pages/skill.js'\r\nimport Seed from './pages/seed.js'\r\n\r\nimport IntroIndex from './components/intro.js'\r\n\r\nconst { Header, Content, Footer } = Layout;\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n\r\nconst AppPc = ()=>{\r\n  let lan = db.get('lan').value()\r\n  const [langText,setLangText] = useState(lan==='zh'?'English':'')\r\n  const changeLan=()=>{\r\n    if(lan === 'zh'){\r\n      lan = 'en'\r\n      db.set('lan','en').write()\r\n      setLangText('')\r\n      message.info('Refresh the website ')\r\n    }else{\r\n      lan = 'zh'\r\n      db.set('lan','zh').write()\r\n      setLangText('English')\r\n      message.info('')\r\n    }\r\n  }\r\n  const resetNur =()=>{\r\n    db.set('selected',{\r\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n      player:{},\r\n      races:[]\r\n    }).write()\r\n    db.set('myDecks',[]).write()\r\n  }\r\n  const resetIntro = ()=>{\r\n    localStorage.setItem('introV',null)\r\n  }\r\n  db.set('ua','pc').write();\r\n  //overflow\r\n  const dom = document.getElementsByTagName(\"body\");\r\n  dom[0].style.overflowY = \"scroll\";\r\n\r\n  return (\r\n      // <UserAgentProvider ua={window.navigator.userAgent}>\r\n<Router>\r\n    <IntroIndex></IntroIndex>\r\n    <Layout className=\"layout\">\r\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\r\n      <Menu theme=\"dark\" mode=\"horizontal\">\r\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'></Link></Menu.Item>\r\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'></Link></Menu.Item>\r\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'></Link></Menu.Item>\r\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'></Link></Menu.Item>\r\n        <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'></Link></Menu.Item>\r\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>new</Link></Menu.Item>\r\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'></Link></Menu.Item>\r\n      </Menu>\r\n    </Header>\r\n    <Content style={{ paddingTop:'64px'}} >\r\n      <Route exact path=\"/\" component={Player}/>\r\n      <Route path=\"/support\" component={Support}/>\r\n      <Route path=\"/skill\" component={Skill}/>\r\n      <Route path=\"/nurturing\" component={Nurturing}/>\r\n      <Route path=\"/nurturing2\" component={Nurturing2}/>\r\n      <Route path=\"/seed\" component={Seed}/>\r\n      <Route path=\"/race\" component={Race}/>\r\n    </Content>\r\n  <Footer style={{padding:'12px'}}>\r\n    <Row gutter={[16,16]}>\r\n      <Col span={2}>\r\n        <Button onClick={changeLan}>{langText}</Button>\r\n      </Col>\r\n      <Col span={2}>\r\n        <Popover content={<p></p>}>\r\n          <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}></Button>\r\n         </Popover>\r\n      </Col>\r\n      <Col span={3}>\r\n        <Popconfirm title=\"\" onConfirm={resetNur}>\r\n          <Popover content={<p></p>}>\r\n            <Button className='reset-nur' placement=\"bottom\"></Button>\r\n          </Popover>\r\n        </Popconfirm>\r\n      </Col>\r\n      <Col span={11}></Col>\r\n      <Col span={2}>\r\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\r\n          <Button placement=\"bottom\"></Button>\r\n        </Popover>\r\n      </Col>\r\n      <Col span={2}>\r\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\r\n      </Col>\r\n      <Col span={2}>\r\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\r\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\r\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"   \" title=\"   \" />\r\n        </a>\r\n      </Popover>\r\n      </Col>\r\n    </Row>\r\n  </Footer>\r\n  </Layout>\r\n</Router>\r\n      // </UserAgentProvider>\r\n  )\r\n}\r\n\r\nexport default AppPc\r\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport shortid from 'shortid'\nimport db from '../db.js'\n\nimport { Divider,Row,Col,Modal,Button, Popconfirm,Popover,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\n\n// import Race from './race.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\n\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n\nconst Nurturing = (props) =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  // const showRace = ()=>{\n  //   setNeedSelect(true)\n  //   setIsRaceVisible(true);\n  // }\n  // const closeRace = () => {\n  //   setIsRaceVisible(false);\n  // };\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  const toSupportDetail = (id)=>{\n    props.history.push(`/support-detail/${id}`)\n  }\n  const toPlayerDetail = (id)=>{\n    props.history.push(`/player-detail/${id}/1`)\n  }\n  const toBuffList = (id)=>{\n    props.history.push(`/buff`)\n  }\n  return(\n    <Row className='nurturing-box' gutter={[16,16]}>\n      <Col>\n          <Button type={'primary'} onClick={showPlayer}></Button>\n          <Button onClick={showSupport2}></Button>\n          <Button onClick={toBuffList}>BUFF</Button>\n        <Popover width={'80%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}></Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl}  width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}></Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\"></Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button></Button>\n        </Popover>\n        {player.imgUrl&&\n          <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='128'\n          onClick={()=>toPlayerDetail(player.id)}></img>\n        }\n      </Col>\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Button icon={<EditOutlined />} onClick={()=>showSupport(index)}></Button>\n            {supports[index]&&supports[index].id&&\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n              onClick={()=>toSupportDetail(supports[index].id)}></img>\n            }\n          </Col>\n        )}\n        </Row>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} footer={null} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} footer={null} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null} filter={false}></Support>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default withRouter(Nurturing)\n\n\n","import React,{useState} from 'react';\r\n\r\nimport { Picker, List,Flex,Card } from 'antd-mobile';\r\n\r\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\r\nimport {message} from 'antd'\r\n//test\r\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\n\r\nimport axios from 'axios'\r\nimport db from '../db.js'\r\n\r\nimport Player from '../pages/player.js'\r\nimport Support from '../pages/support.js'\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\nlet userId = db.get('userId').value()\r\n\r\nconst blueLabels={\r\n  'speed':'',\r\n  'stamina':'',\r\n  'power':'',\r\n  'guts':'',\r\n  'wisdom':''\r\n}\r\nconst redLabels = {\r\n  'grass':'',\r\n  'dirt':'',\r\n  'shortDistance':'',\r\n  'mile':'',\r\n  'mediumDistance':'',\r\n  'longDistance':'',\r\n  'escape':'',\r\n  'leading':'',\r\n  'insert':'',\r\n  'tracking':''}\r\n\r\nconst lists = [\r\n  [\r\n    {value:'speed',label:''},\r\n    {value:'stamina',label:''},\r\n    {value:'power',label:''},\r\n    {value:'guts',label:''},\r\n    {value:'wisdom',label:''},\r\n    {value:'grass',label:''},\r\n    {value:'dirt',label:''},\r\n    {value:'shortDistance',label:''},\r\n    {value:'mile',label:''},\r\n    {value:'mediumDistance',label:''},\r\n    {value:'longDistance',label:''},\r\n    {value:'escape',label:''},\r\n    {value:'leading',label:''},\r\n    {value:'insert',label:''},\r\n    {value:'tracking',label:''}\r\n  ],[\r\n    {value:1,label:'1'},\r\n    {value:2,label:'2'},\r\n    {value:3,label:'3'},\r\n    {value:4,label:'4'},\r\n    {value:5,label:'5'},\r\n    {value:6,label:'6'},\r\n    {value:7,label:'7'},\r\n    {value:8,label:'8'},\r\n    {value:9,label:'9'},\r\n  ]\r\n]\r\n\r\n\r\n\r\nconst PlayerInput = ({ value = {}, onChange }) => {\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showPlayer = (index) => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const triggerChange = (changedValue)=>{\r\n    setIsPlayerVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    })\r\n  }\r\n  const handleSelectPlayer = (data)=>{\r\n    setData(data)\r\n    triggerChange(data)\r\n  }\r\n  return (\r\n    <>\r\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\r\n        preview={false} fallback=\"data:image/png;base64,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\"\r\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\r\n      </Image>\r\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\r\n          <Player onSelect={handleSelectPlayer}></Player>\r\n        </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SupportInput = ({ value = {}, onChange }) => {\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showSupport = (index) => {\r\n    setIsSupportVisible(true);\r\n  };\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const triggerChange = (changedValue)=>{\r\n    setIsSupportVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    })\r\n  }\r\n  const handleSelectSupport = (data)=>{\r\n    setData(data)\r\n    triggerChange(data)\r\n  }\r\n  return (\r\n    <>\r\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\r\n        preview={false} fallback=\"data:image/png;base64,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\"\r\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\r\n      </Image>\r\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\r\n          <Support onSelect={handleSelectSupport}></Support>\r\n        </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SearchOne = (props)=>{\r\n  return(\r\n    <Form.List name={props.name}>\r\n      {(fields, { add, remove }, { errors }) => (\r\n          <List>\r\n            {fields.map((field, index) => (\r\n                <Form.Item {...field} key={field.key}\r\n                  name={[field.name,'attr']}\r\n                  fieldKey={[field.fieldKey,'attr']}\r\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\r\n                      <Picker\r\n                        data={lists}\r\n                        title=\"\"\r\n                        cascade={false}\r\n                        extra=\"\"\r\n                        ><List.Item arrow=\"horizontal\">()</List.Item>\r\n                      </Picker>\r\n                </Form.Item>\r\n            ))}\r\n            <List.Item>\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => add()}\r\n                  icon={<PlusOutlined />}\r\n                  >\r\n                  \r\n                </Button>\r\n            </List.Item>\r\n          </List>\r\n        )}\r\n      </Form.List>\r\n  )\r\n}\r\nconst SearchForm = (props)=>{\r\n  const [form] = Form.useForm()\r\n\r\n  const onFinish = async (value)=>{\r\n    let formData = {attrs:[],levels:[]}\r\n    if(value['player0']){\r\n      formData.attrs.push('playerId-0')\r\n      formData.levels.push(value['player0'].id)\r\n    }\r\n    if(value['support']){\r\n      formData.attrs.push('supportId')\r\n      formData.levels.push(value['support'].id)\r\n    }\r\n    value.p1?.forEach(item=>{\r\n      formData.attrs.push(item.attr[0])\r\n      formData.levels.push(item.attr[1])\r\n    })\r\n\r\n    props.search(formData)\r\n  }\r\n  const onReset = ()=>{\r\n    form.resetFields();\r\n  }\r\n  return(\r\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\r\n      <SearchOne name='p1'></SearchOne>\r\n      <Flex align='start'>\r\n        <Flex.Item>\r\n          <p></p>\r\n          <Form.Item name={`player0`}>\r\n              <PlayerInput></PlayerInput>\r\n          </Form.Item>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <p></p>\r\n          <Form.Item name={'support'}>\r\n            <SupportInput></SupportInput>\r\n          </Form.Item>\r\n        </Flex.Item>\r\n        <Flex.Item>\r\n          <p></p>\r\n          <Form.Item name={'supportLevel'} initialValue={0}>\r\n            <Rate count={4} />\r\n          </Form.Item>\r\n        </Flex.Item>\r\n      </Flex>\r\n      <Flex justify='end'>\r\n        <Form.Item>\r\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\r\n            \r\n          </Button>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            \r\n          </Button>\r\n        </Form.Item>\r\n      </Flex>\r\n    </Form>\r\n  )\r\n}\r\nconst PlayerImage = (props)=>{\r\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\r\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\r\n        width={80}  preview={false}></Image>\r\n}\r\nconst SupportImage = (props)=>{\r\n  let support = db.get('supports').find({id:props.id}).value()\r\n  let imgUrl = ''\r\n  if(support){\r\n    imgUrl =  support.imgUrl\r\n  }\r\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\r\n        width={80} preview={false}></Image>\r\n}\r\n\r\nconst Seed = ()=>{\r\n  const SeedCard = (props) =>{\r\n    const data = props.data\r\n    return (\r\n      <Card>\r\n        <Flex>\r\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\r\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('')}>\r\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\r\n            </CopyToClipboard>\r\n        </Flex>\r\n        <Flex>\r\n          <Flex.Item>\r\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\r\n            <SupportImage id={data['supportId']}></SupportImage>\r\n            <Flex align='middle'>\r\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\r\n              <p>{data.likes?data.likes.length:0}</p>\r\n            </Flex>\r\n            <Flex align='middle'>\r\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\r\n              <p>{data.dislikes?data.dislikes.length:0}</p>\r\n            </Flex>\r\n          </Flex.Item>\r\n          <Flex.Item>\r\n            <p>{`${blueLabels[data['blue-0']]}: ${data['blueLevel-0']}`}</p>\r\n            <p>{`${redLabels[data['red-0']]}: ${data['redLevel-0']}`}</p>\r\n            {Object.keys(blueLabels).map(key=>\r\n            data[key]?<p key={key}>{` ${blueLabels[key]}: ${data[key]}`}</p>:null\r\n            )}\r\n            {Object.keys(redLabels).map(key=>\r\n            data[key]?<p key={key}>{` ${redLabels[key]}: ${data[key]}`}</p>:null\r\n            )}\r\n            <p>{`: ${data['supportLevel']||0}`}</p>\r\n            <p></p>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const [seedList,setSeedList] = useState([])\r\n  const search = async (value)=>{\r\n    const res = await axios.post('https://urarawin.com/api/search',value)\r\n    if(res.data){\r\n      if(res.data.length){\r\n        setSeedList([...res.data])\r\n      }else{\r\n        message.info('')\r\n      }\r\n    }else{\r\n      message.info('')\r\n    }\r\n  }\r\n  const like = async (seed) =>{\r\n    if(!userId){\r\n      message.info('')\r\n      return\r\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\r\n      return\r\n    }\r\n    let id = seed.id\r\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\r\n    if(res.data){\r\n      message.info('')\r\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\r\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\r\n    }\r\n    setSeedList([...seedList])\r\n  }\r\n  const dislike = async (seed)=>{\r\n    if(!userId){\r\n      message.info('')\r\n      return\r\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\r\n      return\r\n    }\r\n    let id = seed.id\r\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\r\n    if(res.data){\r\n      message.info('')\r\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\r\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\r\n    }\r\n    setSeedList([...seedList])\r\n  }\r\n  return(\r\n  <>\r\n    <SearchForm search={search}></SearchForm>\r\n    <Divider></Divider>\r\n    <Flex wrap='wrap'>\r\n      {seedList.map(seed=>\r\n      <Flex.Item  key={seed.gameId}\r\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\r\n      >\r\n        <SeedCard data={seed}></SeedCard>\r\n      </Flex.Item>)}\r\n    </Flex>\r\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\r\n  </>\r\n  )\r\n}\r\nexport default Seed\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\r\n\r\nimport {Image,Button,Popover} from 'antd'\r\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\r\nimport 'antd-mobile/dist/antd-mobile.min.css';\r\n\r\nimport db from './db.js'\r\n\r\nimport Race from './pages/race.js'\r\nimport Player from './pages/player.js'\r\nimport Support from './pages/support.js'\r\nimport NurturingMO2 from './pages-mo/nurturing.js'\r\nimport Skill from './pages/skill.js'\r\nimport SeedMo from './pages-mo/seed.js'\r\n\r\nimport SupportDetail from './components/support-detail.js'\r\nimport PlayerDetail from './components/player-detail.js'\r\nimport {BuffList} from './components/buff.js'\r\n\r\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\nclass App1 extends React.Component {\r\n  state = {\r\n    open: false,\r\n    title:'urara win'\r\n  }\r\n\r\n  onOpenChange=()=>{\r\n    this.setState({open: !this.state.open})\r\n  }\r\n  onSelect = (label) => {\r\n    this.setState({title:label});\r\n    this.onOpenChange()\r\n  }\r\n  reload =()=>{\r\n    db.set('selected',{\r\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\r\n      player:{},\r\n      races:[]\r\n    }).write()\r\n    // db.set('myDecks',[]).write()\r\n  }\r\n  render() {\r\n    db.set('ua','mo').write();\r\n    const routers = [{path:'/',label:''},\r\n    {path:'/support',label:''},\r\n    {path:'/skill',label:''},\r\n    {path:'/race',label:''},\r\n    {path:'/nurturing2',label:'new'},\r\n    {path:'/seed',label:''}]\r\n    const linkList=(<List>\r\n      {routers.map(item=>\r\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\r\n          <List.Item >{item.label}</List.Item>\r\n        </Link>\r\n      )}\r\n\r\n      <List.Item style={{marginTop:200}}>\r\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\r\n      </List.Item>\r\n      <List.Item>\r\n      <Popover content={<Image src={cdnServer+'img/q.jpg'} width={300}></Image>}>\r\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\r\n          <Button placement=\"bottom\">QQ</Button>\r\n        </a>\r\n      </Popover>\r\n      </List.Item>\r\n      <List.Item>\r\n      <Popover content={<><Image src={cdnServer+'img/z.jpg'} width={200}></Image><p></p></>}>\r\n        <Button placement=\"bottom\"></Button>\r\n      </Popover>\r\n      </List.Item>\r\n      <List.Item>\r\n        <Button placement=\"bottom\" onClick={this.reload}></Button>\r\n      </List.Item>\r\n    </List>)\r\n\r\n    return (\r\n    <Router>\r\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\r\n      <Drawer\r\n        className=\"my-drawer\"\r\n        style={{\r\n          minHeight: document.documentElement.clientHeight,\r\n          position: 'relative',\r\n          overflow: 'auto',\r\n          WebkitOverflowScrolling: 'touch'}}\r\n        enableDragHandle={true}\r\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\r\n        // dragHandleStyle={{width:0}}\r\n        sidebar={linkList}\r\n        open={this.state.open}\r\n        onOpenChange={this.onOpenChange}\r\n      >\r\n          <Route exact path=\"/\" component={Player}/>\r\n          <Route path=\"/support\" component={Support}/>\r\n          <Route path=\"/skill\" component={Skill}/>\r\n          <Route path=\"/nurturing2\" component={NurturingMO2}/>\r\n          <Route path=\"/seed\" component={SeedMo}/>\r\n          <Route path=\"/race\" component={Race}/>\r\n          <Route path=\"/support-detail/:supportId\" component={SupportDetail}/>\r\n          <Route path=\"/player-detail/:id/:nur\" component={PlayerDetail}/>\r\n          <Route path=\"/buff\" component={BuffList}/>\r\n      </Drawer>\r\n    </Router>);\r\n  }\r\n}\r\nexport default App1\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\r\n\r\n// import './index.css'\r\n\r\n// import db from './db.js'\r\n// import EventList from './components/event-list.js'\r\n// import SkillList from './components/skill-list.js'\r\n\r\nimport AppPc from './app-pc'\r\nimport AppMo from './app-mo'\r\n// ua\r\nlet ua = {}\r\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\r\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\r\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\r\nua.mac = /Mac/.test(navigator.platform)\r\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\r\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\r\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\r\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\r\nua.chrome = !!chrome\r\nua.chrome_version = chrome && +chrome[1]\r\n// Is true for both iOS and iPadOS for convenience\r\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\r\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\r\nua.android = /Android \\d/.test(navigator.userAgent)\r\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\r\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nconsole.log(ua)\r\n\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\r\n\r\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\r\n\r\nconst App = ()=>{\r\n  return(\r\n    <>\r\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render((<App></App>),document.getElementById('root'),);\r\n"],"sourceRoot":""}