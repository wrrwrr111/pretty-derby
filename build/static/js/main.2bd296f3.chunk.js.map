{"version":3,"sources":["db.js","components/t.js","pages/race.js","components/event.js","components/effect.js","components/support-detail.js","components/skill-detail.js","components/race.js","components/player-detail.js","pages/player.js","pages/support.js","components/buff.js","pages/nurturing.js","pages/nurturing2.js","pages/skill.js","pages/seed.js","components/lan-button.js","components/intro.js","app-pc.js","pages-mo/nurturing.js","pages-mo/seed.js","app-mo.js","index.js"],"names":["adapter","LocalStorage","db","low","d","a","axios","get","res","console","log","data","set","write","value","jsonDB","players","supports","skills","events","updateTime","races","buffs","effects","0","1","2","3","4","5","player","lan","lanData","ZH","EN","JP","t","text","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","map","title","dataIndex","filters","onFilter","record","Race","props","dynamicTableHeight","React","useState","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","ua","EventList","eventList","find","pid","filter","event","choiceList","length","defaultActiveKey","TabPane","tab","EventBox","ChoiceItem","choice","ResultItem","result","gutter","className","span","trigger","content","placement","limits","getValue","effect","cur","indexOf","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","rarity","rowKey","getEffectMark","maxLevel","ok","10","15","20","25","30","35","40","TestEffectTable","effectCapsuleStyle","display","alignItems","flexDirection","margin","borderRadius","backgroundColor","borderStyle","borderWidth","borderColor","effectRightDivStyle","padding","width","effectNameStyle","fontSize","fontWeight","color","textShadow","overflow","whiteSpace","textOverflow","effectValueStyle","effectBoxStyle","justifyContent","state","selectingLevel","input","nodes","output","this","prevNode","level","i","upperNode","lowerNode","unique_effect","style","marginRight","lv","setState","marks","item","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","Component","cdnServer","SupportDetail","supportId","match","params","src","imgUrl","preview","charaName","skillList","trainingEventSkill","possessionSkill","message","SupportCard","history","useHistory","isModalVisible","setIsModalVisible","support","onClick","visible","onOk","onCancel","destroyOnClose","Search","allSkillList","orderBy","options","distance_type","running_style","phase_random","corner_random","straight_random","is_finalcorner","skillType","6","7","8","9","14","21","27","28","31","SkillList","skillId","usedInList","allSupportList","allPlayerList","SkillDetail","skill","supportList","flag","forEach","playerList","maxWidth","textAlign","describe","condition","ability","ability_time","cooldown","need_skill_point","sort","b","SkillButton","undefined","position","top","left","SkillCheckboxGroup","memo","Group","checkedValues","SkillCheckbox","skillChecked1","setSkillChecked1","skillChecked2","setSkillChecked2","checkboxGroupValues","setCheckedboxGroupValues","localStorage","getItem","setItem","parseInt","isOwn","setIsOwn","mySupports","mySkillList","Set","reduce","list","concat","checkOptions1","checkOptions2","onChange1","updateSkillList","filteredSkills","onChange2","useMemo","Object","entries","l","values","includes","some","phrase","onCheckboxGroupsChange","useCallback","groupName","tempSkillList","check2","check3","check1","flat","str","icon_id","rare","has","needId","onUpdate","checkOnly","gourpName","lineHeight","checked","curValue","placeholder","enterButton","size","onSearch","searchText","RaceTimeline","getDate","year","month","moment","getColor","curRace","raceList","Item","goal","filterRace","mode","paddingTop","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","keys","defaultValue","tmpObj","PlayerDetail","playerId","isNur","nur","PlayerItem","resizemode","AdaptBox","cellStyle","paddingLeft","headerCellStyle","adaptTextWrapperStyle","paddingRight","coloredGradeText","cellPadding","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerCard","cover","Meta","footer","Player","prevProps","justify","xxl","lg","sm","xs","defaultProps","CheckboxGroup","Support","changeChooseMode","chooseMode","showMode","changeShowMode","chosenList","splice","update","onSupportCheckboxChange","updateSupport","checkedList","onSkillCheckboxUpdate","eventIdList","tempList","eventId","JSON","stringify","checkOptions","headerStyle","headerTextStyle","maxHeight","overflowY","overflowX","BuffButton","BuffList","buff","Column","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","decks","setDecks","showPlayer","closePlayer","showSupport","closeSupport","saveDeck","deck","tmpDeck","imgUrls","supportsId","assign","shortid","generate","innerWidth","setWidth","dynamicContentHeight","dynamicCardHeight","dynamicRowHeight","layoutWithBlank","x","w","h","layoutWithoutBlank","originalLayout","layout","setLayout","panelStyle","headStyle","cursor","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","alt","filterCondition","tmpRaceList","f","tmpFilterRace","loadDeck","onConfirm","danger","remove","deleteDeck","autoHide","flex","background","newData","Skill","setSkillList","rareLabel","dynamicListHeight","userId","blueLabels","speed","stamina","power","guts","wisdom","redLabels","PlayerInput","setData","triggerChange","changedValue","fallback","SupportInput","SeedInput","useForm","form","seed","setSeed","onFinish","tmpSeed","formData","Date","getTime","post","success","info","children","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","List","fields","add","errors","field","md","fieldKey","validateTrigger","noStyle","icon","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","onCopy","shape","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","disabled","closeSeedInput","withRouter","code","setCode","flagStyle","location","reload","introV","stepsEnabled","setStepsEnabled","steps","element","intro","href","enabled","initialStep","onExit","onBeforeChange","nextStepIndex","onComplete","doneLabel","Header","Content","Footer","AppPc","document","getElementsByTagName","zIndex","theme","to","float","exact","path","component","Nurturing2","frameBorder","scrolling","target","rel","border","flexWrap","EditOutlined","lists","minWidth","cascade","arrow","SeedCard","gameId","wrap","App1","open","onOpenChange","linkList","marginTop","onLeftClick","minHeight","documentElement","clientHeight","WebkitOverflowScrolling","enableDragHandle","contentStyle","sidebar","NurturingMO2","SeedMo","ie_upto10","test","navigator","userAgent","ie_11up","exec","ie_edge","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","webkit_version","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2bd296f3.chunk.js","sourcesContent":["import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport axios from 'axios'\nimport jsonDB from './assert/db.json'\n\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/d')\n  console.log(res.data)\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\n\ndb.get('lan').value()==='zh'&&db.set('lan','cn').write()\ndb.get('lan').value()==='en'&&db.set('lan','us').write()\ndb.get('lan').value()||db.set('lan','cn').write()\n//\n\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport ZH from '../assert/cn.json'\nimport EN from '../assert/us.json'\nimport JP from '../assert/jp.json'\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\nconst lan = db.get('lan').value()||'cn'\nlet lanData = {}\nif(lan==='cn'){\n  lanData = ZH\n}else if(lan==='us'){\n  lanData = EN\n}else if(lan==='jp'){\n  lanData = JP\n}\nlet noTrans = {}\nconst t = (text,lan)=>{\n  if(lan==='cn'){\n    lanData = ZH\n  }else if(lan==='us'){\n    lanData = EN\n  }else if(lan==='jp'){\n    lanData = JP\n  }\n  let result = lanData[text]\n\n  // if(!result&&result!==\"\"){\n  //   noTrans[text]=\"\"\n  // }\n  // console.log(JSON.stringify(noTrans))\n\n  return result||text\n}\nexport  default t\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Table } from 'antd';\n\n // { name: '',\n  //   date: '2 5',\n  //   dateNum: 34,\n  //   class: '',\n  //   grade: 'G3',\n  //   place: '',\n  //   ground: '',\n\n  //   distance: '1400',\n  //   distanceType: '',\n  //   order: '' }\n  // { class: [ '', '', '', '' ],\n  // grade: [ 'OP', 'G3', 'Pre-OP', 'G2', 'G1' ],\n  // place: [ '', '', '', '', '', '', '', '', '', '', '' ],\n  // ground: [ '', '' ],\n  // distanceType: [ '', '', '', '' ],\n  // direction: [ '', '', '' ],\n  // side: [ null, '', '', '' ] }\n const filterList= { class:\n    [ { text: '/', value: '' },\n      { text: '/', value: '' },\n      { text: '&/', value: '' },\n      { text: '/', value: '' } ],\n   grade:\n   [\n      { text: 'Pre-OP', value: 'Pre-OP' },\n      { text: 'OP', value: 'OP' },\n      { text: 'G1', value: 'G1' },\n      { text: 'G2', value: 'G2' },\n      { text: 'G3', value: 'G3' }\n    ],\n   place:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   ground: [ { text: '', value: '' }, { text: '', value: '' } ],\n   distanceType:\n   [\n     { text: '', value: '' },\n     { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   direction:\n    [ { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ],\n   side:\n    [ { text: '', value: null },\n      { text: '', value: '' },\n      { text: '', value: '' },\n      { text: '', value: '' } ] }\n  const labels = [\"name\", \"date\", \"class\", \"grade\",\n                  \"place\", \"ground\", \"distance\",\n                  \"distanceType\", \"direction\", \"side\"]\n  const labelTextDict ={name:t(\"\"),date:t(\"\"),class:t(\"\"),grade:t(\"\"),place:t(\"\"),ground:t(\"\"),distance:t(\"\"),distanceType:t(\"\"),direction:t(\"\"),side:t(\"\")}\n  const getCorrespondingLabelText = (label)=>{\n      return labelTextDict[label]\n  }\n  const mediumLabels = [\"name\", \"date\", \"class\",\"grade\",\"ground\",\"distanceType\"]\n  const getColumns = (labels)=>{\n    return labels.map(label=> {\n      if(filterList['class']){\n        return {\n          title:getCorrespondingLabelText(label),\n          dataIndex:label,\n          filters:filterList[label],\n          onFilter: (value, record) => record[label] === value,\n        }\n      }else{\n        return{\n          title:getCorrespondingLabelText(label),\n          dataIndex:label\n        }\n      }\n    })\n  }\n\n\n\n  const Race = (props) =>{\n    const useViewport = () => {\n      // const [width, setWidth] = React.useState(window.innerWidth);\n      const [height,setHeight] = React.useState(window.innerHeight);\n      React.useEffect(() => {\n        const handleWindowResize = () => setHeight(window.innerHeight);\n        window.addEventListener(\"resize\", handleWindowResize);\n        return () => window.removeEventListener(\"resize\", handleWindowResize);\n      }, []);\n      console.log('currentWidth::',height);\n      return {height};\n    };\n\n    const dynamicTableHeight = useViewport().height -300;\n\n    const allRaceList = db.get('races').value().map((race,index)=>{\n                      race.key=index\n                      return race\n                    })\n    const [selectedRowKeys,setSelectedRowKeys] = useState([])\n    let columns = getColumns(labels)\n    if(props.type==='medium'){\n      columns = getColumns(mediumLabels)\n    }\n    const onSelectChange = (selectedRowKeys,selectedRows)=>{\n      let selected = {}\n      for(let race of selectedRows){\n        if(selected[race.dateNum]){\n          selected[race.dateNum].push(race.id)\n        }else{\n          selected[race.dateNum]=[race.id]\n        }\n      }\n      console.log(selected)\n      props.onSelect(selected)\n      setSelectedRowKeys(selectedRowKeys)\n    }\n    const rowSelection = {\n      selectedRowKeys,\n      onChange:onSelectChange\n    }\n    // \n    const onChange = (pagination, filters, sorter, extra) => {\n      props.onSelect([])\n      setSelectedRowKeys([])\n    }\n    return(\n      <div>\n      <Table rowSelection={props.onSelect?rowSelection:null} columns={columns}\n      dataSource={allRaceList} onChange={onChange} pagination={false} scroll={{y:dynamicTableHeight}}/>\n      </div>\n      )\n  }\n\nexport default Race\n","import React from 'react';\nimport db from '../db.js'\nimport t from './t.js'\nimport {Row,Col,Popover,Button,Tabs } from 'antd';\n\n\nconst ua = db.get('ua').value();\n\nconst EventList = (props)=>{\n  const eventIdList = props.eventList\n  const eventList = eventIdList.map(id=>db.get('events').find({id:id,pid:props.pid}).value())\n  if(props.type==='multi'){\n    return(<>\n        {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n      </>\n    )\n  }\n  return (\n    <>\n      <Tabs defaultActiveKey=\"1\">\n        <Tabs.TabPane tab={t('')} key=\"1\">\n          {/* <div style={{maxHeight:200,overflowY:'auto'}}> */}\n          <div>\n      {eventList.filter(event=>event.choiceList.length > 1).map(event=><EventBox key={event.id} event={event} ></EventBox>)}\n          </div>\n        </Tabs.TabPane>\n        <Tabs.TabPane tab={t('')} key=\"2\">\n        {eventList.filter(event=>event.choiceList.length <= 1).map(event=><EventBox key={event.id} event={event}></EventBox>)}\n        </Tabs.TabPane>\n      </Tabs>\n    </>\n  )\n}\nconst EventBox = (props)=>{\n  const ChoiceItem = props.event.choiceList.map((choice,index)=>{\n    const ResultItem = choice[1].map((result,index)=>\n      <p key={index}>{result}</p>\n    )\n    return(\n      <Row key={index} gutter={[8,8]} className=\"list-row\">\n        <Col span={12}>\n          <p>{choice[0]}</p>\n          <p>{t(choice[0])}</p>\n        </Col>\n        <Col span={12}>{ResultItem}</Col>\n      </Row>\n    )\n  })\n\n  return(\n    <Popover\n      trigger={ua==='mo'?'click':'hover'}\n      content={<>\n      <p>{t(props.event.name)}</p>\n      {ChoiceItem}\n    </>} title={props.event.name} placement={'bottom'}>\n      <Button className='event-button'>{props.event.name}</Button>\n    </Popover>\n  )\n}\n\nexport {EventList}\n","import React from 'react';\r\n// import {useState} from 'react';\r\nimport { Table, Popover, Slider, Row ,Col} from \"antd\";\r\n\r\nimport db from '../db.js'\r\nimport t from './t.js'\r\n\r\n\r\nconst ua = db.get('ua').value();\r\n// \"limit_lv5\": -1,\r\n// \"limit_lv10\": 5,\r\n// \"limit_lv15\": -1,\r\n// \"limit_lv20\": -1,\r\n// \"limit_lv25\": 35,\r\n// \"limit_lv30\": 35,\r\n// \"limit_lv35\": -1,\r\n// \"limit_lv40\": -1,\r\n// \"limit_lv45\": 50,\r\n// \"limit_lv50\": -1\r\nconst effects = db.get('effects').value()\r\nconst limits = [\r\n  \"init\",\r\n  \"limit_lv5\",\r\n  \"limit_lv10\",\r\n  \"limit_lv15\",\r\n  \"limit_lv20\",\r\n  \"limit_lv25\",\r\n  \"limit_lv30\",\r\n  \"limit_lv35\",\r\n  \"limit_lv40\",\r\n  \"limit_lv45\",\r\n  \"limit_lv50\"]\r\nconst getValue = (effect,cur) =>{\r\n  if(effect[cur]!==-1){\r\n    return effect[cur]\r\n  }else{\r\n    let index = limits.indexOf(cur)\r\n    let min = 0\r\n    let min_limit = \"init\"\r\n    let max = 0\r\n    let max_limit = \"limit_lv50\"\r\n    for(let limit of limits.slice(0,index)){\r\n      if(effect[limit]>min){\r\n        min = effect[limit]\r\n        min_limit = limit\r\n      }\r\n    }\r\n    for(let limit of limits.slice(index,limits.length)){\r\n      if(effect[limit]!==-1){\r\n        max = effect[limit]\r\n        max_limit = limit\r\n        break\r\n      }\r\n    }\r\n    // cur=40 lv35=40 lv40=-1 lv50=-1\r\n    if(max<=min || max - min === 1 || min === 0){\r\n      return min\r\n    }else{\r\n      // console.table({\r\n      //   name:effects[effect.type].name,\r\n      //   cname:t(effects[effect.type].name),\r\n      //   cur,min_limit,min,max_limit,max,\r\n      //   'max-min':max-min,\r\n      //   'max_limit - min_limit':limits.indexOf(max_limit)-limits.indexOf(min_limit),\r\n      //   'cur - min_limit':limits.indexOf(cur)-limits.indexOf(min_limit),\r\n      //   cur_value:min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit))\r\n      // })\r\n      return Math.floor(min+(max-min)*(limits.indexOf(cur)-limits.indexOf(min_limit))/(limits.indexOf(max_limit)-limits.indexOf(min_limit)))+`(${t('')})`\r\n    }\r\n  }\r\n}\r\nconst EffectTable = (props)=>{\r\n\r\n  const effects = db.get('effects').value()\r\n  let columns = [\r\n    {title:t(''),dataIndex:'type',key:'type',render:type=><Popover trigger={ua==='mo'?'click':'hover'} content={<>\r\n      <p>{effects[type].name}</p>\r\n      <p>{t(effects[type].name)}</p>\r\n      <p>{effects[type].description}</p>\r\n      <p>{t(effects[type].description)}</p>\r\n    </>}>\r\n      <p>{t(effects[type].name)}</p>\r\n    </Popover>},\r\n    {title:t(''),dataIndex:'init',key:'init',render:(text,record)=>getValue(record,'init')},\r\n    // {title:'lv5',dataIndex:'limit_lv5',key:'limit_lv5',render:(text,record)=>getValue(record,'limit_lv5')},\r\n    // {title:'lv10',dataIndex:'limit_lv10',key:'limit_lv10',render:(text,record)=>getValue(record,'limit_lv10')},\r\n    // {title:'lv15',dataIndex:'limit_lv15',key:'limit_lv15',render:(text,record)=>getValue(record,'limit_lv15')},\r\n    // {title:'lv20',dataIndex:'limit_lv20',key:'limit_lv20',render:(text,record)=>getValue(record,'limit_lv20')},\r\n    {title:'lv25',dataIndex:'limit_lv25',key:'limit_lv25',render:(text,record)=>getValue(record,'limit_lv25')},\r\n    {title:'lv30',dataIndex:'limit_lv30',key:'limit_lv30',render:(text,record)=>getValue(record,'limit_lv30')},\r\n    {title:'lv35',dataIndex:'limit_lv35',key:'limit_lv35',render:(text,record)=>getValue(record,'limit_lv35')},\r\n    {title:'lv40',dataIndex:'limit_lv40',key:'limit_lv40',render:(text,record)=>getValue(record,'limit_lv40')},\r\n    {title:'lv45',dataIndex:'limit_lv45',key:'limit_lv45',render:(text,record)=>getValue(record,'limit_lv45')},\r\n    {title:'lv50',dataIndex:'limit_lv50',key:'limit_lv50',render:(text,record)=>getValue(record,'limit_lv50')},\r\n      ]\r\n  if(props.rarity ===2 ){\r\n    columns = columns.slice(0,columns.length-1)\r\n  }else if(props.rarity === 1){\r\n    columns = columns.slice(0,columns.length-2)\r\n  }\r\n\r\n  return(<Table columns={columns} dataSource={props.effects} rowKey='type' pagination={false}></Table>)\r\n}\r\n\r\nconst getEffectMark = (maxLevel) =>{\r\n  let ok = {\r\n    1:'lv1',5:'lv5',10:'lv10',15:'lv15',20:'lv20',\r\n    25:'lv25',30:'lv30',35:'lv35',40:'lv40'\r\n  }\r\n  if(maxLevel>=45){\r\n    ok[45] = 'lv45'\r\n  }\r\n  if(maxLevel===50){\r\n    ok[50] = 'lv50'\r\n  }\r\n  return ok\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TestEffectTable extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.effects = db.get('effects').value();\r\n    let maxLevel = 1;\r\n    switch (props.rarity) {\r\n      case 1:\r\n        maxLevel = 40;\r\n        break;\r\n      case 2:\r\n        maxLevel = 45;\r\n        break;\r\n      case 3:\r\n        maxLevel = 50;\r\n        break;\r\n      default:\r\n        maxLevel = 1;\r\n    }\r\n\r\n    this.maxLevel = maxLevel;\r\n    this.state={\r\n      selectingLevel:maxLevel,\r\n    }\r\n  }\r\n\r\n  calc(data,input){\r\n    let nodes = [];\r\n    let output = 0;\r\n    const maxLevel = this.maxLevel;\r\n    let prevNode = {level:0,value:0};\r\n    for (let i = 0; i<data.length;i += 1){\r\n      if(data[i] !== -1){\r\n        let level = i*5;\r\n        if (level === 0){\r\n          level = 1\r\n        }\r\n        nodes.push({level:level,value:data[i]})\r\n        prevNode = {level:level,value:data[i]};\r\n      }\r\n      if(i === data.length-1 && data[i] === -1){\r\n        nodes.push({level:maxLevel,value:prevNode.value})\r\n      }\r\n    }\r\n    nodes.push({level:999,value:prevNode.value}); // SSSR\r\n\r\n    const level = Math.floor(input);\r\n    let upperNode = {level:0,value:0};\r\n    let lowerNode = {level:0,value:0};\r\n    if(level < 0 || level > maxLevel){\r\n        output = 0;\r\n    }else if(level<nodes[0].level){\r\n        output = 0;\r\n    }else {\r\n      for(let i=0;i<nodes.length;i+=1){\r\n        if (level>=nodes[i].level && level < nodes[i+1].level){\r\n          lowerNode = nodes[i];\r\n          upperNode = nodes[i+1] || nodes[i];\r\n          break;\r\n        }\r\n      }\r\n      output = Math.floor((upperNode.value-lowerNode.value)/(upperNode.level-lowerNode.level)*(level-lowerNode.level)+lowerNode.value);\r\n    }\r\n\r\n    return output\r\n  }\r\n\r\n\r\n  effectCapsuleStyle = {\r\n    display:'flex',\r\n    alignItems:'center',\r\n    flexDirection:'row',\r\n    margin:2,\r\n    borderRadius:'12px',\r\n    backgroundColor:'#32cd32C0',\r\n    borderStyle:'solid',\r\n    borderWidth:'thin',\r\n    borderColor:'#32cd32F0'\r\n}\r\n\r\n    effectRightDivStyle={\r\n    padding:8,\r\n    display:'flex',\r\n    height:'100%',\r\n    width:'60%',\r\n    backgroundColor:'white',\r\n    borderRadius:'0 12px 12px 0',\r\n    }\r\n\r\n    effectNameStyle={\r\n      fontSize:18,\r\n      fontWeight: 500,\r\n      color:'#333333',\r\n      textShadow: \"0 2px #cccccc70\",\r\n      overflow: 'hidden',\r\n      whiteSpace: 'nowrap',\r\n      textOverflow: 'ellipsis',\r\n    }\r\n\r\n    effectValueStyle = {\r\n      fontSize:18,\r\n      fontWeight: 600,\r\n      color:'#333333',\r\n    }\r\n    effectBoxStyle = {\r\n      display:'flex',\r\n      flexDirection:'row',\r\n      alignItems:'center',\r\n      width:'100%',\r\n      padding:8,\r\n      justifyContent:'space-between'\r\n    }\r\n  render() {\r\n    return(\r\n      <div>\r\n        {this.props.unique_effect&&<>\r\n        <div style={{...this.effectBoxStyle}}>\r\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\r\n            {t('')}\r\n          </text>\r\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\r\n            {`${t('')}:${this.props.unique_effect.lv}`}\r\n          </text>\r\n        </div>\r\n        <Row>\r\n          {['0','1'].map(index=>\r\n            <Col span={12} key={index}>\r\n              <div style={{...this.effectCapsuleStyle}}>\r\n            <Popover trigger={ua==='mo'?'click':'hover'} content={<>\r\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].name}</p>\r\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].name)}</p>\r\n              <p>{this.effects[this.props.unique_effect[`type_${index}`]].description}</p>\r\n              <p>{t(this.effects[this.props.unique_effect[`type_${index}`]].description)}</p>\r\n            </>}>\r\n              <div style={{display:'flex',padding:8,width:'40%'}}>\r\n                <text style={{...this.effectNameStyle}}>\r\n                  {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\r\n                </text>\r\n              </div>\r\n            </Popover>\r\n                <div style={{...this.effectRightDivStyle}}>\r\n                  <text style={{...this.effectValueStyle}}>\r\n                  {this.props.unique_effect[`value_${index}`]}\r\n                  </text>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n        </>}\r\n\r\n        <div style={{...this.effectBoxStyle}}>\r\n          <text style={{...this.effectValueStyle,fontSize:18,marginRight:16}}>\r\n            {t('')}\r\n          </text>\r\n          <Slider\r\n            style={{width:'80%',marginRight:16}}\r\n            min={1}\r\n            max={this.maxLevel}\r\n            value={this.state.selectingLevel}\r\n            onChange={(value)=>{this.setState({selectingLevel:value})}}\r\n            marks={getEffectMark(this.maxLevel)}\r\n          />\r\n        </div>\r\n        <Row>\r\n          {this.props.effects.map(\r\n            (item,index)=>{\r\n              const data = [item.init,item.limit_lv5,item.limit_lv10,item.limit_lv15,item.limit_lv20,item.limit_lv25,item.limit_lv30,item.limit_lv35,item.limit_lv40,item.limit_lv45,item.limit_lv50].filter((item)=>(item));\r\n              return (\r\n                <Col span={12} key={index}>\r\n                  <div style={{...this.effectCapsuleStyle}}>\r\n                <Popover trigger={ua==='mo'?'click':'hover'} content={<>\r\n                  <p>{this.effects[item.type].name}</p>\r\n                  <p>{t(this.effects[item.type].name)}</p>\r\n                  <p>{this.effects[item.type].description}</p>\r\n                  <p>{t(this.effects[item.type].description)}</p>\r\n                </>}>\r\n                  <div style={{display:'flex',padding:8,width:'40%'}}>\r\n                    <text style={{...this.effectNameStyle}}>{t(this.effects[item.type].name)}</text>\r\n                  </div>\r\n                </Popover>\r\n                    <div style={{...this.effectRightDivStyle}}>\r\n                      <text style={{...this.effectValueStyle}}>\r\n                      {this.calc(data,this.state.selectingLevel)}\r\n                      </text>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n              )\r\n            }\r\n          )}\r\n          </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport {EffectTable,TestEffectTable}\r\n","import React,{useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport { Button, Divider, Image, Alert,Tooltip,Modal } from \"antd\";\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill-detail.js'\nimport {EffectTable,TestEffectTable} from './effect.js'\nconst ua = db.get('ua').value();\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nconst SupportDetail = (props) =>{\n  const id = props.supportId || props.match.params.supportId\n  const data = db.get('supports').find({id}).value()\n  return(<>\n    <div style={{display:'flex',alignItems:'center',justifyContent:'flex-start',height:192,padding:16}}>\n      <Image src={cdnServer+data.imgUrl} preview={false} width={128} />\n      <div style={{display:'flex',flexDirection:'column',justifyContent:'space-around',height:'100%',padding:16}}>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.name)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.name}</div>\n        <div style={{fontSize:20,fontWeight:700}}>{t(data.charaName)}</div>\n        <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{data.charaName}</div>\n      </div>\n    </div>\n    <EventList eventList={data.eventList} pid={data.id}></EventList>\n    <Divider style={{margin:'4px 0'}}>{t('')}</Divider>\n    <SkillList skillList={data.trainingEventSkill}></SkillList>\n    <Divider style={{margin:'4px 0'}}>{t('')}</Divider>\n    <SkillList skillList={data.possessionSkill}></SkillList>\n    <Divider>{t('')}</Divider>\n    <TestEffectTable effects={data.effects} unique_effect={data.unique_effect} rarity={data.rarity}></TestEffectTable>\n    <Alert message={t('')} type=\"info\" />\n    <EffectTable effects={data.effects} rarity={data.rarity}></EffectTable>\n  </>)\n}\nconst SupportCard = (props)=>{\n  const history = useHistory();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const support = props.data\n\n  const showSupportDetail = () => {\n    if(props.onSelect){\n      props.onSelect(props.data)\n    }else{\n      if(ua==='mo'){\n        history.push(`/support-detail/${support.id}`)\n      }else{\n        setIsModalVisible(true);\n      }\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Tooltip title={`${support.name}----${t(support.charaName)}`}>\n        <Image src={cdnServer+support.imgUrl} preview={false}  onClick={showSupportDetail} width={'100%'}></Image>\n      </Tooltip>\n\n      <Modal title={`${support.name}----${t(support.charaName)}`}\n            visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}\n            width={800} destroyOnClose={true}>\n        <SupportDetail supportId={support.id}></SupportDetail>\n      </Modal>\n    </>\n  )\n}\nexport {SupportDetail,SupportCard}\n\n","import React,{useEffect, useState} from 'react';\nimport {withRouter,useHistory,useLocation } from 'react-router-dom';\nimport db from '../db.js'\nimport { Row,Col,Popover,Button,Image,Checkbox,Divider,Input,Tooltip,Switch } from 'antd';\nimport t from './t.js'\nimport {SupportCard} from './support-detail.js'\nimport {PlayerCard} from './player-detail.js'\n\nconst Search = Input.Search\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst ua = db.get('ua').value();\nconst allSkillList = db.get('skills').orderBy('db_id').value()\n\nconst options = {\n  distance_type: [\n    { label:t(''), value:'1' },\n    { label:t(''), value:'2' },\n    { label:t(''), value:'3' },\n    { label:t(''), value:'4' },\n  ],\n  running_style: [\n    { label:t(''), value:'1' },\n    { label:t(''), value:'2' },\n    { label:t(''), value:'3' },\n    { label:t(''), value:'4' },\n    { label:t(''), value:'-1' },\n  ],\n  phase_random: [\n    { label:t(''), value:'0' },\n    { label:t(''), value:'1' },\n    { label:t(''), value:'2' },\n    { label:t(''), value:'3' },\n  ],\n  corner_random:[\n    { label:t(''), value:'1' },\n  ],\n  straight_random:[\n    { label:t(''), value:'1' },\n  ],\n  is_finalcorner:[\n    { label:t('/'), value:'1' },\n  ],\n  // is_finalcorner==1&corner==0\n}\nconst skillType={\n  1:'',\n  2:'',\n  3:'',\n  4:'',\n  5:'',\n  6:'',\n  7:'',\n  8:'',\n  9:'',\n  10:'',\n  14:'',\n  21:'',\n  27:'',\n  28:'',\n  31:'',\n}\n\nconst SkillList = (props)=>{\n  const skillList = props.skillList\n\n  return (\n    <Row gutter={0}>\n      {skillList.map((skillId,index)=>\n        <Col span={12} key={index}>\n          <SkillButton id={skillId} usedInList={true}>\n        </SkillButton>\n      </Col>)}\n    </Row>\n  )\n}\nconst allSupportList = db.get('supports').value()\nconst allPlayerList = db.get('players').value()\n\nconst SkillDetail = (props)=>{\n  const skill = props.skill||db.get('skills').find({id:props.match.params.id}).value()\n  const supportList = allSupportList.filter(support=>{\n    let flag = 0;\n    support.skillList.forEach(id=>{\n      if (id===skill.id){\n        flag = 1\n      }\n    })\n    return flag\n  })\n  const playerList = allPlayerList.filter(player=>{\n    let flag = 0;\n    player.skillList.forEach(id=>{\n      if (id===skill.id){\n        flag = 1\n      }\n    })\n    return flag\n  })\n\n  return <div style={{maxWidth:600,textAlign:'left'}}>\n  <Image src={cdnServer+skill.imgUrl} preview={false} width={52}></Image>\n  <p>{t('')+ ':  ' +t(skill.name)}</p>\n  <p>{t('')+ ' ' +skill.describe}</p>\n  <p>{t('')+ ' ' +t(skill.describe)}</p>\n  <p>{t('')+ ' ' +skill.condition}</p>\n  <p>{t('')+ ' ' +t(skill.condition)}</p>\n  {/* <p>{t('')+ ' ' +skill.ability_value/10000}</p> */}\n  <p>{`${t('')}\\xa0\n    ${skill.ability.map(ability=>skillType[ability.type]+' '+ability.value/10000)}`}</p>\n  <p>{`${t('')} ${skill.ability_time/10000}s*${t('')}/1000`}</p>\n  <p>{`${t('')} ${skill.cooldown/10000}s*${t('')}/1000`}</p>\n  <p>{`${t('')} ${skill.need_skill_point} Pt`}</p>\n  {/* <p> = ( / 100)%</p> */}\n  {/* <p> =  *  / 1000</p> */}\n  {/* <p> =  *  / 1000</p> */}\n  <Divider>{t('')}</Divider>\n  <Row>\n  {supportList.sort((a,b)=>b.rarity-a.rarity).map(support=>\n      <Col span={4} key={support.id}>\n        <SupportCard data={support}></SupportCard>\n      </Col>)\n    }\n  </Row>\n  <Divider>{t('')}</Divider>\n  <Row>\n  {playerList.sort((a,b)=>b.rarity-a.rarity).map(player=>\n      <Col span={4} key={player.id}>\n        <PlayerCard data={player}></PlayerCard>\n      </Col>)\n    }\n  </Row>\n  </div>\n}\nconst SkillButton = (props)=>{\n  const history = useHistory();\n  const skill = props.skill || db.get('skills').find({id:props.id}).value()\n\n  const toSkillDetail = (id)=>{\n    if(ua==='mo'){\n      history.push(`/skill-detail/${id}`)\n    }\n  }\n\n  const inListStyleOverride = {\n    borderRadius:'8px',\n    color:'#303030',\n    width:'96%',\n    justifyContent:'flex-start'\n  }\n  const skillNameStyle = {\n    width:`calc(96% - 34px)`,\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    textAlign:'justify'\n  }\n\n  return <Popover visible={ua==='mo'?false:undefined}\n    content={<SkillDetail skill={skill}></SkillDetail>}>\n    <Button type={'primary'} className={'skill-btn skill-btn-'+skill.rarity}\n    style={props.usedInList?{...inListStyleOverride}:{}} onClick={()=>toSkillDetail(skill.id)}>\n      <div style={props.usedInList?\n        {display:'flex',position:'absolute',top:4,left:8,width:'100%'}:{width:'100%'}}>\n      <Image src={cdnServer+skill.imgUrl} preview={false} width={26}></Image>\n      <div style={{...skillNameStyle}}>{`\\xa0\\xa0${skill.name}`}</div>\n      </div>\n    </Button>\n  </Popover>\n}\n\nconst SkillCheckboxGroup = React.memo((props) => {\n  const { options, name, value } = props;\n  const onChange = (checkedValues) => {\n    props.onChange(name, checkedValues);\n  }\n\n  return <Checkbox.Group options={options} value={value} onChange={onChange} />\n});\n\nconst SkillCheckbox = React.memo((props)=>{\n  const [skillChecked1, setSkillChecked1] = useState([]);\n  const [skillChecked2, setSkillChecked2] = useState([]);\n  const [checkboxGroupValues, setCheckedboxGroupValues] = useState({});\n  // init isOwn\n  localStorage.getItem('isOwn')===null&&localStorage.setItem('isOwn',0)\n  const [isOwn,setIsOwn] = useState(parseInt(localStorage.getItem('isOwn')))\n  const mySupports = db.get('mySupports').value()\n  const mySkillList = new Set(mySupports.reduce((list,supportId)=>{\n    let support = db.get('supports').find({id:supportId}).value()\n    return list.concat(support.skillList)\n  },[]))\n  const checkOptions1 =[\n    {label:'()',value:'10011'},\n    {label:'()',value:'10021'},\n    {label:'()',value:'10031'},\n    {label:'()',value:'10041'},\n    {label:'()',value:'10051'},\n    {label:'()',value:'20021'},\n    {label:'()',value:'20011'},\n    // {label:'20031',value:'20031'},\n    {label:'()',value:'20041'},\n    {label:'()',value:'20051'},\n    {label:'()',value:'20061'},\n    // {label:'20071',value:'20071'},\n    // {label:'20081',value:'20081'},\n    {label:'()',value:'20091'},\n    {label:'()',value:'30011'},\n    {label:'()',value:'30041'},\n    {label:'()',value:'30051'},\n    {label:'()',value:'30071'}\n  ]\n  const checkOptions2 = [\n    {label:t(''),value:''},\n    {label:t(''),value:''},\n    {label:t(''),value:''}\n  ]\n  const onChange1 = (checkedValues)=>{\n    setSkillChecked1(checkedValues)\n    updateSkillList(filteredSkills,checkedValues,skillChecked2,isOwn)\n  }\n  const onChange2 = (checkedValues)=>{\n    setSkillChecked2(checkedValues)\n    updateSkillList(filteredSkills,skillChecked1,checkedValues,isOwn)\n  }\n  const filteredSkills = React.useMemo(() => {\n    return Object.entries(checkboxGroupValues)\n      .reduce((l, [key, values]) =>\n        values.length > 0 ? (values.includes('-1') ? l.filter(skill => !skill.condition.includes(`${key}==`))\n          : l.filter(skill => {\n            switch(key) {\n              default:\n                return values.map(value => `${key}==${value}`)\n                              .some(phrase => skill.condition.includes(phrase));\n            }\n          }))\n        : l,\n      allSkillList)\n  }, [checkboxGroupValues, allSkillList])\n  useEffect(() => {\n    updateSkillList(filteredSkills,skillChecked1,skillChecked2,isOwn)\n  }, [filteredSkills]);\n\n  const onCheckboxGroupsChange = React.useCallback((groupName, checkedValues) => {\n    setCheckedboxGroupValues({ ...checkboxGroupValues, ...{ [groupName]: checkedValues } });\n  }, [checkboxGroupValues]);\n\n  const updateSkillList = (tempSkillList,check2,check3,isOwn)=>{\n    const check1 = Object.values(checkboxGroupValues).flat();\n    if(check2.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check2.forEach(value=>{\n          let str = skill.icon_id +''\n          if(str){\n            if(str[0] === value[0] && str[3] === value[3] ){\n              flag = 1\n            }\n          }\n        })\n        return flag\n      })\n    }\n    if(check3.length){\n      tempSkillList = tempSkillList.filter(skill=>{\n        let flag = 0;\n        check3.forEach(value=>{\n          if(skill.rare === value){\n            flag = 1\n          }\n        })\n        return flag\n      })\n    }\n    if(isOwn){\n      tempSkillList = tempSkillList.filter(skill=>{\n        return mySkillList.has(skill.id)\n      })\n    }\n    if(check1.length||check2.length||check3.length||isOwn){\n      tempSkillList.push({\n        id:'default'\n      })\n    }\n    if(props.needId){\n      tempSkillList = tempSkillList.reduce((list,skill)=>{\n        list.push(skill.id)\n        return list\n      },[])\n    }\n    props.onUpdate(tempSkillList)\n  }\n  const resetCheckbox=()=>{\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(allSkillList)\n  }\n  const changeMode = ()=>{\n    let curValue = 1-isOwn\n    localStorage.setItem('isOwn',curValue)\n    setIsOwn(curValue)\n    // console.log(curValue)\n    updateSkillList(filteredSkills,skillChecked1,skillChecked2,curValue)\n  }\n  const onSearch = (searchText) => {\n    const fullSkillList = allSkillList;\n    const tempSkillList = fullSkillList.filter(item => (item.name).indexOf(searchText) > -1);\n    setCheckedboxGroupValues({})\n    setSkillChecked1([])\n    setSkillChecked2([])\n    props.onUpdate(tempSkillList)\n  };\n  return(<>{props.checkOnly?\n    <>\n      { Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />) }\n      <Divider/>\n      <Checkbox.Group options={checkOptions1} value={skillChecked1} onChange={onChange1} />\n      <Divider/>\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </>\n    :\n    <div>\n        <div style={{height:16}}/>\n        <Button type={'danger'} onClick={resetCheckbox} style={{width:'100%'}}>{t('')}\n        </Button>\n        <Divider/>\n      <div>\n          <Tooltip title={t(\"\")}>\n          <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}>{t('')}</span>\n            <Switch checked={isOwn} onChange={changeMode} />\n          </Tooltip>\n      </div>\n      <span style={{ margin: '0 10px 0 0',lineHeight: '32px'}}>{t('')}</span>\n      <Search placeholder={t(\"\")} enterButton={t(\"\")} size=\"middle\"\n        style={{ width: '100%' }} onSearch={onSearch}/>\n      <Divider/>\n      { Object.entries(options).map(([gourpName, value]) => <SkillCheckboxGroup name={gourpName} value={checkboxGroupValues[gourpName]} options={value} onChange={onCheckboxGroupsChange} />) }\n      <Divider/>\n      <Checkbox.Group options={checkOptions1} value={skillChecked1} onChange={onChange1} />\n      <Divider/>\n      <Checkbox.Group options={checkOptions2} value={skillChecked2} onChange={onChange2} />\n    </div>}\n    </>\n  )\n})\n\n\nexport {SkillList,SkillButton,SkillCheckbox,SkillDetail}\n","import React from 'react';\nimport {useState} from 'react';\nimport db from '../db.js'\n\nimport { Row,Col,Timeline,Checkbox } from 'antd';\nimport { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\nimport { getTimeProps } from 'antd/lib/date-picker/generatePicker';\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst RaceSchedule = (props)=>{\n  // const races = db.get('races').value()\n  const str  = []\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    let moment = i%2?'':''\n    return `${year}${month}${moment}`\n  }\n  for (let i = 13;i<72;i++){\n    let curRace;\n    if(props.raceList&&props.raceList[i]){\n      curRace = db.get('races').find({id:props.raceList[i].id}).value()\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#ff6b81',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n        <br/>\n        {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n        {/* -{curRace.date} */}\n        </Col>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      str.push(<Col span={6} key={i}\n        style={{\n        backgroundColor:'#7bed9f',\n        border:'1px solid #2f3542',\n        whiteSpace:'pre-line'}}>\n        {getDate(i)}\n        <br/>\n        {props.filterRace[i].map(raceId=>{\n          let curRace = db.get('races').find({id:raceId}).value()\n          return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`\n\n        })}\n        </Col>)\n    }else{\n      str.push(<Col span={6} key={i}\n      style={{backgroundColor:'#a4b0be',border:'1px solid #2f3542'}}>\n        {getDate(i)}\n      </Col>)\n    }\n  }\n  return(<Row style={{color:'black'}}>\n    {str}\n  </Row>)\n}\n\n// \n// \n//    \n// \nconst RaceTimeline = React.memo((props)=>{\n  const str  = []\n\n  const getDate = (i)=>{\n    let year = Math.floor(i/24)+1\n    let month = Math.floor((i - (year-1)*24) /2)+1\n    month = month<10?`\\xa0\\xa0${month}`:month\n    let moment = i%2?'':''\n    return `${year}\\xa0${month}${moment}`\n  }\n  const getColor = (grade)=>{\n    switch(grade){\n      case 'G1':\n        return 'blue';\n      case 'G2':\n        return 'pink';\n      case 'G3':\n        return 'green';\n      default:\n        return 'orange'\n    }\n    // 'OP':\n  }\n\n\n  for (let i = 13;i<72;i++){\n    let curRace,id;\n    if(props.raceList&&props.raceList[i]){\n      id = props.raceList[i].id\n      curRace = db.get('races').find({id}).value()\n      str.push(<Timeline.Item label={getDate(i)} color=\"red\" style={{fontSize:'16px'}} key={id}>\n        {/* <b>{`${curRace.name} / ${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${props.raceList[i].goal}`}</b> */}\n        <b>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${props.raceList[i].goal||''}`}</b>\n      </Timeline.Item>)\n    }else if(props.filterRace&&props.filterRace[i]){\n      props.filterRace[i].forEach((id,index)=>{\n        curRace = db.get('races').find({id}).value()\n        str.push(<Timeline.Item label={index===0?getDate(i):null} color={getColor(curRace.grade)} key={id}>\n            {/* <p>{`${curRace.name} / ${curRace.grade} / ${curRace.distanceType} / ${curRace.distance}`}</p> */}\n            <p>{`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}`}</p>\n          </Timeline.Item>)\n\n      })\n    }else{\n      //\n    }\n  }\n  return(<Timeline mode='left' style={{paddingTop:8}}>\n    {str}\n  </Timeline>)\n})\nconst RaceCheckbox = (props) =>{\n  const [raceFilterCondition,setRaceFilterCondition] = useState(props.raceFilterCondition)\n\n  const filterList= {\n    distanceType:[\n      { label: '', value: '' },\n      { label: '', value: '' },\n      { label: '', value: '' },\n      { label: '', value: '' }\n    ],\n    grade:[\n      { label: 'Pre-OP', value: 'Pre-OP' },\n      { label: 'OP', value: 'OP' },\n      { label: 'G1', value: 'G1' },\n      { label: 'G2', value: 'G2' },\n      { label: 'G3', value: 'G3' }\n    ],\n    ground: [\n      { label: '', value: '' },\n      { label: '', value: '' }\n    ],\n\n  }\n  const onChange=(checkedValues,type)=>{\n    let tmpObj = {}\n    tmpObj[type]=checkedValues\n    console.log({...raceFilterCondition,...tmpObj})\n    props.onChange({...raceFilterCondition,...tmpObj})\n    setRaceFilterCondition({...raceFilterCondition,...tmpObj})\n  }\n  return (<>\n  {Object.keys(filterList)\n    .map(key=>\n      <div key={key}>\n        <Checkbox.Group options={filterList[key]} defaultValue={props.raceFilterCondition[key]} onChange={(checkedValues)=>onChange(checkedValues,key)}/>\n      </div>\n      )}\n  </>)\n}\nexport {RaceSchedule,RaceTimeline,RaceCheckbox}\n","import React,{useState} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport { Divider,Image,Card,Modal} from 'antd';\nimport db from '../db.js'\nimport t from './t.js'\n\nimport {EventList} from './event.js'\nimport {SkillList} from './skill-detail.js'\n// import RaceList from './player-race.js'\nimport {RaceSchedule,RaceTimeline} from '../components/race.js'\n// import {EffectTable} from './effect.js'\nconst ua = db.get('ua').value();\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\nconst PlayerDetail = (props) =>{\n  const id = props.playerId!==undefined?props.playerId:props.match.params.id\n  //  \n  const isNur = props.isNur!==undefined?props.isNur:parseInt(props.match.params.nur)\n  const data = db.get('players').find({id}).value()\n  const PlayerItem = () => <div style={{height:69,display:'flex'}}>\n    <Image src={cdnServer+data.imgUrl} width={63} height={69} resizemode={'cover'}></Image>\n    <div style={{display:'flex',height:64,flexDirection:'column',justifyContent:'space-between'}}>\n      <div style={{fontSize:20,fontWeight:700}}>{data.name}</div>\n      <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.name)}</div>\n      <div style={{fontSize:20,fontWeight:700}}>{data.charaName}</div>\n      <div style={{fontSize:20,fontWeight:700,color:'gray'}}>{t(data.charaName)}</div>\n    </div>\n  </div>\n  if(isNur){\n    return <>\n      <PlayerItem></PlayerItem>\n      <Divider></Divider>\n      <EventList eventList={data.eventList} pid={data.id} ></EventList>\n      <Divider></Divider>\n      {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n      <RaceTimeline raceList={data.raceList}></RaceTimeline>\n      <Divider></Divider>\n      <SkillList skillList={data.skillList}></SkillList>\n    </>\n  }else{\n    return <>\n    <PlayerItem></PlayerItem>\n    <Divider>{t(\"\")}</Divider>\n    <AdaptBox player={data}></AdaptBox>\n    <Divider>{t(\"\")}</Divider>\n    <GrowBox player={data}></GrowBox>\n    <Divider>{t(\"\")}</Divider>\n    <SkillList skillList={data.skillList}></SkillList>\n    <Divider>{t(\"\")}</Divider>\n    <EventList eventList={data.eventList} pid={data.id} ></EventList>\n    <Divider>{t(\"\")}</Divider>\n    {/* <RaceSchedule raceList={data.raceList}></RaceSchedule> */}\n    <RaceTimeline raceList={data.raceList}></RaceTimeline>\n  </>\n  }\n}\nconst AdaptBox = (props)=>{\n\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const adaptTextWrapperStyle = {paddingRight:16,display:'flex',width:'100%',alignItems:'center',justifyContent:'space-between'}\n\n  const coloredGradeText = (text)=>{\n    let color = 'gray';\n    switch (text) {\n      case 'S':\n        color = '#FFD700';\n        break\n      case 'A':\n        color = '#FFA500';\n        break\n      case 'B':\n        color = '#BA55D3';\n        break\n      case 'C':\n        color = '#90EE90';\n        break\n      case 'D':\n        color = '#87CEEB';\n        break\n      default:\n        color = 'gray'\n    }\n    return <div style={{fontSize:22,fontWeight:700,textShadow: \"0 2px #33333370\",color:color}}>{text}</div>\n  }\n  // {[`/\\xa0`,coloredGradeText(props.player.grass)]}\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\",fontWeight:700,fontSize:18}}>{t(\"\")}</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.grass)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.dirt)]}</div></td>\n            <td style={{ ...cellStyle }}>{`\\xa0`}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{`\\xa0`}</td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,fontWeight:700,fontSize:18}}>{t(\"\")}</td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.shortDistance)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.mile)]}</div></td>\n            <td style={{ ...cellStyle }}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.mediumDistance)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none solid none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.longDistance)]}</div></td>\n          </tr>\n          <tr>\n            <td style={{ ...headerCellStyle ,borderRadius:\"0 0 0 8px\",borderStyle:'none solid none none',fontWeight:700,fontSize:18}}>{t(\"\")}</td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.escape)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.leading)]}</div></td>\n            <td style={{ ...cellStyle ,borderStyle:'none solid none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.insert)]}</div></td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}><div style={adaptTextWrapperStyle}>{[`${t(\"\")}`,coloredGradeText(props.player.tracking)]}</div></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nconst GrowBox= (props)=>{\n  const tableStyle = {\n    width:\"100%\",\n    cellPadding:4,\n  }\n  const headerCellStyle = {\n    width:'20%',\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n    backgroundColor:'#32cd32C0',\n    borderWidth:'thin',\n    borderStyle:'none solid solid none',\n    borderColor:'gray',\n  }\n  const cellStyle = {\n    width:'20%',\n    height:'40px',\n    fontSize: 16,\n    textAlign: 'center',\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'none solid none none',\n    borderColor:'gray',\n  }\n\n  return(\n    <div style={{borderRadius:'8px',borderStyle:'solid',borderWidth:'thin',borderColor:'gray'}}>\n      <table {...tableStyle} >\n        <tbody>\n          <tr>\n            <th style={{ ...headerCellStyle ,borderRadius:\"8px 0 0 0\"}}>{t(\"\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"\")}</th>\n            <th style={{ ...headerCellStyle }}>{t(\"\")}</th>\n            <th style={{ ...headerCellStyle ,borderRadius:\"0 8px 0 0\",borderStyle:'none none solid none'}}>{t(\"\")}</th>\n          </tr>\n          <tr>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 0 8px\"}}>{props.player.speedGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.staminaGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.powerGrow}</td>\n            <td style={{ ...cellStyle }}>{props.player.gutsGrow}</td>\n            <td style={{ ...cellStyle ,borderRadius:\"0 0 8px 0\",borderStyle:'none none none none'}}>{props.player.wisdomGrow}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\nconst PlayerCard = (props)=>{\n  const history = useHistory();\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const player = props.data\n\n  const showPlayerDetail = () => {\n    if(props.onSelect){\n      props.onSelect(player)\n    }else{\n      if(ua==='mo'){\n        history.push(`/player-detail/${player.id}/0`)\n      }else{\n        setIsModalVisible(true);\n      }\n    }\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <>\n      <Card cover={\n        <Image src={cdnServer+player.imgUrl} preview={false} onClick={showPlayerDetail} width={'100%'}></Image>\n\n      }>\n        <Card.Meta title={t(player.name)} ></Card.Meta>\n        <Card.Meta title={t(player.charaName)} ></Card.Meta>\n      </Card>\n      <Modal visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} footer={null} width={800} >\n        <PlayerDetail playerId={player.id} isNur={false}></PlayerDetail>\n      </Modal>\n    </>\n  )\n}\nexport {PlayerDetail,PlayerCard}\n\n","import React,{useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Image,Modal,Checkbox,Card} from 'antd';\n\n\nimport {PlayerCard} from '../components/player-detail.js'\n// const CheckboxGroup = Checkbox.Group\n\n// todo \nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\n\n//todo filter\nclass Player extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {list:props.playerList}\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.playerList !== prevProps.playerList){\n      this.setState({list:this.props.playerList})\n    }\n  }\n  render(){\n    return(\n      <Row justify=\"space-around\">\n        <Col span={22}>\n          {\n            ['3','2','1'].map(rare=>{\n              let list = this.state.list.filter(item=>item.rare===rare)\n              return list.length?<Row gutter={[16,16]} key={rare}>\n              <Divider>{rare} {t('')}</Divider>\n              {this.state.list.filter(item=>item.rare===rare).map(player=>\n                <Col xxl={2} lg={3} sm={6} xs={6} key={player.id}>\n                  <PlayerCard data={player} onSelect={this.props.onSelect}></PlayerCard>\n                </Col>)\n              }\n            </Row>:null\n            })\n          }\n        </Col>\n      </Row>\n    )\n  }\n}\nPlayer.defaultProps={\n  playerList:db.get('players').value()\n}\n\nexport default Player\n","import React,{useState} from 'react';\nimport { Divider,Row,Col,Image,Modal,Button,Checkbox,Tooltip,Input} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\n\nimport {SupportCard} from '../components/support-detail.js'\nimport {SkillCheckbox, SkillList} from '../components/skill-detail.js'\nconst CheckboxGroup = Checkbox.Group\nconst Search = Input.Search\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\nclass Support extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      list:props.supportList,\n      chooseMode:false,\n      showMode:false,\n      chosenList:db.get('mySupports').value()||[],\n      checkedList:[],\n      skillList:[]}\n    this.effects = db.get('effects').value()\n    this.checkOptions = Object.keys(this.effects)\n      .map(key=>{return {label:t(this.effects[key].name),value:key}})\n  }\n  componentDidUpdate(prevProps){\n    if(this.props.supportList !== prevProps.supportList){\n      this.setState({list:this.props.supportList})\n    }\n  }\n  changeChooseMode=()=>{\n    this.setState({chooseMode:!this.state.chooseMode})\n    this.setState({showMode:!this.state.chooseMode})\n  }\n  changeShowMode=()=>{\n    this.setState({showMode:!this.state.showMode})\n  }\n  onSelect=(item)=>{\n    let index = this.state.chosenList.indexOf(item.id)\n    if (index === -1){\n      this.state.chosenList.push(item.id)\n    }else{\n      this.state.chosenList.splice(index,1)\n    }\n    db.update('mySupports',this.state.chosenList).write()\n    this.setState({})\n  }\n  onSupportCheckboxChange = (checkedValues)=>{\n    this.updateSupport(checkedValues,this.state.skillList)\n    this.setState({checkedList:checkedValues})\n  }\n\n  onSkillCheckboxUpdate=(skillList)=>{\n    this.updateSupport(this.state.checkedList,skillList)\n    // console.log(skillList)\n    this.setState({skillList:skillList})\n  }\n  updateSupport = (checkedValues,skillList,eventIdList=[])=>{\n    let tempList = this.props.supportList\n    if(checkedValues.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        checkedValues.forEach(value=>{\n          support.effects.forEach(effect=>{\n            if(effect.type == value){\n              flag += 1\n            }\n          })\n        })\n        return flag == checkedValues.length\n      })\n    }\n    if(skillList.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        support.skillList.forEach(skillId=>{\n          if(skillList.indexOf(skillId)!==-1){\n            return flag = 1;\n          }\n        })\n        return flag\n      })\n    }\n    if(eventIdList.length){\n      tempList = tempList.filter(support=>{\n        let flag = 0;\n        support.eventList.forEach(eventId=>{\n          if(eventIdList.indexOf(eventId)!==-1){\n            return flag = 1;\n          }\n        })\n        return flag\n      })\n    }\n    this.setState({list:tempList})\n  }\n\n  onSearch = (searchText) => {\n    const allEventList = db.get('events').value();\n    const eventIdList = allEventList.filter(event=>{\n      let jsonEvent = JSON.stringify(event)\n      if(jsonEvent.indexOf(searchText)!==-1){\n        return true\n      }else{\n        return false\n      }\n    }).reduce((list,event)=>{\n      list.push(event.id)\n      return list\n    },[])\n    this.updateSupport(this.state.checkedList,this.state.skillList,eventIdList)\n  };\n\n  render(){\n    const headerStyle = {\n      backgroundColor:'#1e90ffA0',\n      height:48,\n      borderRadius:5,\n      margin:1,\n      display:'flex',\n      alignItems:'center',\n      justifyContent:'center'\n    }\n    const headerTextStyle = {\n      fontSize: 18,\n      textAlign: 'center',\n      fontWeight: 600,\n      color:'#f5f5f5',\n      textShadow: \"0 2px #33333370\",\n    }\n    return (\n      <div style={{display:'flex',justifyContent:'center',paddingTop:4}}>\n        <div style={{maxWidth:1200,maxHeight:window.innerHeight-104}}>\n          <Row justify=\"space-around\">\n            {this.props.filter&&\n            <Col span={6}><div style={{...headerStyle}}>\n              <text style={{...headerTextStyle}}>{t('')}</text></div>\n            </Col>}\n            <Col span={18}>\n              <div style={{...headerStyle}}>\n                <text style={{...headerTextStyle}}>{t('')}</text>\n              </div>\n            </Col>\n            {this.props.filter&&\n            <Col span={6}>\n              <div style={{overflowY:'scroll',display:'flex',\n                flexDirection:'column',overflowX:'hidden',\n                maxHeight:window.innerHeight-104-78,padding:4}}>\n                  <Button onClick={this.changeShowMode}>{t('')}</Button>\n                  <Button onClick={this.changeChooseMode}>{t('')}</Button>\n                  {this.state.chooseMode && <Button onClick={this.changeChooseMode} type='primary'>{t('')}</Button>}\n                  <Search placeholder={t(\"\")} enterButton={t(\"\")} size=\"middle\"\n                    style={{ width: '100%' }} onSearch={this.onSearch}/>\n                  <Divider style={{margin:4}}>{t('')}</Divider>\n                  <SkillCheckbox onUpdate={this.onSkillCheckboxUpdate}\n                  checkOnly={true} needId={true}></SkillCheckbox>\n                  <Divider style={{margin:4}}>{t('')}</Divider>\n                  <CheckboxGroup options={this.checkOptions} value={this.state.checkedList}\n                    onChange={this.onSupportCheckboxChange} />\n              </div>\n            </Col>}\n\n\n            <Col span={18}>\n              <div style={{overflowY:'scroll',overflowX:'hidden',\n                maxHeight:window.innerHeight-104-78,paddingRight:16}}>\n                {\n                  ['SSR','SR','R'].map(rare=>{\n                    let list = this.state.list.filter(item=>item.rare===rare)\n                    return list.length?<Row gutter={[16,16]} key={rare}>\n                    <Divider>{rare}</Divider>\n                    {list.map(support=>\n                      <Col lg={4} xs={6} key={support.id}\n                          className={this.state.showMode&&this.state.chosenList.indexOf(support.id)===-1?'un-chosen-card':'chosen-card'}>\n                        <SupportCard data={support} onSelect={this.state.chooseMode?this.onSelect:this.props.onSelect}\n                                    chooseMode={this.props.chooseMode}></SupportCard>\n                      </Col>)}\n                    </Row>:null\n                  })\n                }\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nSupport.defaultProps={\n  supportList:db.get('supports').value(),\n  filter:true\n}\n\nexport default Support\n","import React from 'react';\n// import {useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport { List,Popover,Button } from 'antd';\n\nconst ua = db.get('ua').value();\n\nconst BuffButton = (props)=>{\n  return(\n    <Popover\n    trigger={ua==='mo'?'click':'hover'}\n    content={<BuffList></BuffList>}>\n      <Button>Buff</Button>\n    </Popover>\n  )\n}\nconst BuffList = (props)=>{\n  const buffs = db.get('buffs').value()\n  const cellStyle = {\n    // width:'20%',\n    height:'32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft:16,\n    fontWeight: 500,\n    borderWidth:'thin',\n    borderStyle:'solid solid solid solid',\n    borderColor:'gray',\n  }\n  return(\n    <table>\n      <tbody>\n      {buffs.map(buff=><tr key={buff.name}>\n        <td style={{...cellStyle}}>{t(buff.name)}</td>\n        <td style={{...cellStyle}}>{t(buff.describe)}</td>\n      </tr>)}\n      </tbody>\n    </table>\n    )\n}\nexport {BuffButton,BuffList}\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm} from 'antd';\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill-detail.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule,RaceTimeline} from '../components/race.js'\n\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\nconst {Column} = Table\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\n\nconst NurturingSupport = (props)=>{\n  return (\n    <Row>\n          <Col span={4}>\n            <img src={cdnServer+props.data.imgUrl} alt={props.data.name} width={'100%'}></img>\n          </Col>\n          <Col span={20}>\n            {/* <SkillList skillList={props.data.skillList} ></SkillList> */}\n            <Divider style={{margin:'4 0'}}></Divider>\n            <SkillList skillList={props.data.possessionSkill}></SkillList>\n            <Divider style={{margin:'4 0'}}></Divider>\n            <SkillList skillList={props.data.trainingEventSkill}></SkillList>\n          </Col>\n          <Col span={24}>\n            <EventList eventList={props.data.eventList} pid={props.data.id}></EventList>\n          </Col>\n    </Row>\n  )\n}\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [filterRace,setFilterRace] = useState(selected.filterRace||[])\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n  const showRace = ()=>{\n    setNeedSelect(true)\n    setIsRaceVisible(true);\n  }\n  const closeRace = () => {\n    setIsRaceVisible(false);\n  };\n  const handleSelectRace = (data)=>{\n    setFilterRace(data);\n\n    // save\n    selected.filterRace = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].map(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.map((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    console.log('currentWidth::',height);\n    return {height};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  return(\n    <Row className='nurturing-box' gutter={[32,8]}>\n\n      <Col span={9} style={{height:dynamicContentHeight,overflowY:'auto'}}>\n        <Button type={'primary'} onClick={showPlayer}>{t('')}</Button>\n        <Button onClick={showSupport2}>{t('')}</Button>\n        <Button onClick={showRace}>{t('')}</Button>\n        <Popover width={'100%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}>{t('')}</Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('')}</Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n        }><Button>{t('')}</Button></Popover>\n        <BuffButton></BuffButton>\n        <Divider></Divider>\n        <Row>\n          <Col span={4}>\n            <img src={player.id?cdnServer+player.imgUrl:null} width='100%'></img>\n          </Col>\n          <Col span={20}>\n            <SkillList skillList={player.id?player.skillList:[]}></SkillList>\n          </Col>\n        </Row>\n        <Divider></Divider>\n      {player.id&&<>\n          <EventList eventList={player.eventList} pid={player.id}></EventList>\n          <Divider style={{margin:'4px 0'}}>{t('')}</Divider>\n          <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n        </>}\n      </Col>\n      <Col sm={15} xs={24}>\n        <Row gutter={[16,16]}>\n        {[0,1,2,3,4,5].map(index=>\n          <Col sm={8} xs={24} key={index}>\n            <Button onClick={()=>showSupport(index)}>{t('')}</Button>\n            {supports[index]&&supports[index].id &&<NurturingSupport data={supports[index]} ></NurturingSupport>}\n          </Col>\n        )}\n        </Row>\n      </Col>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n      <Modal visible={isRaceVisible} onOk={closeRace} onCancel={closeRace} width={'80%'}>\n        <Race onSelect={needSelect?handleSelectRace:null}></Race>\n      </Modal>\n    </Row>\n  )\n}\n\nexport default Nurturing\n","import React,{useState} from 'react';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Modal,Button,Drawer,Table, Popover,Popconfirm,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\nimport ScrollBars from 'react-custom-scrollbars'\n\nimport {EventList} from '../components/event.js'\nimport {SkillList} from '../components/skill-detail.js'\nimport {BuffButton} from '../components/buff.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\n\nimport GridLayout from 'react-grid-layout';\nimport 'react-grid-layout/css/styles.css'\nimport Race from './race.js'\nimport Player from './player.js'\nimport Support from './support.js'\n\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\n\nconst Nurturing = () =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n\n  // race checkbox\n  const onChangeRace = (filterCondition)=>{\n    setRaceFilterCondition(filterCondition)\n    //\n    let tmpRaceList = Object.values(filterCondition).some(f => f.length > 0)\n      ? Object.entries(filterCondition)\n        .filter(([key, filters]) => filters.length > 0)\n        .reduce((result, [key, filters]) => result.filter(race => filters.includes(race[key])), races)\n      : [];\n    // dataNum:[raceId]\n    let tmpFilterRace = {}\n      for(let race of tmpRaceList){\n        if(tmpFilterRace[race.dateNum]){\n          tmpFilterRace[race.dateNum].push(race.id)\n        }else{\n          tmpFilterRace[race.dateNum]=[race.id]\n        }\n      }\n    //state\n    setFilterRace(tmpFilterRace)\n    selected.raceFilterCondition = filterCondition\n    selected.filterRace = tmpFilterRace\n    db.get('selected').assign({...selected}).write()\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight)\n        setWidth(window.innerWidth)\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    // console.log('currentWidth::',height);\n    return {height,width};\n  };\n\n  const dynamicContentHeight = useViewport().height -128\n  // 0.3 0.5 \n  const dynamicCardHeight = Math.min(Math.floor(dynamicContentHeight / 2),Math.floor(useViewport().width * 0.3))\n  const dynamicCardWidth = Math.floor(dynamicCardHeight * 3 / 4)\n  const dynamicCardBoxWidth = dynamicCardWidth * 3\n\n  const dynamicRowHeight = Math.floor((useViewport().height -128-40)/18)\n\n  const layoutWithBlank=[\n    {i: 'a', x: 0, y: 0, w: 2, h: 2},\n    {i: 'b', x: 2, y: 0, w: 7, h: 2},\n    {i: 'c', x: 0, y: 2, w: 9, h: 7},\n    {i: 'd', x: 0, y: 10, w: 4, h: 7},\n    {i: 'e', x: 4, y: 10, w: 5, h: 7},\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    {i: 's0', x: 17, y: 0, w: 5, h: 8},\n    {i: 's1', x: 22, y: 0, w: 5, h: 8},\n    {i: 's2', x: 27, y: 0, w: 5, h: 8},\n    {i: 's3', x: 17, y: 9, w: 5, h: 8},\n    {i: 's4', x: 22, y: 9, w: 5, h: 8},\n    {i: 's5', x: 27, y: 9, w: 5, h: 8},\n  ]\n  const layoutWithoutBlank=[\n    {i: 'a', x: 0, y: 0, w: 2, h: 2},\n    {i: 'b', x: 2, y: 0, w: 9, h: 2},\n    {i: 'c', x: 0, y: 2, w: 11, h: 7},\n    {i: 'd', x: 0, y: 10, w: 5, h: 7},\n    {i: 'e', x: 5, y: 10, w: 6, h: 7},\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    {i: 's0', x: 11 , y: 0, w: 7, h: 8},\n    {i: 's1', x: 18, y: 0, w: 7, h: 8},\n    {i: 's2', x: 25, y: 0, w: 7, h: 8},\n    {i: 's3', x: 11, y: 9, w: 7, h: 8},\n    {i: 's4', x: 18, y: 9, w: 7, h: 8},\n    {i: 's5', x: 25, y: 9, w: 7, h: 8},\n  ]\n  const originalLayout = db.get('layout').value()||layoutWithoutBlank\n  const [layout,setLayout]=useState(originalLayout)\n  const onLayoutChange=(layout)=> {\n    /*eslint no-console: 0*/\n    db.set('layout',layout).write()\n    setLayout(layout)\n    // onLayoutChange(layout); // updates status display\n  }\n  const panelStyle = {\n    borderRadius:16,\n    backgroundColor:'white',\n  }\n  const headStyle = {\n    width:'100%',\n    textAlign:'center',\n    backgroundColor:'#ccc',\n    cursor:'move'\n  }\n  const pBodyStyle={\n    height:'calc(100% - 22px)'\n  }\n  return(<>\n    <GridLayout cols={32} layout={layout}\n    draggableCancel='.panel-title' draggableHandle='.panel-heading'\n      rowHeight={dynamicRowHeight} width={useViewport().width-10}\n      onLayoutChange={onLayoutChange}>\n\n      <div key='a' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('')}</div>\n          {player.id&&\n            <img src={cdnServer+player.imgUrl} alt={player.imgUrl}\n            style={{...pBodyStyle}}  onClick={showPlayer}>\n          </img>}\n      </div>\n      <div key='b' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('')}</div>\n        <Button className='add-player' type={'primary'} onClick={showPlayer}>{t('')}</Button>\n        <Button onClick={showSupport2}>{t('')}</Button>\n        <BuffButton/>\n        <Popover content={<RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>}>\n          <Button>{t('')}</Button>\n        </Popover>\n        <Popover width={'100%'} content={\n          <>\n                <Button onClick={()=>saveDeck()}>{t('')}</Button>\n                {decks.map(deck=>\n                  <Row key={deck.id}>\n                    {deck.imgUrls.map(imgUrl=>\n                      <Col span={3} key={imgUrl}>\n                        <img src={cdnServer+imgUrl} alt={imgUrl} width={'100'}></img>\n                      </Col>\n                    )}\n                    <Col span={3}>\n                      <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('')}</Button>\n                      <Popconfirm title={t(\"\")} onConfirm={()=>saveDeck(deck)}>\n                        <Button danger type=\"dashed\">{t('')}</Button>\n                      </Popconfirm>\n                      <Popconfirm title={t(\"\")} onConfirm={()=>deleteDeck(deck)}>\n                        <Button danger type=\"dashed\">{t('')}</Button>\n                      </Popconfirm>\n                    </Col>\n                  </Row>\n                )}\n              </>\n            }><Button>{t('')}</Button>\n        </Popover>\n        <Button onClick={()=>setLayout(layoutWithBlank)}>{t('()')}</Button>\n        <Button onClick={()=>setLayout(layoutWithoutBlank)}>{t('()')}</Button>\n      </div>\n      <div key='c'  style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <EventList eventList={player.eventList||[]} pid={player.id}></EventList>\n        </ScrollBars>\n      </div>\n      <div key='d' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <SkillList skillList={player.skillList||[]}></SkillList>\n        </ScrollBars>\n      </div>\n      <div key='e' style={{...panelStyle}}>\n        <div className='panel-heading' style={{...headStyle}}>{t('')}</div>\n        <ScrollBars autoHide={true} style={{...pBodyStyle}}>\n          <RaceTimeline raceList={player.raceList||[]} filterRace={filterRace}></RaceTimeline>\n        </ScrollBars>\n      </div>\n\n        {[0,1,2,3,4,5].map(index=>{\n          let support = supports[index];\n          if(support.id){\n            return(\n            <div key={`s${index}`} style={{...panelStyle}}>\n              <div className='panel-heading' style={{...headStyle}}>\n                <span className='panel-title' onClick={()=>showSupport(index)} style={{cursor:'pointer'}}>{t('')}</span>\n              </div>\n              <ScrollBars  autoHide={true} style={{...pBodyStyle}}>\n\n              <div style={{display:'flex'}}>\n                <img style={{width:'26%',height:'39%'}} src={cdnServer+support.imgUrl} alt={support.imgUrl}></img>\n                <div style={{flex:'1 1 auto'}}>\n                  {/* <Divider style={{margin:'4px 0',background:'rgba(255,255,255,0.6)'}}></Divider> */}\n                <EventList eventList={supports[index].eventList} pid={supports[index].id} ></EventList>\n                </div>\n\n              </div>\n                    {/* <SkillList skillList={[...new Set(supports[index].skillList)]} ></SkillList> */}\n                    <Divider style={{margin:'4px 0',background:'rgba(255,255,255,0.6)'}}>{t(\"\")}</Divider>\n                    <SkillList skillList={supports[index].possessionSkill}></SkillList>\n                    <Divider style={{margin:'4px 0',background:'rgba(255,255,255,0.6)'}}>{t(\"\")}</Divider>\n                    <SkillList skillList={supports[index].trainingEventSkill}></SkillList>\n              </ScrollBars>\n            </div>\n            )\n          }else{\n            return(\n              <div key={`s${index}`} style={{...panelStyle}}>\n                <Button onClick={()=>showSupport(index)}>{t('')}</Button>\n              </div>\n            )\n          }\n        })}\n\n    </GridLayout>\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null}></Support>\n      </Modal>\n    </>\n  )\n}\n\nexport default Nurturing\n\n\n","import React,{useState} from 'react';\nimport { Divider,Row,Col} from 'antd';\n\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nimport {SkillButton,SkillCheckbox} from '../components/skill-detail.js'\n// const { Search } = Input\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nconst ua = db.get('ua').value();\n\nconst Skill = (props) =>{\n  // \n  const allSkillList = db.get('skills').orderBy('db_id').value()\n\n  const [skillList,setSkillList] = useState(allSkillList)\n\n  // init supportMode\n  localStorage.getItem('supportMode')===null&&localStorage.setItem('supportMode',0)\n\n  const rareLabel={'':'','':' ','':''}\n\n  const headerStyle = {\n    backgroundColor:'#1e90ffA0',\n    height:48,\n    borderRadius:5,\n    margin:1,\n    display:'flex',\n    alignItems:'center',\n    justifyContent:'center'\n  }\n  const headerTextStyle = {\n    fontSize: 18,\n    textAlign: 'center',\n    fontWeight: 600,\n    color:'#f5f5f5',\n    textShadow: \"0 2px #33333370\",\n  }\n\n  const onSkillCheckboxUpdate = (skillList)=>{\n    setSkillList(skillList)\n  }\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height,setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return {height};\n  };\n\n  const dynamicListHeight = useViewport().height - 104 - 78;\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center',paddingTop:4}}>\n      <div style={{maxWidth:1200}}>\n        <Row>\n          <Col span={6}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('')}</text></div></Col>\n          <Col span={18}><div style={{...headerStyle}}><text style={{...headerTextStyle}}>{t('')}</text></div></Col>\n          <Col span={6}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',\n            display:'flex',flexDirection:'column'}}>\n              <SkillCheckbox onUpdate={onSkillCheckboxUpdate}></SkillCheckbox>\n            </div>\n          </Col>\n          <Col span={18}>\n            <div style={{height:dynamicListHeight,overflowY:'scroll',overflowX:'hidden'}}>\n              {['','',''].map(rare=>\n                <Row gutter={[8,8]} key={rare}>\n                  <Divider>{rareLabel[rare]}</Divider>\n                  { skillList.filter(item=>item.rare === rare).map(skill=>\n                    <Col  xxl={6} lg={8} sm={12} xs={12}>\n                      <SkillButton usedInList={true} skill={skill} key={skill.id}></SkillButton>\n                    </Col>\n                  )}\n                </Row>\n              )}\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  </>)\n}\n\nexport default Skill\n\n","import React, { useState } from \"react\";\r\nimport {\r\n  Row,\r\n  Alert,\r\n  Image,\r\n  Button,\r\n  Divider,\r\n  Table,\r\n  Modal,\r\n  Col,\r\n  Radio,\r\n  Rate,\r\n  Form,\r\n  Slider,\r\n  PageHeader,\r\n  Input,\r\n  Space,\r\n  Card,\r\n} from \"antd\";\r\nimport { message } from \"antd\";\r\n//test\r\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined } from \"@ant-design/icons\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nimport axios from \"axios\";\r\nimport db from \"../db.js\";\r\nimport t from \"../components/t.js\";\r\nimport \"./seed.css\";\r\n\r\nimport Player from \"./player.js\";\r\nimport Support from \"./support.js\";\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n// db.set('userId',null).write()\r\nlet userId = db.get(\"userId\").value();\r\n// console.log(userId)\r\n\r\n/*\r\nuserId \r\nid\r\nid\r\n - speed stamina power guts wisdom\r\n - grass dirt shortDistance mile mediumDistance longDistance\r\n        - escape leading insert tracking\r\n\r\nid\r\nid\r\n\r\ntotal blue\r\ntotal red\r\nwhite num\r\n*/\r\n// userId\r\n\r\nconst blueLabels = {\r\n  speed: \"\",\r\n  stamina: \"\",\r\n  power: \"\",\r\n  guts: \"\",\r\n  wisdom: \"\",\r\n};\r\nconst redLabels = {\r\n  grass: \"\",\r\n  dirt: \"\",\r\n  shortDistance: \"\",\r\n  mile: \"\",\r\n  mediumDistance: \"\",\r\n  longDistance: \"\",\r\n  escape: \"\",\r\n  leading: \"\",\r\n  insert: \"\",\r\n  tracking: \"\",\r\n};\r\n\r\nconst PlayerInput = ({ value = {}, onChange }) => {\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showPlayer = (index) => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsPlayerVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectPlayer = (data) => {\r\n    setData(data);\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <Image\r\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n        preview={false}\r\n        fallback=\"data:image/png;base64,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\"\r\n        width={80}\r\n        onClick={showPlayer}\r\n      ></Image>\r\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={\"80%\"}>\r\n        <Player onSelect={handleSelectPlayer}></Player>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SupportInput = ({ value = {}, onChange }) => {\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showSupport = (index) => {\r\n    setIsSupportVisible(true);\r\n  };\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsSupportVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectSupport = (data) => {\r\n    setData(data);\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <Image\r\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n        preview={false}\r\n        fallback=\"data:image/png;base64,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\"\r\n        width={80}\r\n        onClick={showSupport}\r\n      ></Image>\r\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={\"80%\"}>\r\n        <Support onSelect={handleSelectSupport}></Support>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SeedInput = (props) => {\r\n  const [form] = Form.useForm();\r\n  const [seed, setSeed] = useState({});\r\n\r\n  const onFinish = async (value) => {\r\n    let tmpSeed = seed;\r\n    tmpSeed = Object.assign({}, seed, value);\r\n    setSeed(tmpSeed);\r\n    // db.set('form',form).write()\r\n    // \r\n    const formData = { ...tmpSeed };\r\n    formData.userId = userId || db.get(\"userId\").value();\r\n    let updateTime = new Date().getTime();\r\n    formData.updateTime = updateTime;\r\n    formData[\"playerId-0\"] = value[\"player-0\"].id;\r\n    formData[\"playerId-1\"] = value[\"player-1\"].id;\r\n    formData[\"playerId-2\"] = value[\"player-2\"].id;\r\n    formData[\"supportId\"] = value[\"support\"].id;\r\n    delete formData[\"support\"];\r\n    delete formData[\"player-0\"];\r\n    delete formData[\"player-1\"];\r\n    delete formData[\"player-2\"];\r\n    // formData[formData['blue-0']]=formData['blueLevel-0']\r\n    // formData[formData['red-0']]=formData['redLevel-0']\r\n    let list = [\"0\", \"1\", \"2\"];\r\n    list.forEach((i) => {\r\n      //\r\n      if (formData[formData[`blue-${i}`]] !== undefined) {\r\n        formData[formData[`blue-${i}`]] += formData[`blueLevel-${i}`];\r\n      } else {\r\n        formData[formData[`blue-${i}`]] = formData[`blueLevel-${i}`];\r\n      }\r\n      //\r\n      if (formData[formData[`red-${i}`]] !== undefined) {\r\n        formData[formData[`red-${i}`]] += formData[`redLevel-${i}`];\r\n      } else {\r\n        formData[formData[`red-${i}`]] = formData[`redLevel-${i}`];\r\n      }\r\n      //\r\n      if (formData[\"white\"] !== undefined) {\r\n        formData[\"white\"] += formData[`whiteNum-${i}`];\r\n      } else {\r\n        formData[\"white\"] = formData[`whiteNum-${i}`];\r\n      }\r\n    });\r\n    const res = await axios.post(\"https://urarawin.com/api/add\", formData);\r\n    if (res.data && res.data.success) {\r\n      message.info(\"\");\r\n      props.onFinish();\r\n    } else {\r\n      message.info(\"\");\r\n    }\r\n  };\r\n  const list = [\"\", \"1\", \"2\"];\r\n\r\n  const getFields = () => {\r\n    const children = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      children.push(\r\n        <Col span={8} key={i}>\r\n          <PageHeader title={`${list[i]}`}></PageHeader>\r\n          <Row>\r\n            <Col span={6} offset={4}>\r\n              <Form.Item label=\"\" name={`player-${i}`} rules={[{ required: true }]}>\r\n                <PlayerInput></PlayerInput>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"\" name={`blue-${i}`} rules={[{ required: true }]}>\r\n            <Radio.Group>\r\n              <Radio.Button value={\"speed\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"stamina\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"power\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"guts\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"wisdom\"}>{\"\"}</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"\" name={`blueLevel-${i}`} rules={[{ required: true }]}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"\" name={`red-${i}`} rules={[{ required: true }]}>\r\n            <Radio.Group>\r\n              <Radio.Button value={\"grass\"}>{\"/\"}</Radio.Button>\r\n              <Radio.Button value={\"dirt\"}>{\"/\"}</Radio.Button>\r\n              <hr />\r\n              <Radio.Button value={\"shortDistance\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"mile\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"mediumDistance\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"longDistance\"}>{\"\"}</Radio.Button>\r\n              <hr />\r\n              <Radio.Button value={\"escape\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"leading\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"insert\"}>{\"\"}</Radio.Button>\r\n              <Radio.Button value={\"tracking\"}>{\"\"}</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"\" name={`redLevel-${i}`} rules={[{ required: true }]}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"\" name={`greenLevel-${i}`} initialValue={0}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"\" name={`whiteNum-${i}`} initialValue={0}>\r\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"}></Slider>\r\n          </Form.Item>\r\n        </Col>\r\n      );\r\n    }\r\n    return children;\r\n  };\r\n  return (\r\n    <Form name={\"\"} form={form} onFinish={onFinish}>\r\n      <Alert\r\n        message=\"  \"\r\n        type=\"info\"\r\n      ></Alert>\r\n      <Row gutter={24}>{getFields()}</Row>\r\n      <Row justify=\"end\">\r\n        <Col span={3}>\r\n          <Form.Item label=\"\" name={\"support\"} rules={[{ required: true }]}>\r\n            <SupportInput></SupportInput>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4} offset={1}>\r\n          <Form.Item label=\"\" name={\"supportLevel\"} initialValue={0}>\r\n            <Rate count={4} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4} offset={1}>\r\n          <Form.Item\r\n            label=\"id\"\r\n            name=\"gameId\"\r\n            rules={[\r\n              { required: true },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  console.log(\"!!!!\", value);\r\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(new Error(\"9id\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input placeholder=\"id\" style={{ width: \"100%\" }}></Input>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={2} offset={2}>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              \r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst SearchOne = (props) => {\r\n  return (\r\n    <Form.List name={props.name}>\r\n      {(fields, { add, remove }, { errors }) => (\r\n        <>\r\n          <Row>\r\n            {fields.map((field, index) => (\r\n              <Col key={field.key} lg={8} md={12} xs={24}>\r\n                  <Row>\r\n                    <Form.Item\r\n                      {...field}\r\n                      name={[field.name, \"attr\"]}\r\n                      fieldKey={[field.fieldKey, \"attr\"]}\r\n                      rules={[{ required: true }]}\r\n                      validateTrigger={[\"onChange\", \"onBlur\"]}\r\n                      noStyle\r\n                    >\r\n                      <Radio.Group>\r\n                        <Radio.Button value={\"speed\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"stamina\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"power\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"guts\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"wisdom\"}>{\"\"}</Radio.Button>\r\n                        <br />\r\n                        <Radio.Button value={\"grass\"}>{\"/\"}</Radio.Button>\r\n                        <Radio.Button value={\"dirt\"}>{\"/\"}</Radio.Button>\r\n                        <br />\r\n                        <Radio.Button value={\"shortDistance\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"mile\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"mediumDistance\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"longDistance\"}>{\"\"}</Radio.Button>\r\n                        <br />\r\n                        <Radio.Button value={\"escape\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"leading\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"insert\"}>{\"\"}</Radio.Button>\r\n                        <Radio.Button value={\"tracking\"}>{\"\"}</Radio.Button>\r\n                      </Radio.Group>\r\n                    </Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                    <Form.Item\r\n                      {...field}\r\n                      name={[field.name, \"level\"]}\r\n                      fieldKey={[field.fieldKey, \"level\"]}\r\n                      rules={[{ required: true }]}\r\n                    >\r\n                      <Rate count={props.max} />\r\n                    </Form.Item>\r\n                  </Row>\r\n                  <Col span={5}>\r\n                    <Button type=\"dashed\" onClick={() => remove(field.name)}>\r\n                      \r\n                    </Button>\r\n                  </Col>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Row justify=\"start\">\r\n            <Form.Item>\r\n              <Button\r\n                type=\"dashed\"\r\n                onClick={() => add()}\r\n                // style={{ width: '60%' }}\r\n                icon={<PlusOutlined />}\r\n              >\r\n                \r\n              </Button>\r\n\r\n              <Form.ErrorList errors={errors} />\r\n            </Form.Item>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </Form.List>\r\n  );\r\n};\r\n\r\nconst SearchForm = (props) => {\r\n  const [form] = Form.useForm();\r\n  const onFinish = async (value) => {\r\n    let formData = { attrs: [], levels: [] };\r\n    if (value[\"player0\"]) {\r\n      formData.attrs.push(\"playerId-0\");\r\n      formData.levels.push(value[\"player0\"].id);\r\n    }\r\n    if (value[\"supportLevel\"]) {\r\n      formData.attrs.push(\"supportLevel\");\r\n      formData.levels.push(value[\"supportLevel\"]);\r\n    }\r\n    if (value[\"support\"]) {\r\n      formData.attrs.push(\"supportId\");\r\n      formData.levels.push(value[\"support\"].id);\r\n    }\r\n    value.p0?.forEach((item) => {\r\n      if (blueLabels[item.attr]) {\r\n        formData[\"blue-0\"] = item.attr;\r\n        formData.attrs.push(\"blueLevel-0\");\r\n        formData.levels.push(item.level);\r\n      } else {\r\n        formData[\"red-0\"] = item.attr;\r\n        formData.attrs.push(\"redLevel-0\");\r\n        formData.levels.push(item.level);\r\n      }\r\n    });\r\n    value.p1?.forEach((item) => {\r\n      formData.attrs.push(item.attr);\r\n      formData.levels.push(item.level);\r\n    });\r\n\r\n    props.search(formData);\r\n  };\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n  return (\r\n    <Form name=\"\" form={form} onFinish={onFinish} className=\"seed-form\">\r\n      <Row>\r\n        <Form.Item label=\"\" name={`player0`}>\r\n          <PlayerInput></PlayerInput>\r\n        </Form.Item>\r\n      </Row>\r\n      <SearchOne name=\"p0\" max=\"3\"></SearchOne>\r\n      <div>:</div>\r\n      <SearchOne name=\"p1\" max=\"9\"></SearchOne>\r\n      <Row>\r\n        <Form.Item label=\"\" name={\"support\"}>\r\n          <SupportInput></SupportInput>\r\n        </Form.Item>\r\n        <Form.Item label=\"\" name={\"supportLevel\"} initialValue={0}>\r\n          <Rate count={4} />\r\n        </Form.Item>\r\n      </Row>\r\n      <Row justify=\"end\">\r\n        <Form.Item>\r\n          <Button htmlType=\"button\" onClick={() => onReset()}>\r\n            \r\n          </Button>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            \r\n          </Button>\r\n        </Form.Item>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst PlayerImage = (props) => {\r\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\r\n  return (\r\n    <Image\r\n      src={cdnServer + imgUrl}\r\n      fallback=\"data:image/png;base64,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\"\r\n      width={80}\r\n      preview={false}\r\n    ></Image>\r\n  );\r\n};\r\n\r\nconst SupportImage = (props) => {\r\n  let support = db.get(\"supports\").find({ id: props.id }).value();\r\n  let imgUrl = \"\";\r\n  if (support) {\r\n    imgUrl = support.imgUrl;\r\n  }\r\n  return (\r\n    <Image\r\n      src={cdnServer + imgUrl}\r\n      fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\r\n      width={80}\r\n      preview={false}\r\n    ></Image>\r\n  );\r\n};\r\n\r\nconst Seed = () => {\r\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\r\n  const [seedList, setSeedList] = useState([]);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"id\",\r\n      dataIndex: \"gameId\",\r\n      key: \"gameId\",\r\n      render: (text, seed) => (\r\n        <>\r\n          <Row>\r\n            <p>{text}</p>\r\n            <CopyToClipboard text={text} onCopy={() => message.info(\"\")}>\r\n              <Button shape=\"circle\" icon={<CopyOutlined />} />\r\n            </CopyToClipboard>\r\n          </Row>\r\n          <Row align=\"middle\">\r\n            <Button shape=\"circle\" icon={<SmileOutlined />} onClick={() => like(seed)} />\r\n            <p>{seed.likes ? seed.likes.length : 0}</p>\r\n          </Row>\r\n          <Row align=\"middle\">\r\n            <Button shape=\"circle\" icon={<FrownOutlined />} onClick={() => dislike(seed)} />\r\n            <p>{seed.dislikes ? seed.dislikes.length : 0}</p>\r\n          </Row>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"playerId-0\",\r\n      key: \"playerId-0\",\r\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"blue-0\",\r\n      key: \"blue-0\",\r\n      render: (text, record) => (\r\n        <Row>\r\n          <span className=\"rate-label\">{blueLabels[text]}</span>\r\n          <Rate count={3} value={record[\"blueLevel-0\"]} disabled></Rate>\r\n        </Row>\r\n      ),\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"red-0\",\r\n      key: \"red-0\",\r\n      render: (text, record) => (\r\n        <Row>\r\n          <span className=\"rate-label\">{redLabels[text]}</span>\r\n          <Rate count={3} value={record[\"redLevel-0\"]} disabled></Rate>\r\n        </Row>\r\n      ),\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"greenLevel-0\",\r\n      key: \"greenLevel-0\",\r\n      render: (text, record) => (\r\n        <Row>\r\n          <span className=\"rate-label\"></span>\r\n          <Rate count={3} value={record[\"greenLevel-0\"]} disabled></Rate>\r\n        </Row>\r\n      ),\r\n    },\r\n    {\r\n      title: \"1\",\r\n      dataIndex: \"playerId-1\",\r\n      key: \"playerId-1\",\r\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\r\n    },\r\n    {\r\n      title: \"2\",\r\n      dataIndex: \"playerId-2\",\r\n      key: \"playerId-2\",\r\n      render: (text) => <PlayerImage id={text}></PlayerImage>,\r\n    },\r\n    {\r\n      title: \"\",\r\n      key: \"allBlue\",\r\n      render: (text, record) =>\r\n        Object.keys(blueLabels).map((key) => {\r\n          if (record[key]) {\r\n            // console.log(key,record[key])\r\n            return (\r\n              <Row justify=\"space-between\" key={key}>\r\n                <Col>\r\n                  <span className=\"rate-label\">\r\n                    {blueLabels[key]}\r\n                    {record[key]}\r\n                  </span>\r\n                </Col>\r\n                <Col>\r\n                  <Rate count={record[key]} value={record[key]} disabled></Rate>\r\n                </Col>\r\n              </Row>\r\n            );\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n    },\r\n    {\r\n      title: \"\",\r\n      key: \"allRed\",\r\n      render: (text, record) =>\r\n        Object.keys(redLabels).map((key) => {\r\n          if (record[key]) {\r\n            return (\r\n              <Row justify=\"space-between\" key={key}>\r\n                <Col>\r\n                  <span className=\"rate-label\">\r\n                    {redLabels[key]}\r\n                    {record[key]}\r\n                  </span>\r\n                </Col>\r\n                <Col>\r\n                  <Rate count={record[key]} value={record[key]} disabled></Rate>\r\n                </Col>\r\n              </Row>\r\n            );\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n    },\r\n    { title: \"\", dataIndex: \"white\", key: \"white\", render: (text) => text },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"supportId\",\r\n      key: \"supportId\",\r\n      render: (text) => <SupportImage id={text}></SupportImage>,\r\n    },\r\n    {\r\n      title: \"\",\r\n      dataIndex: \"supportLevel\",\r\n      key: \"supportLevel\",\r\n      render: (text, record) => (\r\n        <Row>\r\n          <Rate count={4} value={record[\"supportLevel\"]} disabled></Rate>\r\n        </Row>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const showSeedInput = (index) => {\r\n    setIsSeedInputVisible(true);\r\n  };\r\n  const closeSeedInput = () => {\r\n    setIsSeedInputVisible(false);\r\n  };\r\n  const search = async (value) => {\r\n    const res = await axios.post(\"https://urarawin.com/api/search\", value);\r\n    if (res.data) {\r\n      if (res.data.length) {\r\n        setSeedList([...res.data]);\r\n      } else {\r\n        message.info(\"\");\r\n      }\r\n    } else {\r\n      message.info(\"\");\r\n    }\r\n  };\r\n  const like = async (seed) => {\r\n    if (!userId) {\r\n      message.info(\"\");\r\n      return;\r\n    } else if (seed.likes && seed.likes.indexOf(userId) !== -1) {\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/like\", { id, userId });\r\n    if (res.data) {\r\n      message.info(\"\");\r\n      seed.likes ? seed.likes.push(userId) : (seed.likes = [userId]);\r\n      seed.dislikes && seed.dislikes.splice(seed.dislikes.indexOf(userId), 1);\r\n    }\r\n    setSeedList([...seedList]);\r\n  };\r\n  const dislike = async (seed) => {\r\n    if (!userId) {\r\n      message.info(\"\");\r\n      return;\r\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/dislike\", { id, userId });\r\n    if (res.data) {\r\n      message.info(\"\");\r\n      seed.likes && seed.likes.splice(seed.likes.indexOf(userId), 1);\r\n      seed.dislikes ? seed.dislikes.push(userId) : (seed.dislikes = [userId]);\r\n    }\r\n    setSeedList([...seedList]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"seed-container\">\r\n        <Card className=\"card\" title=\"\">\r\n          <SearchForm search={search}></SearchForm>\r\n          <Button onClick={() => showSeedInput()}></Button>\r\n        </Card>\r\n        <Card className=\"card\" title=\"\">\r\n          <Table columns={columns} dataSource={seedList} pagination={false} rowKey={\"id\"} />\r\n        </Card>\r\n      </div>\r\n      <Modal\r\n        visible={isSeedInputVisible}\r\n        onOk={closeSeedInput}\r\n        onCancel={closeSeedInput}\r\n        footer={null}\r\n        width={\"80%\"}\r\n      >\r\n        <SeedInput onFinish={closeSeedInput}></SeedInput>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default Seed;\r\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\n\nimport db from '../db.js'\nimport {Button,Popover } from 'antd';\nimport t from './t.js';\nimport Flag from 'rc-national-flag'\n// import t from './t.js'\n\nconst ua = db.get('ua').value();\n\nconst LanButton = (props)=>{\n  let lan = db.get('lan').value()\n  const [code,setCode]= useState(lan||'cn')\n  console.log(code)\n  const changeToCn=()=>{\n    lan = 'cn'\n    db.set('lan','cn').write()\n    setCode('cn')\n    t('','cn')\n    window.location.reload(true)\n  }\n  const changeToUs=()=>{\n    lan = 'us'\n    db.set('lan','us').write()\n    setCode('us')\n    t('','us')\n    window.location.reload(true)\n  }\n  const changeToJp=()=>{\n    lan = 'jp'\n    db.set('lan','jp').write()\n    setCode('jp')\n    t('','jp')\n    window.location.reload(true)\n  }\n  const flagStyle={\n    width:40,\n    height:30,\n    margin:4\n  }\n  return(\n  <Popover content={<div style={{display:'flex'}}>\n  <Flag onClick={changeToCn} code={'cn'} style={{...flagStyle}}></Flag>\n  <Flag onClick={changeToUs} code={'us'} style={{...flagStyle}}></Flag>\n  <Flag onClick={changeToJp} code={'jp'} style={{...flagStyle}}></Flag>\n  </div>}>\n      <Flag code={code} style={{...flagStyle}}></Flag>\n  </Popover>\n  )\n}\n\nexport default withRouter(LanButton)\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport { Steps, Hints } from 'intro.js-react';\nimport 'intro.js/introjs.css';\nconst IntroIndex = (props)=>{\n  const introV = '0.0.1'\n  console.log(localStorage.getItem('introV'))\n  console.log(introV)\n  const [stepsEnabled,setStepsEnabled] = useState(localStorage.getItem('introV')!==introV);\n  const initialStep = 0;\n  const steps=[\n    {\n      title:'',\n      element:'.menu-player',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/'\n    },{\n      title:'',\n      element:'.menu-support',\n      intro:<>\n          <p></p>\n          <p></p>\n          <p></p>\n          <p></p>\n        </>,\n      href:'/support'\n    },{\n      title:'',\n      element:'.menu-skill',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/skill'\n    },{\n      title:'',\n      element:'.menu-race',\n      intro:<>\n        <p></p>\n      </>,\n      href:'/race'\n    },{\n      title:'',\n      element:'.menu-nurturing2',\n      intro:<>\n        <p></p>\n        <p></p>\n        <p></p>\n      </>,\n        href:'/nurturing2'\n    },{\n      title:'',\n      element:'.menu-seed',\n      intro:<>\n        <p></p>\n        <p></p>\n      </>,\n      href:'/seed'\n    },{\n      title:'',\n      element:'.reset-nur',\n      intro:<>\n      <p></p>\n      <p></p>\n    </>,\n    },{\n      title:'',\n      element:'.reset-intro',\n      intro:<>\n      <p></p>\n    </>,\n  }]\n\n  const onExit = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  const onBeforeChange = (nextStepIndex)=>{\n    steps[nextStepIndex].href&&props.history.push(steps[nextStepIndex].href)\n  }\n  const onComplete = ()=>{\n    localStorage.setItem('introV',introV)\n    setStepsEnabled(false)\n  }\n  return (\n    <Steps\n          enabled={stepsEnabled}\n          steps={steps}\n          initialStep={initialStep}\n          onExit={onExit}\n          onBeforeChange={onBeforeChange}\n          onComplete={onComplete}\n          options={{\n            doneLabel:'Done'\n          }}\n        />\n  )\n}\nexport default withRouter(IntroIndex)\n","import React,{useState} from 'react';\nimport { HashRouter as Router, Route ,Link } from 'react-router-dom';\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\nimport {Row,Col,Image,Layout,Menu,Button,Popover,Popconfirm} from 'antd'\nimport {message} from 'antd'\nimport 'antd/dist/antd.css';\nimport './index.css'\n\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport Nurturing from './pages/nurturing.js'\nimport Nurturing2 from './pages/nurturing2.js'\nimport Skill from './pages/skill.js'\nimport Seed from './pages/seed.js'\n\nimport LanButton from './components/lan-button'\nimport IntroIndex from './components/intro.js'\n\nconst { Header, Content, Footer } = Layout;\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst AppPc = ()=>{\n\n  const resetNur =()=>{\n    db.set('selected',{\n      supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n      player:{},\n      races:[]\n    }).write()\n    db.set('myDecks',[]).write()\n  }\n  const resetIntro = ()=>{\n    localStorage.setItem('introV',null)\n  }\n  db.set('ua','pc').write();\n  //overflow\n  const dom = document.getElementsByTagName(\"body\");\n  dom[0].style.overflowY = \"scroll\";\n\n  return (\n      // <UserAgentProvider ua={window.navigator.userAgent}>\n<Router>\n    <IntroIndex></IntroIndex>\n    <Layout className=\"layout\">\n    <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <Menu theme=\"dark\" mode=\"horizontal\">\n        <Menu.Item key=\"1\" className='menu-player'><Link to='/'>{t('')}</Link></Menu.Item>\n        <Menu.Item key=\"2\" className='menu-support'><Link to='/support'>{t('')}</Link></Menu.Item>\n        <Menu.Item key=\"3\" className='menu-skill'><Link to='/skill'>{t('')}</Link></Menu.Item>\n        <Menu.Item key=\"4\" className='menu-race'><Link to='/race'>{t('')}</Link></Menu.Item>\n        {/* <Menu.Item key=\"5\" className='menu-nurturing'><Link to='/nurturing'>{t('')}</Link></Menu.Item> */}\n        <Menu.Item key=\"7\" className='menu-nurturing2'><Link to='/nurturing2'>{t('')}</Link></Menu.Item>\n        <Menu.Item key=\"6\" className='menu-seed'><Link to='/seed'>{t('')}</Link></Menu.Item>\n        <LanButton style={{float:'right'}}></LanButton>\n      </Menu>\n    </Header>\n    <Content style={{ paddingTop:'64px'}} >\n      <CacheSwitch>\n        <CacheRoute exact path=\"/\" component={Player}/>\n        <CacheRoute path=\"/support\" component={Support}/>\n        <CacheRoute path=\"/skill\" component={Skill}/>\n        <CacheRoute path=\"/nurturing\" component={Nurturing2}/>\n        <CacheRoute path=\"/nurturing2\" component={Nurturing2}/>\n        <CacheRoute path=\"/seed\" component={Seed}/>\n        <CacheRoute path=\"/race\" component={Race}/>\n      </CacheSwitch>\n    </Content>\n  <Footer style={{padding:'12px'}}>\n    <Row gutter={[16,16]}>\n      <Col span={2}>\n        <Button className='reset-intro' placement=\"bottom\" onClick={resetIntro}>{t('')}</Button>\n      </Col>\n      <Col span={3}>\n        <Popconfirm title={t('')} onConfirm={resetNur}>\n          <Popover content={<p>{t('')}</p>}>\n            <Button className='reset-nur' placement=\"bottom\">{t('')}</Button>\n          </Popover>\n        </Popconfirm>\n      </Col>\n      <Col span={13}></Col>\n      <Col span={2}>\n        <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </Col>\n      <Col span={2}>\n      <Popover content={<><Image src={cdnServer+'img/q.jpg'} width={300}></Image><p>{t('')}</p></>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <img border=\"0\" src=\"//pub.idqqimg.com/wpa/images/group.png\" alt=\"   \" title=\"   \" />\n        </a>\n      </Popover>\n      </Col>\n      <Col span={2}>\n      <Popover content={<div style={{display:'flex'}}>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('')}</p>\n        </div>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/w.jpg'} width={200}></Image><p>{t('')}</p>\n        </div>\n      </div>}>\n          <Button placement=\"bottom\" style={{display:'flex'}}>\n            <Image src={cdnServer+'reimu.gif'} preview={false} width={24}></Image>\n            <div>{t('')}</div>\n          </Button>\n        </Popover>\n      </Col>\n    </Row>\n  </Footer>\n  </Layout>\n</Router>\n      // </UserAgentProvider>\n  )\n}\n\nexport default AppPc\n","import React,{useState} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport shortid from 'shortid'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport { Divider,Row,Col,Modal,Button, Popconfirm,Popover,Tooltip} from 'antd';\nimport {EditOutlined} from '@ant-design/icons'\n\n\n// import Race from './race.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nimport {RaceSchedule,RaceTimeline,RaceCheckbox} from '../components/race.js'\n\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\n\n\n\nconst Nurturing = (props) =>{\n  const [needSelect,setNeedSelect] = useState(false)\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = db.get('selected').value()\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const races = db.get('races').value()\n  const [raceFilterCondition,setRaceFilterCondition] = useState(selected.raceFilterCondition||{\n    distanceType:[],\n    grade:[],\n    ground:[]})\n  const [filterRace,setFilterRace] = useState(selected.filterRace||{})\n  const [decks,setDecks] = useState(db.get('myDecks').value())\n\n\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data)=>{\n    setIsPlayerVisible(false);\n    setPlayer(data)\n\n    // save\n    selected.player = data\n    db.get('selected').assign(selected).write()\n  }\n\n  const showSupport = (index) => {\n    setNeedSelect(true)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false)\n    setIsSupportVisible(true);\n    setSupportIndex(index)\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data)=>{\n    let newData= {}\n    newData[supportIndex] = data\n    setSupports(Object.assign({},supports,newData))\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data\n    db.get('selected').assign(selected).write()\n  }\n\n\n  // \n  const saveDeck = (deck)=>{\n    let tmpDeck = {\n      imgUrls:[],\n      supportsId:[],\n    }\n    if(player.id){\n      tmpDeck.playerId = player.id\n      tmpDeck.imgUrls.push(player.imgUrl)\n    }\n    [0,1,2,3,4,5].forEach(index=>{\n      if(supports[index]&&supports[index].id){\n        tmpDeck.imgUrls.push(supports[index].imgUrl)\n        tmpDeck.supportsId.push(supports[index].id)\n      }else{\n        tmpDeck.supportsId.push(null)\n      }\n    })\n    if(deck){\n      //update\n      db.get('myDecks').find({id:deck.id}).assign(tmpDeck).write()\n    }else{\n      //\n      tmpDeck.id = shortid.generate()\n      db.get('myDecks').push(tmpDeck).write()\n    }\n    setDecks([...db.get('myDecks').value()])\n  }\n  const loadDeck = (deck)=>{\n    selected.supports={0:{},1:{},2:{},3:{},4:{},5:{}}\n    selected.player={}\n    if(deck.playerId){\n      selected.player = db.get('players').find({id:deck.playerId}).value()\n    }\n    setPlayer(selected.player)\n    deck.supportsId.forEach((id,index)=>{\n      if(id){\n        selected.supports[index]=db.get('supports').find({id:id}).value()\n      }\n    })\n    setSupports({...selected.supports})\n    db.get('selected').assign(selected).write()\n  }\n  const deleteDeck = (deck)=>{\n    db.get('myDecks').remove({id:deck.id}).write()\n    setDecks([...db.get('myDecks').value()])\n  }\n// race checkbox\nconst onChangeRace = (filterCondition)=>{\n  setRaceFilterCondition(filterCondition)\n  //\n  let tmpRaceList = Object.values(filterCondition).some(f => f.length > 0)\n      ? Object.entries(filterCondition)\n        .filter(([key, filters]) => filters.length > 0)\n        .reduce((result, [key, filters]) => result.filter(race => filters.includes(race[key])), races)\n      : [];\n  // dataNum:[raceId]\n  let tmpFilterRace = {}\n    for(let race of tmpRaceList){\n      if(tmpFilterRace[race.dateNum]){\n        tmpFilterRace[race.dateNum].push(race.id)\n      }else{\n        tmpFilterRace[race.dateNum]=[race.id]\n      }\n    }\n  //state\n  setFilterRace(tmpFilterRace)\n  selected.raceFilterCondition = filterCondition\n  selected.filterRace = tmpFilterRace\n  db.get('selected').assign({...selected}).write()\n}\n\n  const toSupportDetail = (id)=>{\n    props.history.push(`/support-detail/${id}`)\n  }\n  const toPlayerDetail = (id)=>{\n    props.history.push(`/player-detail/${id}/1`)\n  }\n  const toBuffList = (id)=>{\n    props.history.push(`/buff`)\n  }\n\n  return(<>\n    <div style={{display:'flex',justifyContent:'center'}}>\n      {player.imgUrl&&\n        <img src={cdnServer+player.imgUrl} alt={player.imgUrl} width='128'\n          onClick={()=>toPlayerDetail(player.id)}></img>\n      }\n      <div style={{flex:'1 1 auto',flexWrap:'wrap',display:'flex',justifyContent:'center'}} >\n        <Button type={'primary'} onClick={showPlayer}>{t('')}</Button>\n        <Button onClick={showSupport2}>{t('')}</Button>\n        <Button onClick={toBuffList}>{t('BUFF')}</Button>\n        <Popover trigger='click' content={\n          <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition}></RaceCheckbox>\n        }>\n          <Button>{t('')}</Button>\n        </Popover>\n        <Popover trigger='click' width={'80%'} content={\n          <>\n            <Button onClick={()=>saveDeck()}>{t('')}</Button>\n            {decks.map(deck=>\n              <Row key={deck.id}>\n                {deck.imgUrls.map(imgUrl=>\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer+imgUrl} alt={imgUrl}  width={'100'}></img>\n                  </Col>\n                )}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={()=>loadDeck(deck)}>{t('')}</Button>\n                  <Popconfirm title=\"\" onConfirm={()=>saveDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('')}</Button>\n                  </Popconfirm>\n                  <Popconfirm title=\"\" onConfirm={()=>deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">{t('')}</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            )}\n          </>\n          }><Button>{t('')}</Button>\n        </Popover>\n      </div>\n    </div>\n\n\n        <Row justify=\"space-around\">\n        {[0,1,2,3,4,5].map(index=>\n          <Col span={7} key={index} style={{}}>\n            <Button icon={<EditOutlined />} onClick={()=>showSupport(index)}>{t('')}</Button>\n            {supports[index]&&supports[index].id&&\n              <img src={cdnServer+supports[index].imgUrl} alt={supports[index].name} width={'100%'}\n              onClick={()=>toSupportDetail(supports[index].id)}></img>\n            }\n          </Col>\n        )}\n        </Row>\n\n      <Divider></Divider>\n      <div style={{overflow:'auto',paddingTop:'10px',width:'100%',height:'400px'}}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace}></RaceTimeline>\n      </div>\n\n      <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} footer={null} width={'80%'}>\n        <Player onSelect={handleSelectPlayer}></Player>\n      </Modal>\n      <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} footer={null} width={'80%'}>\n        <Support onSelect={needSelect?handleSelectSupport:null} ></Support>\n      </Modal>\n  </>\n  )\n}\n\nexport default withRouter(Nurturing)\n\n\n","import React,{useState} from 'react';\n\nimport { Picker, List,Flex,Card } from 'antd-mobile';\n\nimport { Image,Button,Divider,Modal,Rate,Form} from 'antd';\nimport {message} from 'antd'\n//test\nimport {PlusOutlined,SmileOutlined,FrownOutlined,CopyOutlined } from '@ant-design/icons';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport axios from 'axios'\nimport db from '../db.js'\nimport t from '../components/t.js'\nimport Player from '../pages/player.js'\nimport Support from '../pages/support.js'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nlet userId = db.get('userId').value()\n\nconst blueLabels={\n  'speed':'',\n  'stamina':'',\n  'power':'',\n  'guts':'',\n  'wisdom':''\n}\nconst redLabels = {\n  'grass':'',\n  'dirt':'',\n  'shortDistance':'',\n  'mile':'',\n  'mediumDistance':'',\n  'longDistance':'',\n  'escape':'',\n  'leading':'',\n  'insert':'',\n  'tracking':''}\n\nconst lists = [\n  [\n    {value:'speed',label:t('')},\n    {value:'stamina',label:t('')},\n    {value:'power',label:t('')},\n    {value:'guts',label:t('')},\n    {value:'wisdom',label:t('')},\n    {value:'grass',label:t('')},\n    {value:'dirt',label:t('')},\n    {value:'shortDistance',label:t('')},\n    {value:'mile',label:t('')},\n    {value:'mediumDistance',label:t('')},\n    {value:'longDistance',label:t('')},\n    {value:'escape',label:t('')},\n    {value:'leading',label:t('')},\n    {value:'insert',label:t('')},\n    {value:'tracking',label:t('')}\n  ],[\n    {value:1,label:`1${t('')}`},\n    {value:2,label:`2${t('')}`},\n    {value:3,label:`3${t('')}`},\n    {value:4,label:`4${t('')}`},\n    {value:5,label:`5${t('')}`},\n    {value:6,label:`6${t('')}`},\n    {value:7,label:`7${t('')}`},\n    {value:8,label:`8${t('')}`},\n    {value:9,label:`9${t('')}`},\n  ]\n]\n\n\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectPlayer = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,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\"\n        width={'100%'} style={{minWidth:'100px'}} onClick={showPlayer}>\n      </Image>\n        <Modal visible={isPlayerVisible} onOk={closePlayer} onCancel={closePlayer} width={'80%'}>\n          <Player onSelect={handleSelectPlayer}></Player>\n        </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue)=>{\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    })\n  }\n  const handleSelectSupport = (data)=>{\n    setData(data)\n    triggerChange(data)\n  }\n  return (\n    <>\n      <Image src={data.imgUrl?cdnServer+data.imgUrl:''}\n        preview={false} fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n        width={'100%'} style={{minWidth:'100px'}}  onClick={showSupport}>\n      </Image>\n        <Modal visible={isSupportVisible} onOk={closeSupport} onCancel={closeSupport} width={'80%'}>\n          <Support onSelect={handleSelectSupport}></Support>\n        </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props)=>{\n  return(\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n          <List>\n            {fields.map((field, index) => (\n                <Form.Item {...field} key={field.key}\n                  name={[field.name,'attr']}\n                  fieldKey={[field.fieldKey,'attr']}\n                  rules={[{required: true}]} validateTrigger={['onChange', 'onBlur']} noStyle>\n                      <Picker\n                        data={lists}\n                        cascade={false}\n                        extra={t('')}\n                        ><List.Item arrow=\"horizontal\">{t('()')}</List.Item>\n                      </Picker>\n                </Form.Item>\n            ))}\n            <List.Item>\n                <Button\n                  type=\"dashed\"\n                  onClick={() => add()}\n                  icon={<PlusOutlined />}\n                  >\n                  {t('')}\n                </Button>\n            </List.Item>\n          </List>\n        )}\n      </Form.List>\n  )\n}\nconst SearchForm = (props)=>{\n  const [form] = Form.useForm()\n\n  const onFinish = async (value)=>{\n    let formData = {attrs:[],levels:[]}\n    if(value['player0']){\n      formData.attrs.push('playerId-0')\n      formData.levels.push(value['player0'].id)\n    }\n    if(value['support']){\n      formData.attrs.push('supportId')\n      formData.levels.push(value['support'].id)\n    }\n    value.p1?.forEach(item=>{\n      formData.attrs.push(item.attr[0])\n      formData.levels.push(item.attr[1])\n    })\n\n    props.search(formData)\n  }\n  const onReset = ()=>{\n    form.resetFields();\n  }\n  return(\n    <Form name='' form={form} onFinish={onFinish} className=\"seed-form\">\n      <SearchOne name='p1'></SearchOne>\n      <Flex align='start'>\n        <Flex.Item>\n          <p>{t('')}</p>\n          <Form.Item name={`player0`}>\n              <PlayerInput></PlayerInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('')}</p>\n          <Form.Item name={'support'}>\n            <SupportInput></SupportInput>\n          </Form.Item>\n        </Flex.Item>\n        <Flex.Item>\n          <p>{t('')}</p>\n          <Form.Item name={'supportLevel'} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Flex.Item>\n      </Flex>\n      <Flex justify='end'>\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={()=>onReset()}>\n            {t('')}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t('')}\n          </Button>\n        </Form.Item>\n      </Flex>\n    </Form>\n  )\n}\nconst PlayerImage = (props)=>{\n  let imgUrl =  db.get('players').find({id:props.id}).value().imgUrl\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80}  preview={false}></Image>\n}\nconst SupportImage = (props)=>{\n  let support = db.get('supports').find({id:props.id}).value()\n  let imgUrl = ''\n  if(support){\n    imgUrl =  support.imgUrl\n  }\n  return <Image src={cdnServer+imgUrl} fallback=\"data:image/png;base64,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\"\n        width={80} preview={false}></Image>\n}\n\nconst Seed = ()=>{\n  const SeedCard = (props) =>{\n    const data = props.data\n    return (\n      <Card>\n        <Flex>\n            <p style={{fontSize:'1.5em'}}>{data.gameId}</p>\n            <CopyToClipboard text={data.gameId} onCopy={()=>message.info('')}>\n              <Button shape=\"circle\" icon={<CopyOutlined />}/>\n            </CopyToClipboard>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <PlayerImage id={data['playerId-0']}></PlayerImage>\n            <SupportImage id={data['supportId']}></SupportImage>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<SmileOutlined />} onClick={()=>like(data)}/>\n              <p>{data.likes?data.likes.length:0}</p>\n            </Flex>\n            <Flex align='middle'>\n              <Button shape=\"circle\" icon={<FrownOutlined />} onClick={()=>dislike(data)}/>\n              <p>{data.dislikes?data.dislikes.length:0}</p>\n            </Flex>\n          </Flex.Item>\n          <Flex.Item>\n            <p>{`${t(blueLabels[data['blue-0']])}: ${data['blueLevel-0']}`}</p>\n            <p>{`${t(redLabels[data['red-0']])}: ${data['redLevel-0']}`}</p>\n            {Object.keys(blueLabels).map(key=>\n            data[key]?<p key={key}>{`${t('')} ${t(blueLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            {Object.keys(redLabels).map(key=>\n            data[key]?<p key={key}>{`${t('')} ${t(redLabels[key])}: ${data[key]}`}</p>:null\n            )}\n            <p>{`${t('')}: ${data['supportLevel']||0}`}</p>\n          </Flex.Item>\n        </Flex>\n      </Card>\n    )\n  }\n\n  const [seedList,setSeedList] = useState([])\n  const search = async (value)=>{\n    const res = await axios.post('https://urarawin.com/api/search',value)\n    if(res.data){\n      if(res.data.length){\n        setSeedList([...res.data])\n      }else{\n        message.info(t(''))\n      }\n    }else{\n      message.info(t(''))\n    }\n  }\n  const like = async (seed) =>{\n    if(!userId){\n      message.info(t(''))\n      return\n    }else if(seed.likes&&seed.likes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/like',{id,userId})\n    if(res.data){\n      message.info(t(''))\n      seed.likes?seed.likes.push(userId):seed.likes=[userId]\n      seed.dislikes&&seed.dislikes.splice(seed.dislikes.indexOf(userId),1)\n    }\n    setSeedList([...seedList])\n  }\n  const dislike = async (seed)=>{\n    if(!userId){\n      message.info(t(''))\n      return\n    }else if(seed.dislikes&&seed.dislikes.indexOf(userId)!==-1 ){\n      return\n    }\n    let id = seed.id\n    const res = await axios.post('https://urarawin.com/api/dislike',{id,userId})\n    if(res.data){\n      message.info(t(''))\n      seed.likes&&seed.likes.splice(seed.likes.indexOf(userId),1)\n      seed.dislikes?seed.dislikes.push(userId):seed.dislikes=[userId]\n    }\n    setSeedList([...seedList])\n  }\n  return(\n  <>\n    <SearchForm search={search}></SearchForm>\n    <Divider>{t('')}</Divider>\n    <Flex wrap='wrap'>\n      {seedList.map(seed=>\n      <Flex.Item  key={seed.gameId}\n        style={{width:'48%',flex:'0 0 auto',margin:0}}\n      >\n        <SeedCard data={seed}></SeedCard>\n      </Flex.Item>)}\n    </Flex>\n    {/* <Table columns={columns} dataSource={seedList} pagination={false} rowKey={'id'}/> */}\n  </>\n  )\n}\nexport default Seed\n","import React from 'react';\nimport { HashRouter as Router, Route ,Link} from 'react-router-dom';\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\nimport {Image,Button,Popover} from 'antd'\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\nimport 'antd-mobile/dist/antd-mobile.min.css';\n\nimport db from './db.js'\nimport t from './components/t.js'\n\nimport Race from './pages/race.js'\nimport Player from './pages/player.js'\nimport Support from './pages/support.js'\nimport NurturingMO2 from './pages-mo/nurturing.js'\nimport Skill from './pages/skill.js'\nimport SeedMo from './pages-mo/seed.js'\n\nimport {SupportDetail} from './components/support-detail.js'\nimport {PlayerDetail} from './components/player-detail.js'\nimport {SkillDetail} from './components/skill-detail.js'\nimport {BuffList} from './components/buff.js'\nimport LanButton from './components/lan-button'\nconst cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\nclass App1 extends React.Component {\n  state = {\n    open: false,\n    title:'urara win'\n  }\n\n  onOpenChange=()=>{\n    this.setState({open: !this.state.open})\n  }\n  onSelect = (label) => {\n    this.setState({title:label});\n    this.onOpenChange()\n  }\n  reload =()=>{\n    db.set('selected',{\n      supports:{1:{},2:{},3:{},4:{},5:{},6:{}},\n      player:{},\n      races:[]\n    }).write()\n    // db.set('myDecks',[]).write()\n  }\n  render() {\n    db.set('ua','mo').write();\n    const routers = [{path:'/',label:''},\n    {path:'/support',label:''},\n    {path:'/skill',label:''},\n    {path:'/race',label:''},\n    {path:'/nurturing2',label:''},\n    {path:'/seed',label:''}]\n    const linkList=(<List>\n      {routers.map(item=>\n        <Link to={item.path} key={item.path}  onClick={()=>this.onSelect(item.label)}>\n          <List.Item >{t(item.label)}</List.Item>\n        </Link>\n      )}\n\n      <List.Item style={{marginTop:200}}>\n      <iframe title=\"GitHub\" src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\" frameBorder=\"0\" scrolling=\"0\" width=\"160px\" height=\"30px\"></iframe>\n      </List.Item>\n      <List.Item>\n      <Popover content={<><Image src={cdnServer+'img/q.jpg'} width={300}></Image><p>{t('')}</p></>}>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\">\n          <Button placement=\"bottom\">{t('QQ')}</Button>\n        </a>\n      </Popover>\n      </List.Item>\n      <List.Item>\n      <Popover content={<div style={{display:'flex'}}>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/z.jpg'} width={200}></Image><p>{t('')}</p>\n        </div>\n        <div style={{margin:20}}>\n          <Image src={cdnServer+'img/w.jpg'} width={200}></Image><p>{t('')}</p>\n        </div>\n      </div>}>\n        <Button placement=\"bottom\">{t('')}</Button>\n      </Popover>\n      </List.Item>\n      <List.Item>\n        <Button placement=\"bottom\" onClick={this.reload}>{t('')}</Button>\n      </List.Item>\n      <List.Item>\n        <LanButton></LanButton>\n      </List.Item>\n    </List>)\n\n    return (\n    <Router>\n      <NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>{this.state.title}</NavBar>\n      <Drawer\n        className=\"my-drawer\"\n        style={{\n          minHeight: document.documentElement.clientHeight,\n          position: 'relative',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch'}}\n        enableDragHandle={true}\n        contentStyle={{ color: '#A6A6A6', textAlign: 'center',paddingTop:20}}\n        // dragHandleStyle={{width:0}}\n        sidebar={linkList}\n        open={this.state.open}\n        onOpenChange={this.onOpenChange}\n      >\n        <CacheSwitch>\n          <CacheRoute exact path=\"/\" component={Player}/>\n          <CacheRoute path=\"/support\" component={Support}/>\n          <CacheRoute path=\"/skill\" component={Skill}/>\n          <CacheRoute path=\"/nurturing2\" component={NurturingMO2}/>\n          <CacheRoute path=\"/seed\" component={SeedMo}/>\n          <CacheRoute path=\"/race\" component={Race}/>\n          <CacheRoute path=\"/support-detail/:supportId\" component={SupportDetail}/>\n          <CacheRoute path=\"/player-detail/:id/:nur\" component={PlayerDetail}/>\n          <CacheRoute path=\"/skill-detail/:id\" component={SkillDetail}/>\n          <CacheRoute path=\"/buff\" component={BuffList}/>\n        </CacheSwitch>\n      </Drawer>\n    </Router>);\n  }\n}\nexport default App1\n\n\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import { UserAgentProvider, UserAgent, withUserAgent } from 'react-ua';\r\n\r\n// import './index.css'\r\n\r\n// import db from './db.js'\r\n// import EventList from './components/event-list.js'\r\n// import SkillList from './components/skill-list.js'\r\n\r\nimport AppPc from './app-pc'\r\nimport AppMo from './app-mo'\r\n// ua\r\nlet ua = {}\r\nconst ie_upto10 = /MSIE \\d/.test(navigator.userAgent)\r\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\r\nconst ie_edge = /Edge\\/(\\d+)/.exec(navigator.userAgent)\r\nua.mac = /Mac/.test(navigator.platform)\r\nlet ie = ua.ie = !!(ie_upto10 || ie_11up || ie_edge)\r\nua.ie_version = ie_upto10 ? document.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : null\r\nua.gecko = !ie && /gecko\\/(\\d+)/i.test(navigator.userAgent)\r\nua.gecko_version = ua.gecko && +(/Firefox\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nlet chrome = !ie && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\r\nua.chrome = !!chrome\r\nua.chrome_version = chrome && +chrome[1]\r\n// Is true for both iOS and iPadOS for convenience\r\nua.safari = !ie && /Apple Computer/.test(navigator.vendor)\r\nua.ios = ua.safari && (/Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2)\r\nua.android = /Android \\d/.test(navigator.userAgent)\r\nua.webkit = \"webkitFontSmoothing\" in document.documentElement.style\r\nua.webkit_version = ua.webkit && +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1]\r\nconsole.log(ua)\r\n\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/'\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/dbd.json\r\n// https://purge.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/db.json\r\n\r\n// https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/raw/master/public/img/players/0uJ0iropRbr.png\r\n\r\nconst App = ()=>{\r\n  return(\r\n    <>\r\n    {ua.android||ua.ios?<AppMo></AppMo>:<AppPc></AppPc>}\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render((<App></App>),document.getElementById('root'),);\r\n"],"sourceRoot":""}